function Qu(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(r,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=s(l);fetch(l.href,a)}})();function Ku(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yc={exports:{}},zr={},vc={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var As=Symbol.for("react.element"),Xu=Symbol.for("react.portal"),Yu=Symbol.for("react.fragment"),Zu=Symbol.for("react.strict_mode"),Ju=Symbol.for("react.profiler"),em=Symbol.for("react.provider"),tm=Symbol.for("react.context"),nm=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),rm=Symbol.for("react.memo"),lm=Symbol.for("react.lazy"),Gi=Symbol.iterator;function am(e){return e===null||typeof e!="object"?null:(e=Gi&&e[Gi]||e["@@iterator"],typeof e=="function"?e:null)}var bc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jc=Object.assign,Nc={};function _n(e,t,s){this.props=e,this.context=t,this.refs=Nc,this.updater=s||bc}_n.prototype.isReactComponent={};_n.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wc(){}wc.prototype=_n.prototype;function Oa(e,t,s){this.props=e,this.context=t,this.refs=Nc,this.updater=s||bc}var $a=Oa.prototype=new wc;$a.constructor=Oa;jc($a,_n.prototype);$a.isPureReactComponent=!0;var qi=Array.isArray,Sc=Object.prototype.hasOwnProperty,za={current:null},kc={key:!0,ref:!0,__self:!0,__source:!0};function Cc(e,t,s){var r,l={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Sc.call(t,r)&&!kc.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=s;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:As,type:e,key:a,ref:i,props:l,_owner:za.current}}function im(e,t){return{$$typeof:As,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ba(e){return typeof e=="object"&&e!==null&&e.$$typeof===As}function om(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Wi=/\/+/g;function il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?om(""+e.key):t.toString(36)}function tr(e,t,s,r,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case As:case Xu:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+il(i,0):r,qi(l)?(s="",e!=null&&(s=e.replace(Wi,"$&/")+"/"),tr(l,t,s,"",function(u){return u})):l!=null&&(Ba(l)&&(l=im(l,s+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Wi,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",qi(e))for(var o=0;o<e.length;o++){a=e[o];var c=r+il(a,o);i+=tr(a,t,s,c,l)}else if(c=am(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=r+il(a,o++),i+=tr(a,t,s,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function _s(e,t,s){if(e==null)return e;var r=[],l=0;return tr(e,r,"","",function(a){return t.call(s,a,l++)}),r}function cm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},nr={transition:null},dm={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:nr,ReactCurrentOwner:za};function Ac(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:_s,forEach:function(e,t,s){_s(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return _s(e,function(){t++}),t},toArray:function(e){return _s(e,function(t){return t})||[]},only:function(e){if(!Ba(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=_n;z.Fragment=Yu;z.Profiler=Ju;z.PureComponent=Oa;z.StrictMode=Zu;z.Suspense=sm;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dm;z.act=Ac;z.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jc({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=za.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Sc.call(t,c)&&!kc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:As,type:e.type,key:l,ref:a,props:r,_owner:i}};z.createContext=function(e){return e={$$typeof:tm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:em,_context:e},e.Consumer=e};z.createElement=Cc;z.createFactory=function(e){var t=Cc.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:nm,render:e}};z.isValidElement=Ba;z.lazy=function(e){return{$$typeof:lm,_payload:{_status:-1,_result:e},_init:cm}};z.memo=function(e,t){return{$$typeof:rm,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=nr.transition;nr.transition={};try{e()}finally{nr.transition=t}};z.unstable_act=Ac;z.useCallback=function(e,t){return be.current.useCallback(e,t)};z.useContext=function(e){return be.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return be.current.useDeferredValue(e)};z.useEffect=function(e,t){return be.current.useEffect(e,t)};z.useId=function(){return be.current.useId()};z.useImperativeHandle=function(e,t,s){return be.current.useImperativeHandle(e,t,s)};z.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return be.current.useMemo(e,t)};z.useReducer=function(e,t,s){return be.current.useReducer(e,t,s)};z.useRef=function(e){return be.current.useRef(e)};z.useState=function(e){return be.current.useState(e)};z.useSyncExternalStore=function(e,t,s){return be.current.useSyncExternalStore(e,t,s)};z.useTransition=function(){return be.current.useTransition()};z.version="18.3.1";vc.exports=z;var j=vc.exports;const Pc=Ku(j),um=Qu({__proto__:null,default:Pc},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm=j,hm=Symbol.for("react.element"),xm=Symbol.for("react.fragment"),pm=Object.prototype.hasOwnProperty,fm=mm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gm={key:!0,ref:!0,__self:!0,__source:!0};function Tc(e,t,s){var r,l={},a=null,i=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)pm.call(t,r)&&!gm.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:hm,type:e,key:a,ref:i,props:l,_owner:fm.current}}zr.Fragment=xm;zr.jsx=Tc;zr.jsxs=Tc;yc.exports=zr;var n=yc.exports,Ol={},Ec={exports:{}},_e={},Lc={exports:{}},Mc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,E){var F=D.length;D.push(E);e:for(;0<F;){var J=F-1>>>1,le=D[J];if(0<l(le,E))D[J]=E,D[F]=le,F=J;else break e}}function s(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var E=D[0],F=D.pop();if(F!==E){D[0]=F;e:for(var J=0,le=D.length,Ds=le>>>1;J<Ds;){var zt=2*(J+1)-1,al=D[zt],Bt=zt+1,Is=D[Bt];if(0>l(al,F))Bt<le&&0>l(Is,al)?(D[J]=Is,D[Bt]=F,J=Bt):(D[J]=al,D[zt]=F,J=zt);else if(Bt<le&&0>l(Is,F))D[J]=Is,D[Bt]=F,J=Bt;else break e}}return E}function l(D,E){var F=D.sortIndex-E.sortIndex;return F!==0?F:D.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],x=1,g=null,f=3,y=!1,p=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(D){for(var E=s(u);E!==null;){if(E.callback===null)r(u);else if(E.startTime<=D)r(u),E.sortIndex=E.expirationTime,t(c,E);else break;E=s(u)}}function S(D){if(v=!1,m(D),!p)if(s(c)!==null)p=!0,Te(N);else{var E=s(u);E!==null&&fe(S,E.startTime-D)}}function N(D,E){p=!1,v&&(v=!1,h(w),w=-1),y=!0;var F=f;try{for(m(E),g=s(c);g!==null&&(!(g.expirationTime>E)||D&&!$());){var J=g.callback;if(typeof J=="function"){g.callback=null,f=g.priorityLevel;var le=J(g.expirationTime<=E);E=e.unstable_now(),typeof le=="function"?g.callback=le:g===s(c)&&r(c),m(E)}else r(c);g=s(c)}if(g!==null)var Ds=!0;else{var zt=s(u);zt!==null&&fe(S,zt.startTime-E),Ds=!1}return Ds}finally{g=null,f=F,y=!1}}var k=!1,C=null,w=-1,T=5,L=-1;function $(){return!(e.unstable_now()-L<T)}function A(){if(C!==null){var D=e.unstable_now();L=D;var E=!0;try{E=C(!0,D)}finally{E?U():(k=!1,C=null)}}else k=!1}var U;if(typeof d=="function")U=function(){d(A)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Pe=Ne.port2;Ne.port1.onmessage=A,U=function(){Pe.postMessage(null)}}else U=function(){b(A,0)};function Te(D){C=D,k||(k=!0,U())}function fe(D,E){w=b(function(){D(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){p||y||(p=!0,Te(N))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var E=3;break;default:E=f}var F=f;f=E;try{return D()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,E){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=f;f=D;try{return E()}finally{f=F}},e.unstable_scheduleCallback=function(D,E,F){var J=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?J+F:J):F=J,D){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=F+le,D={id:x++,callback:E,priorityLevel:D,startTime:F,expirationTime:le,sortIndex:-1},F>J?(D.sortIndex=F,t(u,D),s(c)===null&&D===s(u)&&(v?(h(w),w=-1):v=!0,fe(S,F-J))):(D.sortIndex=le,t(c,D),p||y||(p=!0,Te(N))),D},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(D){var E=f;return function(){var F=f;f=E;try{return D.apply(this,arguments)}finally{f=F}}}})(Mc);Lc.exports=Mc;var ym=Lc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=j,Ie=ym;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dc=new Set,os={};function ln(e,t){Pn(e,t),Pn(e+"Capture",t)}function Pn(e,t){for(os[e]=t,e=0;e<t.length;e++)Dc.add(t[e])}var ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$l=Object.prototype.hasOwnProperty,bm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hi={},Vi={};function jm(e){return $l.call(Vi,e)?!0:$l.call(Hi,e)?!1:bm.test(e)?Vi[e]=!0:(Hi[e]=!0,!1)}function Nm(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wm(e,t,s,r){if(t===null||typeof t>"u"||Nm(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function je(e,t,s,r,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){de[e]=new je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];de[t]=new je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){de[e]=new je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){de[e]=new je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){de[e]=new je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){de[e]=new je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){de[e]=new je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){de[e]=new je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){de[e]=new je(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ga=/[\-:]([a-z])/g;function qa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ga,qa);de[t]=new je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ga,qa);de[t]=new je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ga,qa);de[t]=new je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){de[e]=new je(e,1,!1,e.toLowerCase(),null,!1,!1)});de.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){de[e]=new je(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wa(e,t,s,r){var l=de.hasOwnProperty(t)?de[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wm(t,s,l,r)&&(s=null),r||l===null?jm(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):l.mustUseProperty?e[l.propertyName]=s===null?l.type===3?!1:"":s:(t=l.attributeName,r=l.attributeNamespace,s===null?e.removeAttribute(t):(l=l.type,s=l===3||l===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var ht=vm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rs=Symbol.for("react.element"),dn=Symbol.for("react.portal"),un=Symbol.for("react.fragment"),Ha=Symbol.for("react.strict_mode"),zl=Symbol.for("react.profiler"),Ic=Symbol.for("react.provider"),_c=Symbol.for("react.context"),Va=Symbol.for("react.forward_ref"),Bl=Symbol.for("react.suspense"),Gl=Symbol.for("react.suspense_list"),Qa=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),Rc=Symbol.for("react.offscreen"),Qi=Symbol.iterator;function $n(e){return e===null||typeof e!="object"?null:(e=Qi&&e[Qi]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,ol;function Kn(e){if(ol===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);ol=t&&t[1]||""}return`
`+ol+e}var cl=!1;function dl(e,t){if(!e||cl)return"";cl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=r.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{cl=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Kn(e):""}function Sm(e){switch(e.tag){case 5:return Kn(e.type);case 16:return Kn("Lazy");case 13:return Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 2:case 15:return e=dl(e.type,!1),e;case 11:return e=dl(e.type.render,!1),e;case 1:return e=dl(e.type,!0),e;default:return""}}function ql(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case un:return"Fragment";case dn:return"Portal";case zl:return"Profiler";case Ha:return"StrictMode";case Bl:return"Suspense";case Gl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _c:return(e.displayName||"Context")+".Consumer";case Ic:return(e._context.displayName||"Context")+".Provider";case Va:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qa:return t=e.displayName||null,t!==null?t:ql(e.type)||"Memo";case ft:t=e._payload,e=e._init;try{return ql(e(t))}catch{}}return null}function km(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ql(t);case 8:return t===Ha?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function It(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cm(e){var t=Fc(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fs(e){e._valueTracker||(e._valueTracker=Cm(e))}function Uc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=Fc(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function hr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wl(e,t){var s=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Ki(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=It(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Oc(e,t){t=t.checked,t!=null&&Wa(e,"checked",t,!1)}function Hl(e,t){Oc(e,t);var s=It(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vl(e,t.type,s):t.hasOwnProperty("defaultValue")&&Vl(e,t.type,It(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xi(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Vl(e,t,s){(t!=="number"||hr(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Xn=Array.isArray;function Nn(e,t,s,r){if(e=e.options,t){t={};for(var l=0;l<s.length;l++)t["$"+s[l]]=!0;for(s=0;s<e.length;s++)l=t.hasOwnProperty("$"+e[s].value),e[s].selected!==l&&(e[s].selected=l),l&&r&&(e[s].defaultSelected=!0)}else{for(s=""+It(s),t=null,l=0;l<e.length;l++){if(e[l].value===s){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ql(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yi(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(P(92));if(Xn(s)){if(1<s.length)throw Error(P(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:It(s)}}function $c(e,t){var s=It(t.value),r=It(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function Zi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Us,Bc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Us=Us||document.createElement("div"),Us.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Us.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cs(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Am=["Webkit","ms","Moz","O"];Object.keys(Jn).forEach(function(e){Am.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jn[t]=Jn[e]})});function Gc(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Jn.hasOwnProperty(e)&&Jn[e]?(""+t).trim():t+"px"}function qc(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,l=Gc(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,l):e[s]=l}}var Pm=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xl(e,t){if(t){if(Pm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Yl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zl=null;function Ka(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jl=null,wn=null,Sn=null;function Ji(e){if(e=Es(e)){if(typeof Jl!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Hr(t),Jl(e.stateNode,e.type,t))}}function Wc(e){wn?Sn?Sn.push(e):Sn=[e]:wn=e}function Hc(){if(wn){var e=wn,t=Sn;if(Sn=wn=null,Ji(e),t)for(e=0;e<t.length;e++)Ji(t[e])}}function Vc(e,t){return e(t)}function Qc(){}var ul=!1;function Kc(e,t,s){if(ul)return e(t,s);ul=!0;try{return Vc(e,t,s)}finally{ul=!1,(wn!==null||Sn!==null)&&(Qc(),Hc())}}function ds(e,t){var s=e.stateNode;if(s===null)return null;var r=Hr(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(P(231,t,typeof s));return s}var ea=!1;if(ct)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){ea=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{ea=!1}function Tm(e,t,s,r,l,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(s,u)}catch(x){this.onError(x)}}var es=!1,xr=null,pr=!1,ta=null,Em={onError:function(e){es=!0,xr=e}};function Lm(e,t,s,r,l,a,i,o,c){es=!1,xr=null,Tm.apply(Em,arguments)}function Mm(e,t,s,r,l,a,i,o,c){if(Lm.apply(this,arguments),es){if(es){var u=xr;es=!1,xr=null}else throw Error(P(198));pr||(pr=!0,ta=u)}}function an(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Xc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eo(e){if(an(e)!==e)throw Error(P(188))}function Dm(e){var t=e.alternate;if(!t){if(t=an(e),t===null)throw Error(P(188));return t!==e?null:e}for(var s=e,r=t;;){var l=s.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){s=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===s)return eo(l),e;if(a===r)return eo(l),t;a=a.sibling}throw Error(P(188))}if(s.return!==r.return)s=l,r=a;else{for(var i=!1,o=l.child;o;){if(o===s){i=!0,s=l,r=a;break}if(o===r){i=!0,r=l,s=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===s){i=!0,s=a,r=l;break}if(o===r){i=!0,r=a,s=l;break}o=o.sibling}if(!i)throw Error(P(189))}}if(s.alternate!==r)throw Error(P(190))}if(s.tag!==3)throw Error(P(188));return s.stateNode.current===s?e:t}function Yc(e){return e=Dm(e),e!==null?Zc(e):null}function Zc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zc(e);if(t!==null)return t;e=e.sibling}return null}var Jc=Ie.unstable_scheduleCallback,to=Ie.unstable_cancelCallback,Im=Ie.unstable_shouldYield,_m=Ie.unstable_requestPaint,ee=Ie.unstable_now,Rm=Ie.unstable_getCurrentPriorityLevel,Xa=Ie.unstable_ImmediatePriority,ed=Ie.unstable_UserBlockingPriority,fr=Ie.unstable_NormalPriority,Fm=Ie.unstable_LowPriority,td=Ie.unstable_IdlePriority,Br=null,tt=null;function Um(e){if(tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Br,e,void 0,(e.current.flags&128)===128)}catch{}}var Ke=Math.clz32?Math.clz32:zm,Om=Math.log,$m=Math.LN2;function zm(e){return e>>>=0,e===0?32:31-(Om(e)/$m|0)|0}var Os=64,$s=4194304;function Yn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gr(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=s&268435455;if(i!==0){var o=i&~l;o!==0?r=Yn(o):(a&=i,a!==0&&(r=Yn(a)))}else i=s&~l,i!==0?r=Yn(i):a!==0&&(r=Yn(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Ke(t),l=1<<s,r|=e[s],t&=~l;return r}function Bm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gm(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Ke(a),o=1<<i,c=l[i];c===-1?(!(o&s)||o&r)&&(l[i]=Bm(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function na(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nd(){var e=Os;return Os<<=1,!(Os&4194240)&&(Os=64),e}function ml(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Ps(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ke(t),e[t]=s}function qm(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var l=31-Ke(s),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,s&=~a}}function Ya(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Ke(s),l=1<<r;l&t|e[r]&t&&(e[r]|=t),s&=~l}}var q=0;function sd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rd,Za,ld,ad,id,sa=!1,zs=[],kt=null,Ct=null,At=null,us=new Map,ms=new Map,bt=[],Wm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function no(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(t.pointerId)}}function Bn(e,t,s,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Es(t),t!==null&&Za(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Hm(e,t,s,r,l){switch(t){case"focusin":return kt=Bn(kt,e,t,s,r,l),!0;case"dragenter":return Ct=Bn(Ct,e,t,s,r,l),!0;case"mouseover":return At=Bn(At,e,t,s,r,l),!0;case"pointerover":var a=l.pointerId;return us.set(a,Bn(us.get(a)||null,e,t,s,r,l)),!0;case"gotpointercapture":return a=l.pointerId,ms.set(a,Bn(ms.get(a)||null,e,t,s,r,l)),!0}return!1}function od(e){var t=Ht(e.target);if(t!==null){var s=an(t);if(s!==null){if(t=s.tag,t===13){if(t=Xc(s),t!==null){e.blockedOn=t,id(e.priority,function(){ld(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=ra(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Zl=r,s.target.dispatchEvent(r),Zl=null}else return t=Es(s),t!==null&&Za(t),e.blockedOn=s,!1;t.shift()}return!0}function so(e,t,s){sr(e)&&s.delete(t)}function Vm(){sa=!1,kt!==null&&sr(kt)&&(kt=null),Ct!==null&&sr(Ct)&&(Ct=null),At!==null&&sr(At)&&(At=null),us.forEach(so),ms.forEach(so)}function Gn(e,t){e.blockedOn===t&&(e.blockedOn=null,sa||(sa=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,Vm)))}function hs(e){function t(l){return Gn(l,e)}if(0<zs.length){Gn(zs[0],e);for(var s=1;s<zs.length;s++){var r=zs[s];r.blockedOn===e&&(r.blockedOn=null)}}for(kt!==null&&Gn(kt,e),Ct!==null&&Gn(Ct,e),At!==null&&Gn(At,e),us.forEach(t),ms.forEach(t),s=0;s<bt.length;s++)r=bt[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<bt.length&&(s=bt[0],s.blockedOn===null);)od(s),s.blockedOn===null&&bt.shift()}var kn=ht.ReactCurrentBatchConfig,yr=!0;function Qm(e,t,s,r){var l=q,a=kn.transition;kn.transition=null;try{q=1,Ja(e,t,s,r)}finally{q=l,kn.transition=a}}function Km(e,t,s,r){var l=q,a=kn.transition;kn.transition=null;try{q=4,Ja(e,t,s,r)}finally{q=l,kn.transition=a}}function Ja(e,t,s,r){if(yr){var l=ra(e,t,s,r);if(l===null)Nl(e,t,r,vr,s),no(e,r);else if(Hm(l,e,t,s,r))r.stopPropagation();else if(no(e,r),t&4&&-1<Wm.indexOf(e)){for(;l!==null;){var a=Es(l);if(a!==null&&rd(a),a=ra(e,t,s,r),a===null&&Nl(e,t,r,vr,s),a===l)break;l=a}l!==null&&r.stopPropagation()}else Nl(e,t,r,null,s)}}var vr=null;function ra(e,t,s,r){if(vr=null,e=Ka(r),e=Ht(e),e!==null)if(t=an(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Xc(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vr=e,null}function cd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rm()){case Xa:return 1;case ed:return 4;case fr:case Fm:return 16;case td:return 536870912;default:return 16}default:return 16}}var Nt=null,ei=null,rr=null;function dd(){if(rr)return rr;var e,t=ei,s=t.length,r,l="value"in Nt?Nt.value:Nt.textContent,a=l.length;for(e=0;e<s&&t[e]===l[e];e++);var i=s-e;for(r=1;r<=i&&t[s-r]===l[a-r];r++);return rr=l.slice(e,1<r?1-r:void 0)}function lr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bs(){return!0}function ro(){return!1}function Re(e){function t(s,r,l,a,i){this._reactName=s,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Bs:ro,this.isPropagationStopped=ro,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),t}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ti=Re(Rn),Ts=Y({},Rn,{view:0,detail:0}),Xm=Re(Ts),hl,xl,qn,Gr=Y({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ni,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qn&&(qn&&e.type==="mousemove"?(hl=e.screenX-qn.screenX,xl=e.screenY-qn.screenY):xl=hl=0,qn=e),hl)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),lo=Re(Gr),Ym=Y({},Gr,{dataTransfer:0}),Zm=Re(Ym),Jm=Y({},Ts,{relatedTarget:0}),pl=Re(Jm),eh=Y({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),th=Re(eh),nh=Y({},Rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sh=Re(nh),rh=Y({},Rn,{data:0}),ao=Re(rh),lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ih[e])?!!t[e]:!1}function ni(){return oh}var ch=Y({},Ts,{key:function(e){if(e.key){var t=lh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ah[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ni,charCode:function(e){return e.type==="keypress"?lr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dh=Re(ch),uh=Y({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),io=Re(uh),mh=Y({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ni}),hh=Re(mh),xh=Y({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ph=Re(xh),fh=Y({},Gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gh=Re(fh),yh=[9,13,27,32],si=ct&&"CompositionEvent"in window,ts=null;ct&&"documentMode"in document&&(ts=document.documentMode);var vh=ct&&"TextEvent"in window&&!ts,ud=ct&&(!si||ts&&8<ts&&11>=ts),oo=String.fromCharCode(32),co=!1;function md(e,t){switch(e){case"keyup":return yh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mn=!1;function bh(e,t){switch(e){case"compositionend":return hd(t);case"keypress":return t.which!==32?null:(co=!0,oo);case"textInput":return e=t.data,e===oo&&co?null:e;default:return null}}function jh(e,t){if(mn)return e==="compositionend"||!si&&md(e,t)?(e=dd(),rr=ei=Nt=null,mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ud&&t.locale!=="ko"?null:t.data;default:return null}}var Nh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nh[e.type]:t==="textarea"}function xd(e,t,s,r){Wc(r),t=br(t,"onChange"),0<t.length&&(s=new ti("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var ns=null,xs=null;function wh(e){kd(e,0)}function qr(e){var t=pn(e);if(Uc(t))return e}function Sh(e,t){if(e==="change")return t}var pd=!1;if(ct){var fl;if(ct){var gl="oninput"in document;if(!gl){var mo=document.createElement("div");mo.setAttribute("oninput","return;"),gl=typeof mo.oninput=="function"}fl=gl}else fl=!1;pd=fl&&(!document.documentMode||9<document.documentMode)}function ho(){ns&&(ns.detachEvent("onpropertychange",fd),xs=ns=null)}function fd(e){if(e.propertyName==="value"&&qr(xs)){var t=[];xd(t,xs,e,Ka(e)),Kc(wh,t)}}function kh(e,t,s){e==="focusin"?(ho(),ns=t,xs=s,ns.attachEvent("onpropertychange",fd)):e==="focusout"&&ho()}function Ch(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qr(xs)}function Ah(e,t){if(e==="click")return qr(t)}function Ph(e,t){if(e==="input"||e==="change")return qr(t)}function Th(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ye=typeof Object.is=="function"?Object.is:Th;function ps(e,t){if(Ye(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var l=s[r];if(!$l.call(t,l)||!Ye(e[l],t[l]))return!1}return!0}function xo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function po(e,t){var s=xo(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xo(s)}}function gd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yd(){for(var e=window,t=hr();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=hr(e.document)}return t}function ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Eh(e){var t=yd(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&gd(s.ownerDocument.documentElement,s)){if(r!==null&&ri(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=s.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=po(s,a);var i=po(s,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lh=ct&&"documentMode"in document&&11>=document.documentMode,hn=null,la=null,ss=null,aa=!1;function fo(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;aa||hn==null||hn!==hr(r)||(r=hn,"selectionStart"in r&&ri(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ss&&ps(ss,r)||(ss=r,r=br(la,"onSelect"),0<r.length&&(t=new ti("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=hn)))}function Gs(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var xn={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},yl={},vd={};ct&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);function Wr(e){if(yl[e])return yl[e];if(!xn[e])return e;var t=xn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in vd)return yl[e]=t[s];return e}var bd=Wr("animationend"),jd=Wr("animationiteration"),Nd=Wr("animationstart"),wd=Wr("transitionend"),Sd=new Map,go="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rt(e,t){Sd.set(e,t),ln(t,[e])}for(var vl=0;vl<go.length;vl++){var bl=go[vl],Mh=bl.toLowerCase(),Dh=bl[0].toUpperCase()+bl.slice(1);Rt(Mh,"on"+Dh)}Rt(bd,"onAnimationEnd");Rt(jd,"onAnimationIteration");Rt(Nd,"onAnimationStart");Rt("dblclick","onDoubleClick");Rt("focusin","onFocus");Rt("focusout","onBlur");Rt(wd,"onTransitionEnd");Pn("onMouseEnter",["mouseout","mouseover"]);Pn("onMouseLeave",["mouseout","mouseover"]);Pn("onPointerEnter",["pointerout","pointerover"]);Pn("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ih=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zn));function yo(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,Mm(r,t,void 0,e),e.currentTarget=null}function kd(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;yo(l,o,u),a=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;yo(l,o,u),a=c}}}if(pr)throw e=ta,pr=!1,ta=null,e}function H(e,t){var s=t[ua];s===void 0&&(s=t[ua]=new Set);var r=e+"__bubble";s.has(r)||(Cd(t,e,2,!1),s.add(r))}function jl(e,t,s){var r=0;t&&(r|=4),Cd(s,e,r,t)}var qs="_reactListening"+Math.random().toString(36).slice(2);function fs(e){if(!e[qs]){e[qs]=!0,Dc.forEach(function(s){s!=="selectionchange"&&(Ih.has(s)||jl(s,!1,e),jl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qs]||(t[qs]=!0,jl("selectionchange",!1,t))}}function Cd(e,t,s,r){switch(cd(t)){case 1:var l=Qm;break;case 4:l=Km;break;default:l=Ja}s=l.bind(null,t,s,e),l=void 0,!ea||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,s,{capture:!0,passive:l}):e.addEventListener(t,s,!0):l!==void 0?e.addEventListener(t,s,{passive:l}):e.addEventListener(t,s,!1)}function Nl(e,t,s,r,l){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=Ht(o),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}o=o.parentNode}}r=r.return}Kc(function(){var u=a,x=Ka(s),g=[];e:{var f=Sd.get(e);if(f!==void 0){var y=ti,p=e;switch(e){case"keypress":if(lr(s)===0)break e;case"keydown":case"keyup":y=dh;break;case"focusin":p="focus",y=pl;break;case"focusout":p="blur",y=pl;break;case"beforeblur":case"afterblur":y=pl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=hh;break;case bd:case jd:case Nd:y=th;break;case wd:y=ph;break;case"scroll":y=Xm;break;case"wheel":y=gh;break;case"copy":case"cut":case"paste":y=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=io}var v=(t&4)!==0,b=!v&&e==="scroll",h=v?f!==null?f+"Capture":null:f;v=[];for(var d=u,m;d!==null;){m=d;var S=m.stateNode;if(m.tag===5&&S!==null&&(m=S,h!==null&&(S=ds(d,h),S!=null&&v.push(gs(d,S,m)))),b)break;d=d.return}0<v.length&&(f=new y(f,p,null,s,x),g.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&s!==Zl&&(p=s.relatedTarget||s.fromElement)&&(Ht(p)||p[dt]))break e;if((y||f)&&(f=x.window===x?x:(f=x.ownerDocument)?f.defaultView||f.parentWindow:window,y?(p=s.relatedTarget||s.toElement,y=u,p=p?Ht(p):null,p!==null&&(b=an(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(y=null,p=u),y!==p)){if(v=lo,S="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=io,S="onPointerLeave",h="onPointerEnter",d="pointer"),b=y==null?f:pn(y),m=p==null?f:pn(p),f=new v(S,d+"leave",y,s,x),f.target=b,f.relatedTarget=m,S=null,Ht(x)===u&&(v=new v(h,d+"enter",p,s,x),v.target=m,v.relatedTarget=b,S=v),b=S,y&&p)t:{for(v=y,h=p,d=0,m=v;m;m=cn(m))d++;for(m=0,S=h;S;S=cn(S))m++;for(;0<d-m;)v=cn(v),d--;for(;0<m-d;)h=cn(h),m--;for(;d--;){if(v===h||h!==null&&v===h.alternate)break t;v=cn(v),h=cn(h)}v=null}else v=null;y!==null&&vo(g,f,y,v,!1),p!==null&&b!==null&&vo(g,b,p,v,!0)}}e:{if(f=u?pn(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var N=Sh;else if(uo(f))if(pd)N=Ph;else{N=Ch;var k=kh}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Ah);if(N&&(N=N(e,u))){xd(g,N,s,x);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Vl(f,"number",f.value)}switch(k=u?pn(u):window,e){case"focusin":(uo(k)||k.contentEditable==="true")&&(hn=k,la=u,ss=null);break;case"focusout":ss=la=hn=null;break;case"mousedown":aa=!0;break;case"contextmenu":case"mouseup":case"dragend":aa=!1,fo(g,s,x);break;case"selectionchange":if(Lh)break;case"keydown":case"keyup":fo(g,s,x)}var C;if(si)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else mn?md(e,s)&&(w="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(w="onCompositionStart");w&&(ud&&s.locale!=="ko"&&(mn||w!=="onCompositionStart"?w==="onCompositionEnd"&&mn&&(C=dd()):(Nt=x,ei="value"in Nt?Nt.value:Nt.textContent,mn=!0)),k=br(u,w),0<k.length&&(w=new ao(w,e,null,s,x),g.push({event:w,listeners:k}),C?w.data=C:(C=hd(s),C!==null&&(w.data=C)))),(C=vh?bh(e,s):jh(e,s))&&(u=br(u,"onBeforeInput"),0<u.length&&(x=new ao("onBeforeInput","beforeinput",null,s,x),g.push({event:x,listeners:u}),x.data=C))}kd(g,t)})}function gs(e,t,s){return{instance:e,listener:t,currentTarget:s}}function br(e,t){for(var s=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=ds(e,s),a!=null&&r.unshift(gs(e,a,l)),a=ds(e,t),a!=null&&r.push(gs(e,a,l))),e=e.return}return r}function cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vo(e,t,s,r,l){for(var a=t._reactName,i=[];s!==null&&s!==r;){var o=s,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,l?(c=ds(s,a),c!=null&&i.unshift(gs(s,c,o))):l||(c=ds(s,a),c!=null&&i.push(gs(s,c,o)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var _h=/\r\n?/g,Rh=/\u0000|\uFFFD/g;function bo(e){return(typeof e=="string"?e:""+e).replace(_h,`
`).replace(Rh,"")}function Ws(e,t,s){if(t=bo(t),bo(e)!==t&&s)throw Error(P(425))}function jr(){}var ia=null,oa=null;function ca(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var da=typeof setTimeout=="function"?setTimeout:void 0,Fh=typeof clearTimeout=="function"?clearTimeout:void 0,jo=typeof Promise=="function"?Promise:void 0,Uh=typeof queueMicrotask=="function"?queueMicrotask:typeof jo<"u"?function(e){return jo.resolve(null).then(e).catch(Oh)}:da;function Oh(e){setTimeout(function(){throw e})}function wl(e,t){var s=t,r=0;do{var l=s.nextSibling;if(e.removeChild(s),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(r===0){e.removeChild(l),hs(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=l}while(s);hs(t)}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function No(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Fn=Math.random().toString(36).slice(2),et="__reactFiber$"+Fn,ys="__reactProps$"+Fn,dt="__reactContainer$"+Fn,ua="__reactEvents$"+Fn,$h="__reactListeners$"+Fn,zh="__reactHandles$"+Fn;function Ht(e){var t=e[et];if(t)return t;for(var s=e.parentNode;s;){if(t=s[dt]||s[et]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=No(e);e!==null;){if(s=e[et])return s;e=No(e)}return t}e=s,s=e.parentNode}return null}function Es(e){return e=e[et]||e[dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Hr(e){return e[ys]||null}var ma=[],fn=-1;function Ft(e){return{current:e}}function V(e){0>fn||(e.current=ma[fn],ma[fn]=null,fn--)}function W(e,t){fn++,ma[fn]=e.current,e.current=t}var _t={},xe=Ft(_t),ke=Ft(!1),en=_t;function Tn(e,t){var s=e.type.contextTypes;if(!s)return _t;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in s)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ce(e){return e=e.childContextTypes,e!=null}function Nr(){V(ke),V(xe)}function wo(e,t,s){if(xe.current!==_t)throw Error(P(168));W(xe,t),W(ke,s)}function Ad(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(P(108,km(e)||"Unknown",l));return Y({},s,r)}function wr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_t,en=xe.current,W(xe,e),W(ke,ke.current),!0}function So(e,t,s){var r=e.stateNode;if(!r)throw Error(P(169));s?(e=Ad(e,t,en),r.__reactInternalMemoizedMergedChildContext=e,V(ke),V(xe),W(xe,e)):V(ke),W(ke,s)}var lt=null,Vr=!1,Sl=!1;function Pd(e){lt===null?lt=[e]:lt.push(e)}function Bh(e){Vr=!0,Pd(e)}function Ut(){if(!Sl&&lt!==null){Sl=!0;var e=0,t=q;try{var s=lt;for(q=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}lt=null,Vr=!1}catch(l){throw lt!==null&&(lt=lt.slice(e+1)),Jc(Xa,Ut),l}finally{q=t,Sl=!1}}return null}var gn=[],yn=0,Sr=null,kr=0,Fe=[],Ue=0,tn=null,at=1,it="";function Gt(e,t){gn[yn++]=kr,gn[yn++]=Sr,Sr=e,kr=t}function Td(e,t,s){Fe[Ue++]=at,Fe[Ue++]=it,Fe[Ue++]=tn,tn=e;var r=at;e=it;var l=32-Ke(r)-1;r&=~(1<<l),s+=1;var a=32-Ke(t)+l;if(30<a){var i=l-l%5;a=(r&(1<<i)-1).toString(32),r>>=i,l-=i,at=1<<32-Ke(t)+l|s<<l|r,it=a+e}else at=1<<a|s<<l|r,it=e}function li(e){e.return!==null&&(Gt(e,1),Td(e,1,0))}function ai(e){for(;e===Sr;)Sr=gn[--yn],gn[yn]=null,kr=gn[--yn],gn[yn]=null;for(;e===tn;)tn=Fe[--Ue],Fe[Ue]=null,it=Fe[--Ue],Fe[Ue]=null,at=Fe[--Ue],Fe[Ue]=null}var De=null,Le=null,Q=!1,Ve=null;function Ed(e,t){var s=Oe(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function ko(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,De=e,Le=Pt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,De=e,Le=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=tn!==null?{id:at,overflow:it}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Oe(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,De=e,Le=null,!0):!1;default:return!1}}function ha(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xa(e){if(Q){var t=Le;if(t){var s=t;if(!ko(e,t)){if(ha(e))throw Error(P(418));t=Pt(s.nextSibling);var r=De;t&&ko(e,t)?Ed(r,s):(e.flags=e.flags&-4097|2,Q=!1,De=e)}}else{if(ha(e))throw Error(P(418));e.flags=e.flags&-4097|2,Q=!1,De=e}}}function Co(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;De=e}function Hs(e){if(e!==De)return!1;if(!Q)return Co(e),Q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ca(e.type,e.memoizedProps)),t&&(t=Le)){if(ha(e))throw Ld(),Error(P(418));for(;t;)Ed(e,t),t=Pt(t.nextSibling)}if(Co(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Le=Pt(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Le=null}}else Le=De?Pt(e.stateNode.nextSibling):null;return!0}function Ld(){for(var e=Le;e;)e=Pt(e.nextSibling)}function En(){Le=De=null,Q=!1}function ii(e){Ve===null?Ve=[e]:Ve.push(e)}var Gh=ht.ReactCurrentBatchConfig;function Wn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(P(309));var r=s.stateNode}if(!r)throw Error(P(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(P(284));if(!s._owner)throw Error(P(290,e))}return e}function Vs(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ao(e){var t=e._init;return t(e._payload)}function Md(e){function t(h,d){if(e){var m=h.deletions;m===null?(h.deletions=[d],h.flags|=16):m.push(d)}}function s(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function l(h,d){return h=Mt(h,d),h.index=0,h.sibling=null,h}function a(h,d,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<d?(h.flags|=2,d):m):(h.flags|=2,d)):(h.flags|=1048576,d)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,d,m,S){return d===null||d.tag!==6?(d=Ll(m,h.mode,S),d.return=h,d):(d=l(d,m),d.return=h,d)}function c(h,d,m,S){var N=m.type;return N===un?x(h,d,m.props.children,S,m.key):d!==null&&(d.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ft&&Ao(N)===d.type)?(S=l(d,m.props),S.ref=Wn(h,d,m),S.return=h,S):(S=mr(m.type,m.key,m.props,null,h.mode,S),S.ref=Wn(h,d,m),S.return=h,S)}function u(h,d,m,S){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=Ml(m,h.mode,S),d.return=h,d):(d=l(d,m.children||[]),d.return=h,d)}function x(h,d,m,S,N){return d===null||d.tag!==7?(d=Jt(m,h.mode,S,N),d.return=h,d):(d=l(d,m),d.return=h,d)}function g(h,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ll(""+d,h.mode,m),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Rs:return m=mr(d.type,d.key,d.props,null,h.mode,m),m.ref=Wn(h,null,d),m.return=h,m;case dn:return d=Ml(d,h.mode,m),d.return=h,d;case ft:var S=d._init;return g(h,S(d._payload),m)}if(Xn(d)||$n(d))return d=Jt(d,h.mode,m,null),d.return=h,d;Vs(h,d)}return null}function f(h,d,m,S){var N=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return N!==null?null:o(h,d,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Rs:return m.key===N?c(h,d,m,S):null;case dn:return m.key===N?u(h,d,m,S):null;case ft:return N=m._init,f(h,d,N(m._payload),S)}if(Xn(m)||$n(m))return N!==null?null:x(h,d,m,S,null);Vs(h,m)}return null}function y(h,d,m,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(m)||null,o(d,h,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Rs:return h=h.get(S.key===null?m:S.key)||null,c(d,h,S,N);case dn:return h=h.get(S.key===null?m:S.key)||null,u(d,h,S,N);case ft:var k=S._init;return y(h,d,m,k(S._payload),N)}if(Xn(S)||$n(S))return h=h.get(m)||null,x(d,h,S,N,null);Vs(d,S)}return null}function p(h,d,m,S){for(var N=null,k=null,C=d,w=d=0,T=null;C!==null&&w<m.length;w++){C.index>w?(T=C,C=null):T=C.sibling;var L=f(h,C,m[w],S);if(L===null){C===null&&(C=T);break}e&&C&&L.alternate===null&&t(h,C),d=a(L,d,w),k===null?N=L:k.sibling=L,k=L,C=T}if(w===m.length)return s(h,C),Q&&Gt(h,w),N;if(C===null){for(;w<m.length;w++)C=g(h,m[w],S),C!==null&&(d=a(C,d,w),k===null?N=C:k.sibling=C,k=C);return Q&&Gt(h,w),N}for(C=r(h,C);w<m.length;w++)T=y(C,h,w,m[w],S),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?w:T.key),d=a(T,d,w),k===null?N=T:k.sibling=T,k=T);return e&&C.forEach(function($){return t(h,$)}),Q&&Gt(h,w),N}function v(h,d,m,S){var N=$n(m);if(typeof N!="function")throw Error(P(150));if(m=N.call(m),m==null)throw Error(P(151));for(var k=N=null,C=d,w=d=0,T=null,L=m.next();C!==null&&!L.done;w++,L=m.next()){C.index>w?(T=C,C=null):T=C.sibling;var $=f(h,C,L.value,S);if($===null){C===null&&(C=T);break}e&&C&&$.alternate===null&&t(h,C),d=a($,d,w),k===null?N=$:k.sibling=$,k=$,C=T}if(L.done)return s(h,C),Q&&Gt(h,w),N;if(C===null){for(;!L.done;w++,L=m.next())L=g(h,L.value,S),L!==null&&(d=a(L,d,w),k===null?N=L:k.sibling=L,k=L);return Q&&Gt(h,w),N}for(C=r(h,C);!L.done;w++,L=m.next())L=y(C,h,w,L.value,S),L!==null&&(e&&L.alternate!==null&&C.delete(L.key===null?w:L.key),d=a(L,d,w),k===null?N=L:k.sibling=L,k=L);return e&&C.forEach(function(A){return t(h,A)}),Q&&Gt(h,w),N}function b(h,d,m,S){if(typeof m=="object"&&m!==null&&m.type===un&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Rs:e:{for(var N=m.key,k=d;k!==null;){if(k.key===N){if(N=m.type,N===un){if(k.tag===7){s(h,k.sibling),d=l(k,m.props.children),d.return=h,h=d;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ft&&Ao(N)===k.type){s(h,k.sibling),d=l(k,m.props),d.ref=Wn(h,k,m),d.return=h,h=d;break e}s(h,k);break}else t(h,k);k=k.sibling}m.type===un?(d=Jt(m.props.children,h.mode,S,m.key),d.return=h,h=d):(S=mr(m.type,m.key,m.props,null,h.mode,S),S.ref=Wn(h,d,m),S.return=h,h=S)}return i(h);case dn:e:{for(k=m.key;d!==null;){if(d.key===k)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){s(h,d.sibling),d=l(d,m.children||[]),d.return=h,h=d;break e}else{s(h,d);break}else t(h,d);d=d.sibling}d=Ml(m,h.mode,S),d.return=h,h=d}return i(h);case ft:return k=m._init,b(h,d,k(m._payload),S)}if(Xn(m))return p(h,d,m,S);if($n(m))return v(h,d,m,S);Vs(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(s(h,d.sibling),d=l(d,m),d.return=h,h=d):(s(h,d),d=Ll(m,h.mode,S),d.return=h,h=d),i(h)):s(h,d)}return b}var Ln=Md(!0),Dd=Md(!1),Cr=Ft(null),Ar=null,vn=null,oi=null;function ci(){oi=vn=Ar=null}function di(e){var t=Cr.current;V(Cr),e._currentValue=t}function pa(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Cn(e,t){Ar=e,oi=vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Se=!0),e.firstContext=null)}function ze(e){var t=e._currentValue;if(oi!==e)if(e={context:e,memoizedValue:t,next:null},vn===null){if(Ar===null)throw Error(P(308));vn=e,Ar.dependencies={lanes:0,firstContext:e}}else vn=vn.next=e;return t}var Vt=null;function ui(e){Vt===null?Vt=[e]:Vt.push(e)}function Id(e,t,s,r){var l=t.interleaved;return l===null?(s.next=s,ui(t)):(s.next=l.next,l.next=s),t.interleaved=s,ut(e,r)}function ut(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var gt=!1;function mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _d(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tt(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,ut(e,s)}return l=r.interleaved,l===null?(t.next=t,ui(r)):(t.next=l.next,l.next=t),r.interleaved=t,ut(e,s)}function ar(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Ya(e,s)}}function Po(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var l=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?l=a=i:a=a.next=i,s=s.next}while(s!==null);a===null?l=a=t:a=a.next=t}else l=a=t;s={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Pr(e,t,s,r){var l=e.updateQueue;gt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var x=e.alternate;x!==null&&(x=x.updateQueue,o=x.lastBaseUpdate,o!==i&&(o===null?x.firstBaseUpdate=u:o.next=u,x.lastBaseUpdate=c))}if(a!==null){var g=l.baseState;i=0,x=u=c=null,o=a;do{var f=o.lane,y=o.eventTime;if((r&f)===f){x!==null&&(x=x.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(f=t,y=s,v.tag){case 1:if(p=v.payload,typeof p=="function"){g=p.call(y,g,f);break e}g=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(y,g,f):p,f==null)break e;g=Y({},g,f);break e;case 2:gt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=l.effects,f===null?l.effects=[o]:f.push(o))}else y={eventTime:y,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},x===null?(u=x=y,c=g):x=x.next=y,i|=f;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;f=o,o=f.next,f.next=null,l.lastBaseUpdate=f,l.shared.pending=null}}while(1);if(x===null&&(c=g),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=x,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);sn|=i,e.lanes=i,e.memoizedState=g}}function To(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=s,typeof l!="function")throw Error(P(191,l));l.call(r)}}}var Ls={},nt=Ft(Ls),vs=Ft(Ls),bs=Ft(Ls);function Qt(e){if(e===Ls)throw Error(P(174));return e}function hi(e,t){switch(W(bs,t),W(vs,e),W(nt,Ls),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kl(t,e)}V(nt),W(nt,t)}function Mn(){V(nt),V(vs),V(bs)}function Rd(e){Qt(bs.current);var t=Qt(nt.current),s=Kl(t,e.type);t!==s&&(W(vs,e),W(nt,s))}function xi(e){vs.current===e&&(V(nt),V(vs))}var K=Ft(0);function Tr(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kl=[];function pi(){for(var e=0;e<kl.length;e++)kl[e]._workInProgressVersionPrimary=null;kl.length=0}var ir=ht.ReactCurrentDispatcher,Cl=ht.ReactCurrentBatchConfig,nn=0,X=null,se=null,ae=null,Er=!1,rs=!1,js=0,qh=0;function ue(){throw Error(P(321))}function fi(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ye(e[s],t[s]))return!1;return!0}function gi(e,t,s,r,l,a){if(nn=a,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ir.current=e===null||e.memoizedState===null?Qh:Kh,e=s(r,l),rs){a=0;do{if(rs=!1,js=0,25<=a)throw Error(P(301));a+=1,ae=se=null,t.updateQueue=null,ir.current=Xh,e=s(r,l)}while(rs)}if(ir.current=Lr,t=se!==null&&se.next!==null,nn=0,ae=se=X=null,Er=!1,t)throw Error(P(300));return e}function yi(){var e=js!==0;return js=0,e}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?X.memoizedState=ae=e:ae=ae.next=e,ae}function Be(){if(se===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=ae===null?X.memoizedState:ae.next;if(t!==null)ae=t,se=e;else{if(e===null)throw Error(P(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ae===null?X.memoizedState=ae=e:ae=ae.next=e}return ae}function Ns(e,t){return typeof t=="function"?t(e):t}function Al(e){var t=Be(),s=t.queue;if(s===null)throw Error(P(311));s.lastRenderedReducer=e;var r=se,l=r.baseQueue,a=s.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,s.pending=null}if(l!==null){a=l.next,r=r.baseState;var o=i=null,c=null,u=a;do{var x=u.lane;if((nn&x)===x)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var g={lane:x,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=g,i=r):c=c.next=g,X.lanes|=x,sn|=x}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=o,Ye(r,t.memoizedState)||(Se=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){l=e;do a=l.lane,X.lanes|=a,sn|=a,l=l.next;while(l!==e)}else l===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Pl(e){var t=Be(),s=t.queue;if(s===null)throw Error(P(311));s.lastRenderedReducer=e;var r=s.dispatch,l=s.pending,a=t.memoizedState;if(l!==null){s.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);Ye(a,t.memoizedState)||(Se=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,r]}function Fd(){}function Ud(e,t){var s=X,r=Be(),l=t(),a=!Ye(r.memoizedState,l);if(a&&(r.memoizedState=l,Se=!0),r=r.queue,vi(zd.bind(null,s,r,e),[e]),r.getSnapshot!==t||a||ae!==null&&ae.memoizedState.tag&1){if(s.flags|=2048,ws(9,$d.bind(null,s,r,l,t),void 0,null),ie===null)throw Error(P(349));nn&30||Od(s,t,l)}return l}function Od(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function $d(e,t,s,r){t.value=s,t.getSnapshot=r,Bd(t)&&Gd(e)}function zd(e,t,s){return s(function(){Bd(t)&&Gd(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ye(e,s)}catch{return!0}}function Gd(e){var t=ut(e,1);t!==null&&Xe(t,e,1,-1)}function Eo(e){var t=Je();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},t.queue=e,e=e.dispatch=Vh.bind(null,X,e),[t.memoizedState,e]}function ws(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function qd(){return Be().memoizedState}function or(e,t,s,r){var l=Je();X.flags|=e,l.memoizedState=ws(1|t,s,void 0,r===void 0?null:r)}function Qr(e,t,s,r){var l=Be();r=r===void 0?null:r;var a=void 0;if(se!==null){var i=se.memoizedState;if(a=i.destroy,r!==null&&fi(r,i.deps)){l.memoizedState=ws(t,s,a,r);return}}X.flags|=e,l.memoizedState=ws(1|t,s,a,r)}function Lo(e,t){return or(8390656,8,e,t)}function vi(e,t){return Qr(2048,8,e,t)}function Wd(e,t){return Qr(4,2,e,t)}function Hd(e,t){return Qr(4,4,e,t)}function Vd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qd(e,t,s){return s=s!=null?s.concat([e]):null,Qr(4,4,Vd.bind(null,t,e),s)}function bi(){}function Kd(e,t){var s=Be();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&fi(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Xd(e,t){var s=Be();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&fi(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Yd(e,t,s){return nn&21?(Ye(s,t)||(s=nd(),X.lanes|=s,sn|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Se=!0),e.memoizedState=s)}function Wh(e,t){var s=q;q=s!==0&&4>s?s:4,e(!0);var r=Cl.transition;Cl.transition={};try{e(!1),t()}finally{q=s,Cl.transition=r}}function Zd(){return Be().memoizedState}function Hh(e,t,s){var r=Lt(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Jd(e))eu(t,s);else if(s=Id(e,t,s,r),s!==null){var l=ve();Xe(s,e,r,l),tu(s,t,r)}}function Vh(e,t,s){var r=Lt(e),l={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Jd(e))eu(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,s);if(l.hasEagerState=!0,l.eagerState=o,Ye(o,i)){var c=t.interleaved;c===null?(l.next=l,ui(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}s=Id(e,t,l,r),s!==null&&(l=ve(),Xe(s,e,r,l),tu(s,t,r))}}function Jd(e){var t=e.alternate;return e===X||t!==null&&t===X}function eu(e,t){rs=Er=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function tu(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Ya(e,s)}}var Lr={readContext:ze,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useInsertionEffect:ue,useLayoutEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useMutableSource:ue,useSyncExternalStore:ue,useId:ue,unstable_isNewReconciler:!1},Qh={readContext:ze,useCallback:function(e,t){return Je().memoizedState=[e,t===void 0?null:t],e},useContext:ze,useEffect:Lo,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,or(4194308,4,Vd.bind(null,t,e),s)},useLayoutEffect:function(e,t){return or(4194308,4,e,t)},useInsertionEffect:function(e,t){return or(4,2,e,t)},useMemo:function(e,t){var s=Je();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=Je();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Hh.bind(null,X,e),[r.memoizedState,e]},useRef:function(e){var t=Je();return e={current:e},t.memoizedState=e},useState:Eo,useDebugValue:bi,useDeferredValue:function(e){return Je().memoizedState=e},useTransition:function(){var e=Eo(!1),t=e[0];return e=Wh.bind(null,e[1]),Je().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=X,l=Je();if(Q){if(s===void 0)throw Error(P(407));s=s()}else{if(s=t(),ie===null)throw Error(P(349));nn&30||Od(r,t,s)}l.memoizedState=s;var a={value:s,getSnapshot:t};return l.queue=a,Lo(zd.bind(null,r,a,e),[e]),r.flags|=2048,ws(9,$d.bind(null,r,a,s,t),void 0,null),s},useId:function(){var e=Je(),t=ie.identifierPrefix;if(Q){var s=it,r=at;s=(r&~(1<<32-Ke(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=js++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=qh++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kh={readContext:ze,useCallback:Kd,useContext:ze,useEffect:vi,useImperativeHandle:Qd,useInsertionEffect:Wd,useLayoutEffect:Hd,useMemo:Xd,useReducer:Al,useRef:qd,useState:function(){return Al(Ns)},useDebugValue:bi,useDeferredValue:function(e){var t=Be();return Yd(t,se.memoizedState,e)},useTransition:function(){var e=Al(Ns)[0],t=Be().memoizedState;return[e,t]},useMutableSource:Fd,useSyncExternalStore:Ud,useId:Zd,unstable_isNewReconciler:!1},Xh={readContext:ze,useCallback:Kd,useContext:ze,useEffect:vi,useImperativeHandle:Qd,useInsertionEffect:Wd,useLayoutEffect:Hd,useMemo:Xd,useReducer:Pl,useRef:qd,useState:function(){return Pl(Ns)},useDebugValue:bi,useDeferredValue:function(e){var t=Be();return se===null?t.memoizedState=e:Yd(t,se.memoizedState,e)},useTransition:function(){var e=Pl(Ns)[0],t=Be().memoizedState;return[e,t]},useMutableSource:Fd,useSyncExternalStore:Ud,useId:Zd,unstable_isNewReconciler:!1};function qe(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function fa(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:Y({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Kr={isMounted:function(e){return(e=e._reactInternals)?an(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=ve(),l=Lt(e),a=ot(r,l);a.payload=t,s!=null&&(a.callback=s),t=Tt(e,a,l),t!==null&&(Xe(t,e,l,r),ar(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=ve(),l=Lt(e),a=ot(r,l);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=Tt(e,a,l),t!==null&&(Xe(t,e,l,r),ar(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ve(),r=Lt(e),l=ot(s,r);l.tag=2,t!=null&&(l.callback=t),t=Tt(e,l,r),t!==null&&(Xe(t,e,r,s),ar(t,e,r))}};function Mo(e,t,s,r,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!ps(s,r)||!ps(l,a):!0}function nu(e,t,s){var r=!1,l=_t,a=t.contextType;return typeof a=="object"&&a!==null?a=ze(a):(l=Ce(t)?en:xe.current,r=t.contextTypes,a=(r=r!=null)?Tn(e,l):_t),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kr,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Do(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Kr.enqueueReplaceState(t,t.state,null)}function ga(e,t,s,r){var l=e.stateNode;l.props=s,l.state=e.memoizedState,l.refs={},mi(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=ze(a):(a=Ce(t)?en:xe.current,l.context=Tn(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(fa(e,t,a,s),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Kr.enqueueReplaceState(l,l.state,null),Pr(e,s,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Dn(e,t){try{var s="",r=t;do s+=Sm(r),r=r.return;while(r);var l=s}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Tl(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function ya(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Yh=typeof WeakMap=="function"?WeakMap:Map;function su(e,t,s){s=ot(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Dr||(Dr=!0,Pa=r),ya(e,t)},s}function ru(e,t,s){s=ot(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;s.payload=function(){return r(l)},s.callback=function(){ya(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){ya(e,t),typeof r!="function"&&(Et===null?Et=new Set([this]):Et.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function Io(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new Yh;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(s)||(l.add(s),e=ux.bind(null,e,t,s),t.then(e,e))}function _o(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ro(e,t,s,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=ot(-1,1),t.tag=2,Tt(s,t,1))),s.lanes|=1),e)}var Zh=ht.ReactCurrentOwner,Se=!1;function ge(e,t,s,r){t.child=e===null?Dd(t,null,s,r):Ln(t,e.child,s,r)}function Fo(e,t,s,r,l){s=s.render;var a=t.ref;return Cn(t,l),r=gi(e,t,s,r,a,l),s=yi(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,mt(e,t,l)):(Q&&s&&li(t),t.flags|=1,ge(e,t,r,l),t.child)}function Uo(e,t,s,r,l){if(e===null){var a=s.type;return typeof a=="function"&&!Pi(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,lu(e,t,a,r,l)):(e=mr(s.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(s=s.compare,s=s!==null?s:ps,s(i,r)&&e.ref===t.ref)return mt(e,t,l)}return t.flags|=1,e=Mt(a,r),e.ref=t.ref,e.return=t,t.child=e}function lu(e,t,s,r,l){if(e!==null){var a=e.memoizedProps;if(ps(a,r)&&e.ref===t.ref)if(Se=!1,t.pendingProps=r=a,(e.lanes&l)!==0)e.flags&131072&&(Se=!0);else return t.lanes=e.lanes,mt(e,t,l)}return va(e,t,s,r,l)}function au(e,t,s){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(jn,Ee),Ee|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,W(jn,Ee),Ee|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,W(jn,Ee),Ee|=r}else a!==null?(r=a.baseLanes|s,t.memoizedState=null):r=s,W(jn,Ee),Ee|=r;return ge(e,t,l,s),t.child}function iu(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function va(e,t,s,r,l){var a=Ce(s)?en:xe.current;return a=Tn(t,a),Cn(t,l),s=gi(e,t,s,r,a,l),r=yi(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,mt(e,t,l)):(Q&&r&&li(t),t.flags|=1,ge(e,t,s,l),t.child)}function Oo(e,t,s,r,l){if(Ce(s)){var a=!0;wr(t)}else a=!1;if(Cn(t,l),t.stateNode===null)cr(e,t),nu(t,s,r),ga(t,s,r,l),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=s.contextType;typeof u=="object"&&u!==null?u=ze(u):(u=Ce(s)?en:xe.current,u=Tn(t,u));var x=s.getDerivedStateFromProps,g=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Do(t,i,r,u),gt=!1;var f=t.memoizedState;i.state=f,Pr(t,r,i,l),c=t.memoizedState,o!==r||f!==c||ke.current||gt?(typeof x=="function"&&(fa(t,s,x,r),c=t.memoizedState),(o=gt||Mo(t,s,o,r,f,c,u))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,_d(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:qe(t.type,o),i.props=u,g=t.pendingProps,f=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=ze(c):(c=Ce(s)?en:xe.current,c=Tn(t,c));var y=s.getDerivedStateFromProps;(x=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==g||f!==c)&&Do(t,i,r,c),gt=!1,f=t.memoizedState,i.state=f,Pr(t,r,i,l);var p=t.memoizedState;o!==g||f!==p||ke.current||gt?(typeof y=="function"&&(fa(t,s,y,r),p=t.memoizedState),(u=gt||Mo(t,s,u,r,f,p,c)||!1)?(x||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,p,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ba(e,t,s,r,a,l)}function ba(e,t,s,r,l,a){iu(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&So(t,s,!1),mt(e,t,a);r=t.stateNode,Zh.current=t;var o=i&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Ln(t,e.child,null,a),t.child=Ln(t,null,o,a)):ge(e,t,o,a),t.memoizedState=r.state,l&&So(t,s,!0),t.child}function ou(e){var t=e.stateNode;t.pendingContext?wo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wo(e,t.context,!1),hi(e,t.containerInfo)}function $o(e,t,s,r,l){return En(),ii(l),t.flags|=256,ge(e,t,s,r),t.child}var ja={dehydrated:null,treeContext:null,retryLane:0};function Na(e){return{baseLanes:e,cachePool:null,transitions:null}}function cu(e,t,s){var r=t.pendingProps,l=K.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),W(K,l&1),e===null)return xa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Zr(i,r,0,null),e=Jt(e,r,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Na(s),t.memoizedState=ja,e):ji(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return Jh(e,t,i,r,o,l,s);if(a){a=r.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Mt(l,c),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=Mt(o,a):(a=Jt(a,i,s,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?Na(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~s,t.memoizedState=ja,r}return a=e.child,e=a.sibling,r=Mt(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function ji(e,t){return t=Zr({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qs(e,t,s,r){return r!==null&&ii(r),Ln(t,e.child,null,s),e=ji(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jh(e,t,s,r,l,a,i){if(s)return t.flags&256?(t.flags&=-257,r=Tl(Error(P(422))),Qs(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=Zr({mode:"visible",children:r.children},l,0,null),a=Jt(a,l,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Ln(t,e.child,null,i),t.child.memoizedState=Na(i),t.memoizedState=ja,a);if(!(t.mode&1))return Qs(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(P(419)),r=Tl(a,r,void 0),Qs(e,t,i,r)}if(o=(i&e.childLanes)!==0,Se||o){if(r=ie,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,ut(e,l),Xe(r,e,l,-1))}return Ai(),r=Tl(Error(P(421))),Qs(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=mx.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Le=Pt(l.nextSibling),De=t,Q=!0,Ve=null,e!==null&&(Fe[Ue++]=at,Fe[Ue++]=it,Fe[Ue++]=tn,at=e.id,it=e.overflow,tn=t),t=ji(t,r.children),t.flags|=4096,t)}function zo(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pa(e.return,t,s)}function El(e,t,s,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=l)}function du(e,t,s){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(ge(e,t,r.children,s),r=K.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zo(e,s,t);else if(e.tag===19)zo(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(W(K,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(s=t.child,l=null;s!==null;)e=s.alternate,e!==null&&Tr(e)===null&&(l=s),s=s.sibling;s=l,s===null?(l=t.child,t.child=null):(l=s.sibling,s.sibling=null),El(t,!1,l,s,a);break;case"backwards":for(s=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Tr(e)===null){t.child=l;break}e=l.sibling,l.sibling=s,s=l,l=e}El(t,!0,s,null,a);break;case"together":El(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),sn|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,s=Mt(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Mt(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function ex(e,t,s){switch(t.tag){case 3:ou(t),En();break;case 5:Rd(t);break;case 1:Ce(t.type)&&wr(t);break;case 4:hi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;W(Cr,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(W(K,K.current&1),t.flags|=128,null):s&t.child.childLanes?cu(e,t,s):(W(K,K.current&1),e=mt(e,t,s),e!==null?e.sibling:null);W(K,K.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return du(e,t,s);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),W(K,K.current),r)break;return null;case 22:case 23:return t.lanes=0,au(e,t,s)}return mt(e,t,s)}var uu,wa,mu,hu;uu=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};wa=function(){};mu=function(e,t,s,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Qt(nt.current);var a=null;switch(s){case"input":l=Wl(e,l),r=Wl(e,r),a=[];break;case"select":l=Y({},l,{value:void 0}),r=Y({},r,{value:void 0}),a=[];break;case"textarea":l=Ql(e,l),r=Ql(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=jr)}Xl(s,r);var i;s=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(i in o)o.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(os.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(o=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(a||(a=[]),a.push(u,s)),s=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(os.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&H("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}s&&(a=a||[]).push("style",s);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};hu=function(e,t,s,r){s!==r&&(t.flags|=4)};function Hn(e,t){if(!Q)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function me(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var l=e.child;l!==null;)s|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)s|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function tx(e,t,s){var r=t.pendingProps;switch(ai(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(t),null;case 1:return Ce(t.type)&&Nr(),me(t),null;case 3:return r=t.stateNode,Mn(),V(ke),V(xe),pi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Hs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ve!==null&&(La(Ve),Ve=null))),wa(e,t),me(t),null;case 5:xi(t);var l=Qt(bs.current);if(s=t.type,e!==null&&t.stateNode!=null)mu(e,t,s,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return me(t),null}if(e=Qt(nt.current),Hs(t)){r=t.stateNode,s=t.type;var a=t.memoizedProps;switch(r[et]=t,r[ys]=a,e=(t.mode&1)!==0,s){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(l=0;l<Zn.length;l++)H(Zn[l],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":Ki(r,a),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},H("invalid",r);break;case"textarea":Yi(r,a),H("invalid",r)}Xl(s,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Ws(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Ws(r.textContent,o,e),l=["children",""+o]):os.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&H("scroll",r)}switch(s){case"input":Fs(r),Xi(r,a,!0);break;case"textarea":Fs(r),Zi(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=jr)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(s,{is:r.is}):(e=i.createElement(s),s==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,s),e[et]=t,e[ys]=r,uu(e,t,!1,!1),t.stateNode=e;e:{switch(i=Yl(s,r),s){case"dialog":H("cancel",e),H("close",e),l=r;break;case"iframe":case"object":case"embed":H("load",e),l=r;break;case"video":case"audio":for(l=0;l<Zn.length;l++)H(Zn[l],e);l=r;break;case"source":H("error",e),l=r;break;case"img":case"image":case"link":H("error",e),H("load",e),l=r;break;case"details":H("toggle",e),l=r;break;case"input":Ki(e,r),l=Wl(e,r),H("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Y({},r,{value:void 0}),H("invalid",e);break;case"textarea":Yi(e,r),l=Ql(e,r),H("invalid",e);break;default:l=r}Xl(s,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?qc(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bc(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&cs(e,c):typeof c=="number"&&cs(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(os.hasOwnProperty(a)?c!=null&&a==="onScroll"&&H("scroll",e):c!=null&&Wa(e,a,c,i))}switch(s){case"input":Fs(e),Xi(e,r,!1);break;case"textarea":Fs(e),Zi(e);break;case"option":r.value!=null&&e.setAttribute("value",""+It(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Nn(e,!!r.multiple,a,!1):r.defaultValue!=null&&Nn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=jr)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return me(t),null;case 6:if(e&&t.stateNode!=null)hu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(s=Qt(bs.current),Qt(nt.current),Hs(t)){if(r=t.stateNode,s=t.memoizedProps,r[et]=t,(a=r.nodeValue!==s)&&(e=De,e!==null))switch(e.tag){case 3:Ws(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ws(r.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[et]=t,t.stateNode=r}return me(t),null;case 13:if(V(K),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Q&&Le!==null&&t.mode&1&&!(t.flags&128))Ld(),En(),t.flags|=98560,a=!1;else if(a=Hs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(P(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(P(317));a[et]=t}else En(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;me(t),a=!1}else Ve!==null&&(La(Ve),Ve=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||K.current&1?re===0&&(re=3):Ai())),t.updateQueue!==null&&(t.flags|=4),me(t),null);case 4:return Mn(),wa(e,t),e===null&&fs(t.stateNode.containerInfo),me(t),null;case 10:return di(t.type._context),me(t),null;case 17:return Ce(t.type)&&Nr(),me(t),null;case 19:if(V(K),a=t.memoizedState,a===null)return me(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Hn(a,!1);else{if(re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Tr(e),i!==null){for(t.flags|=128,Hn(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)a=s,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return W(K,K.current&1|2),t.child}e=e.sibling}a.tail!==null&&ee()>In&&(t.flags|=128,r=!0,Hn(a,!1),t.lanes=4194304)}else{if(!r)if(e=Tr(i),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Hn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Q)return me(t),null}else 2*ee()-a.renderingStartTime>In&&s!==1073741824&&(t.flags|=128,r=!0,Hn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(s=a.last,s!==null?s.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ee(),t.sibling=null,s=K.current,W(K,r?s&1|2:s&1),t):(me(t),null);case 22:case 23:return Ci(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ee&1073741824&&(me(t),t.subtreeFlags&6&&(t.flags|=8192)):me(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function nx(e,t){switch(ai(t),t.tag){case 1:return Ce(t.type)&&Nr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mn(),V(ke),V(xe),pi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xi(t),null;case 13:if(V(K),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));En()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(K),null;case 4:return Mn(),null;case 10:return di(t.type._context),null;case 22:case 23:return Ci(),null;case 24:return null;default:return null}}var Ks=!1,he=!1,sx=typeof WeakSet=="function"?WeakSet:Set,I=null;function bn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){Z(e,t,r)}else s.current=null}function Sa(e,t,s){try{s()}catch(r){Z(e,t,r)}}var Bo=!1;function rx(e,t){if(ia=yr,e=yd(),ri(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var i=0,o=-1,c=-1,u=0,x=0,g=e,f=null;t:for(;;){for(var y;g!==s||l!==0&&g.nodeType!==3||(o=i+l),g!==a||r!==0&&g.nodeType!==3||(c=i+r),g.nodeType===3&&(i+=g.nodeValue.length),(y=g.firstChild)!==null;)f=g,g=y;for(;;){if(g===e)break t;if(f===s&&++u===l&&(o=i),f===a&&++x===r&&(c=i),(y=g.nextSibling)!==null)break;g=f,f=g.parentNode}g=y}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(oa={focusedElem:e,selectionRange:s},yr=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,b=p.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:qe(t.type,v),b);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){Z(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return p=Bo,Bo=!1,p}function ls(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Sa(t,s,a)}l=l.next}while(l!==r)}}function Xr(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function ka(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function xu(e){var t=e.alternate;t!==null&&(e.alternate=null,xu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[et],delete t[ys],delete t[ua],delete t[$h],delete t[zh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pu(e){return e.tag===5||e.tag===3||e.tag===4}function Go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ca(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=jr));else if(r!==4&&(e=e.child,e!==null))for(Ca(e,t,s),e=e.sibling;e!==null;)Ca(e,t,s),e=e.sibling}function Aa(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Aa(e,t,s),e=e.sibling;e!==null;)Aa(e,t,s),e=e.sibling}var oe=null,He=!1;function pt(e,t,s){for(s=s.child;s!==null;)fu(e,t,s),s=s.sibling}function fu(e,t,s){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Br,s)}catch{}switch(s.tag){case 5:he||bn(s,t);case 6:var r=oe,l=He;oe=null,pt(e,t,s),oe=r,He=l,oe!==null&&(He?(e=oe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):oe.removeChild(s.stateNode));break;case 18:oe!==null&&(He?(e=oe,s=s.stateNode,e.nodeType===8?wl(e.parentNode,s):e.nodeType===1&&wl(e,s),hs(e)):wl(oe,s.stateNode));break;case 4:r=oe,l=He,oe=s.stateNode.containerInfo,He=!0,pt(e,t,s),oe=r,He=l;break;case 0:case 11:case 14:case 15:if(!he&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Sa(s,t,i),l=l.next}while(l!==r)}pt(e,t,s);break;case 1:if(!he&&(bn(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(o){Z(s,t,o)}pt(e,t,s);break;case 21:pt(e,t,s);break;case 22:s.mode&1?(he=(r=he)||s.memoizedState!==null,pt(e,t,s),he=r):pt(e,t,s);break;default:pt(e,t,s)}}function qo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new sx),t.forEach(function(r){var l=hx.bind(null,e,r);s.has(r)||(s.add(r),r.then(l,l))})}}function Ge(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:oe=o.stateNode,He=!1;break e;case 3:oe=o.stateNode.containerInfo,He=!0;break e;case 4:oe=o.stateNode.containerInfo,He=!0;break e}o=o.return}if(oe===null)throw Error(P(160));fu(a,i,l),oe=null,He=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){Z(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gu(t,e),t=t.sibling}function gu(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ge(t,e),Ze(e),r&4){try{ls(3,e,e.return),Xr(3,e)}catch(v){Z(e,e.return,v)}try{ls(5,e,e.return)}catch(v){Z(e,e.return,v)}}break;case 1:Ge(t,e),Ze(e),r&512&&s!==null&&bn(s,s.return);break;case 5:if(Ge(t,e),Ze(e),r&512&&s!==null&&bn(s,s.return),e.flags&32){var l=e.stateNode;try{cs(l,"")}catch(v){Z(e,e.return,v)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=s!==null?s.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Oc(l,a),Yl(o,i);var u=Yl(o,a);for(i=0;i<c.length;i+=2){var x=c[i],g=c[i+1];x==="style"?qc(l,g):x==="dangerouslySetInnerHTML"?Bc(l,g):x==="children"?cs(l,g):Wa(l,x,g,u)}switch(o){case"input":Hl(l,a);break;case"textarea":$c(l,a);break;case"select":var f=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Nn(l,!!a.multiple,y,!1):f!==!!a.multiple&&(a.defaultValue!=null?Nn(l,!!a.multiple,a.defaultValue,!0):Nn(l,!!a.multiple,a.multiple?[]:"",!1))}l[ys]=a}catch(v){Z(e,e.return,v)}}break;case 6:if(Ge(t,e),Ze(e),r&4){if(e.stateNode===null)throw Error(P(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(v){Z(e,e.return,v)}}break;case 3:if(Ge(t,e),Ze(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{hs(t.containerInfo)}catch(v){Z(e,e.return,v)}break;case 4:Ge(t,e),Ze(e);break;case 13:Ge(t,e),Ze(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Si=ee())),r&4&&qo(e);break;case 22:if(x=s!==null&&s.memoizedState!==null,e.mode&1?(he=(u=he)||x,Ge(t,e),he=u):Ge(t,e),Ze(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!x&&e.mode&1)for(I=e,x=e.child;x!==null;){for(g=I=x;I!==null;){switch(f=I,y=f.child,f.tag){case 0:case 11:case 14:case 15:ls(4,f,f.return);break;case 1:bn(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,s=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){Z(r,s,v)}}break;case 5:bn(f,f.return);break;case 22:if(f.memoizedState!==null){Ho(g);continue}}y!==null?(y.return=f,I=y):Ho(g)}x=x.sibling}e:for(x=null,g=e;;){if(g.tag===5){if(x===null){x=g;try{l=g.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=g.stateNode,c=g.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Gc("display",i))}catch(v){Z(e,e.return,v)}}}else if(g.tag===6){if(x===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(v){Z(e,e.return,v)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;x===g&&(x=null),g=g.return}x===g&&(x=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ge(t,e),Ze(e),r&4&&qo(e);break;case 21:break;default:Ge(t,e),Ze(e)}}function Ze(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(pu(s)){var r=s;break e}s=s.return}throw Error(P(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(cs(l,""),r.flags&=-33);var a=Go(e);Aa(e,a,l);break;case 3:case 4:var i=r.stateNode.containerInfo,o=Go(e);Ca(e,o,i);break;default:throw Error(P(161))}}catch(c){Z(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lx(e,t,s){I=e,yu(e)}function yu(e,t,s){for(var r=(e.mode&1)!==0;I!==null;){var l=I,a=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||Ks;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||he;o=Ks;var u=he;if(Ks=i,(he=c)&&!u)for(I=l;I!==null;)i=I,c=i.child,i.tag===22&&i.memoizedState!==null?Vo(l):c!==null?(c.return=i,I=c):Vo(l);for(;a!==null;)I=a,yu(a),a=a.sibling;I=l,Ks=o,he=u}Wo(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,I=a):Wo(e)}}function Wo(e){for(;I!==null;){var t=I;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:he||Xr(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!he)if(s===null)r.componentDidMount();else{var l=t.elementType===t.type?s.memoizedProps:qe(t.type,s.memoizedProps);r.componentDidUpdate(l,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&To(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}To(t,i,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var x=u.memoizedState;if(x!==null){var g=x.dehydrated;g!==null&&hs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}he||t.flags&512&&ka(t)}catch(f){Z(t,t.return,f)}}if(t===e){I=null;break}if(s=t.sibling,s!==null){s.return=t.return,I=s;break}I=t.return}}function Ho(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var s=t.sibling;if(s!==null){s.return=t.return,I=s;break}I=t.return}}function Vo(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Xr(4,t)}catch(c){Z(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){Z(t,l,c)}}var a=t.return;try{ka(t)}catch(c){Z(t,a,c)}break;case 5:var i=t.return;try{ka(t)}catch(c){Z(t,i,c)}}}catch(c){Z(t,t.return,c)}if(t===e){I=null;break}var o=t.sibling;if(o!==null){o.return=t.return,I=o;break}I=t.return}}var ax=Math.ceil,Mr=ht.ReactCurrentDispatcher,Ni=ht.ReactCurrentOwner,$e=ht.ReactCurrentBatchConfig,B=0,ie=null,ne=null,ce=0,Ee=0,jn=Ft(0),re=0,Ss=null,sn=0,Yr=0,wi=0,as=null,we=null,Si=0,In=1/0,rt=null,Dr=!1,Pa=null,Et=null,Xs=!1,wt=null,Ir=0,is=0,Ta=null,dr=-1,ur=0;function ve(){return B&6?ee():dr!==-1?dr:dr=ee()}function Lt(e){return e.mode&1?B&2&&ce!==0?ce&-ce:Gh.transition!==null?(ur===0&&(ur=nd()),ur):(e=q,e!==0||(e=window.event,e=e===void 0?16:cd(e.type)),e):1}function Xe(e,t,s,r){if(50<is)throw is=0,Ta=null,Error(P(185));Ps(e,s,r),(!(B&2)||e!==ie)&&(e===ie&&(!(B&2)&&(Yr|=s),re===4&&jt(e,ce)),Ae(e,r),s===1&&B===0&&!(t.mode&1)&&(In=ee()+500,Vr&&Ut()))}function Ae(e,t){var s=e.callbackNode;Gm(e,t);var r=gr(e,e===ie?ce:0);if(r===0)s!==null&&to(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&to(s),t===1)e.tag===0?Bh(Qo.bind(null,e)):Pd(Qo.bind(null,e)),Uh(function(){!(B&6)&&Ut()}),s=null;else{switch(sd(r)){case 1:s=Xa;break;case 4:s=ed;break;case 16:s=fr;break;case 536870912:s=td;break;default:s=fr}s=Cu(s,vu.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function vu(e,t){if(dr=-1,ur=0,B&6)throw Error(P(327));var s=e.callbackNode;if(An()&&e.callbackNode!==s)return null;var r=gr(e,e===ie?ce:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_r(e,r);else{t=r;var l=B;B|=2;var a=ju();(ie!==e||ce!==t)&&(rt=null,In=ee()+500,Zt(e,t));do try{cx();break}catch(o){bu(e,o)}while(1);ci(),Mr.current=a,B=l,ne!==null?t=0:(ie=null,ce=0,t=re)}if(t!==0){if(t===2&&(l=na(e),l!==0&&(r=l,t=Ea(e,l))),t===1)throw s=Ss,Zt(e,0),jt(e,r),Ae(e,ee()),s;if(t===6)jt(e,r);else{if(l=e.current.alternate,!(r&30)&&!ix(l)&&(t=_r(e,r),t===2&&(a=na(e),a!==0&&(r=a,t=Ea(e,a))),t===1))throw s=Ss,Zt(e,0),jt(e,r),Ae(e,ee()),s;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:qt(e,we,rt);break;case 3:if(jt(e,r),(r&130023424)===r&&(t=Si+500-ee(),10<t)){if(gr(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){ve(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=da(qt.bind(null,e,we,rt),t);break}qt(e,we,rt);break;case 4:if(jt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-Ke(r);a=1<<i,i=t[i],i>l&&(l=i),r&=~a}if(r=l,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ax(r/1960))-r,10<r){e.timeoutHandle=da(qt.bind(null,e,we,rt),r);break}qt(e,we,rt);break;case 5:qt(e,we,rt);break;default:throw Error(P(329))}}}return Ae(e,ee()),e.callbackNode===s?vu.bind(null,e):null}function Ea(e,t){var s=as;return e.current.memoizedState.isDehydrated&&(Zt(e,t).flags|=256),e=_r(e,t),e!==2&&(t=we,we=s,t!==null&&La(t)),e}function La(e){we===null?we=e:we.push.apply(we,e)}function ix(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var l=s[r],a=l.getSnapshot;l=l.value;try{if(!Ye(a(),l))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jt(e,t){for(t&=~wi,t&=~Yr,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Ke(t),r=1<<s;e[s]=-1,t&=~r}}function Qo(e){if(B&6)throw Error(P(327));An();var t=gr(e,0);if(!(t&1))return Ae(e,ee()),null;var s=_r(e,t);if(e.tag!==0&&s===2){var r=na(e);r!==0&&(t=r,s=Ea(e,r))}if(s===1)throw s=Ss,Zt(e,0),jt(e,t),Ae(e,ee()),s;if(s===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qt(e,we,rt),Ae(e,ee()),null}function ki(e,t){var s=B;B|=1;try{return e(t)}finally{B=s,B===0&&(In=ee()+500,Vr&&Ut())}}function rn(e){wt!==null&&wt.tag===0&&!(B&6)&&An();var t=B;B|=1;var s=$e.transition,r=q;try{if($e.transition=null,q=1,e)return e()}finally{q=r,$e.transition=s,B=t,!(B&6)&&Ut()}}function Ci(){Ee=jn.current,V(jn)}function Zt(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Fh(s)),ne!==null)for(s=ne.return;s!==null;){var r=s;switch(ai(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nr();break;case 3:Mn(),V(ke),V(xe),pi();break;case 5:xi(r);break;case 4:Mn();break;case 13:V(K);break;case 19:V(K);break;case 10:di(r.type._context);break;case 22:case 23:Ci()}s=s.return}if(ie=e,ne=e=Mt(e.current,null),ce=Ee=t,re=0,Ss=null,wi=Yr=sn=0,we=as=null,Vt!==null){for(t=0;t<Vt.length;t++)if(s=Vt[t],r=s.interleaved,r!==null){s.interleaved=null;var l=r.next,a=s.pending;if(a!==null){var i=a.next;a.next=l,r.next=i}s.pending=r}Vt=null}return e}function bu(e,t){do{var s=ne;try{if(ci(),ir.current=Lr,Er){for(var r=X.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Er=!1}if(nn=0,ae=se=X=null,rs=!1,js=0,Ni.current=null,s===null||s.return===null){re=1,Ss=t,ne=null;break}e:{var a=e,i=s.return,o=s,c=t;if(t=ce,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,x=o,g=x.tag;if(!(x.mode&1)&&(g===0||g===11||g===15)){var f=x.alternate;f?(x.updateQueue=f.updateQueue,x.memoizedState=f.memoizedState,x.lanes=f.lanes):(x.updateQueue=null,x.memoizedState=null)}var y=_o(i);if(y!==null){y.flags&=-257,Ro(y,i,o,a,t),y.mode&1&&Io(a,u,t),t=y,c=u;var p=t.updateQueue;if(p===null){var v=new Set;v.add(c),t.updateQueue=v}else p.add(c);break e}else{if(!(t&1)){Io(a,u,t),Ai();break e}c=Error(P(426))}}else if(Q&&o.mode&1){var b=_o(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ro(b,i,o,a,t),ii(Dn(c,o));break e}}a=c=Dn(c,o),re!==4&&(re=2),as===null?as=[a]:as.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=su(a,c,t);Po(a,h);break e;case 1:o=c;var d=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Et===null||!Et.has(m)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=ru(a,o,t);Po(a,S);break e}}a=a.return}while(a!==null)}wu(s)}catch(N){t=N,ne===s&&s!==null&&(ne=s=s.return);continue}break}while(1)}function ju(){var e=Mr.current;return Mr.current=Lr,e===null?Lr:e}function Ai(){(re===0||re===3||re===2)&&(re=4),ie===null||!(sn&268435455)&&!(Yr&268435455)||jt(ie,ce)}function _r(e,t){var s=B;B|=2;var r=ju();(ie!==e||ce!==t)&&(rt=null,Zt(e,t));do try{ox();break}catch(l){bu(e,l)}while(1);if(ci(),B=s,Mr.current=r,ne!==null)throw Error(P(261));return ie=null,ce=0,re}function ox(){for(;ne!==null;)Nu(ne)}function cx(){for(;ne!==null&&!Im();)Nu(ne)}function Nu(e){var t=ku(e.alternate,e,Ee);e.memoizedProps=e.pendingProps,t===null?wu(e):ne=t,Ni.current=null}function wu(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=nx(s,t),s!==null){s.flags&=32767,ne=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{re=6,ne=null;return}}else if(s=tx(s,t,Ee),s!==null){ne=s;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);re===0&&(re=5)}function qt(e,t,s){var r=q,l=$e.transition;try{$e.transition=null,q=1,dx(e,t,s,r)}finally{$e.transition=l,q=r}return null}function dx(e,t,s,r){do An();while(wt!==null);if(B&6)throw Error(P(327));s=e.finishedWork;var l=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(qm(e,a),e===ie&&(ne=ie=null,ce=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Xs||(Xs=!0,Cu(fr,function(){return An(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=$e.transition,$e.transition=null;var i=q;q=1;var o=B;B|=4,Ni.current=null,rx(e,s),gu(s,e),Eh(oa),yr=!!ia,oa=ia=null,e.current=s,lx(s),_m(),B=o,q=i,$e.transition=a}else e.current=s;if(Xs&&(Xs=!1,wt=e,Ir=l),a=e.pendingLanes,a===0&&(Et=null),Um(s.stateNode),Ae(e,ee()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)l=t[s],r(l.value,{componentStack:l.stack,digest:l.digest});if(Dr)throw Dr=!1,e=Pa,Pa=null,e;return Ir&1&&e.tag!==0&&An(),a=e.pendingLanes,a&1?e===Ta?is++:(is=0,Ta=e):is=0,Ut(),null}function An(){if(wt!==null){var e=sd(Ir),t=$e.transition,s=q;try{if($e.transition=null,q=16>e?16:e,wt===null)var r=!1;else{if(e=wt,wt=null,Ir=0,B&6)throw Error(P(331));var l=B;for(B|=4,I=e.current;I!==null;){var a=I,i=a.child;if(I.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(I=u;I!==null;){var x=I;switch(x.tag){case 0:case 11:case 15:ls(8,x,a)}var g=x.child;if(g!==null)g.return=x,I=g;else for(;I!==null;){x=I;var f=x.sibling,y=x.return;if(xu(x),x===u){I=null;break}if(f!==null){f.return=y,I=f;break}I=y}}}var p=a.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}I=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,I=i;else e:for(;I!==null;){if(a=I,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ls(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,I=h;break e}I=a.return}}var d=e.current;for(I=d;I!==null;){i=I;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,I=m;else e:for(i=d;I!==null;){if(o=I,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xr(9,o)}}catch(N){Z(o,o.return,N)}if(o===i){I=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,I=S;break e}I=o.return}}if(B=l,Ut(),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Br,e)}catch{}r=!0}return r}finally{q=s,$e.transition=t}}return!1}function Ko(e,t,s){t=Dn(s,t),t=su(e,t,1),e=Tt(e,t,1),t=ve(),e!==null&&(Ps(e,1,t),Ae(e,t))}function Z(e,t,s){if(e.tag===3)Ko(e,e,s);else for(;t!==null;){if(t.tag===3){Ko(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Et===null||!Et.has(r))){e=Dn(s,e),e=ru(t,e,1),t=Tt(t,e,1),e=ve(),t!==null&&(Ps(t,1,e),Ae(t,e));break}}t=t.return}}function ux(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=ve(),e.pingedLanes|=e.suspendedLanes&s,ie===e&&(ce&s)===s&&(re===4||re===3&&(ce&130023424)===ce&&500>ee()-Si?Zt(e,0):wi|=s),Ae(e,t)}function Su(e,t){t===0&&(e.mode&1?(t=$s,$s<<=1,!($s&130023424)&&($s=4194304)):t=1);var s=ve();e=ut(e,t),e!==null&&(Ps(e,t,s),Ae(e,s))}function mx(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Su(e,s)}function hx(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(s=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Su(e,s)}var ku;ku=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||ke.current)Se=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Se=!1,ex(e,t,s);Se=!!(e.flags&131072)}else Se=!1,Q&&t.flags&1048576&&Td(t,kr,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;cr(e,t),e=t.pendingProps;var l=Tn(t,xe.current);Cn(t,s),l=gi(null,t,r,e,l,s);var a=yi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ce(r)?(a=!0,wr(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,mi(t),l.updater=Kr,t.stateNode=l,l._reactInternals=t,ga(t,r,e,s),t=ba(null,t,r,!0,a,s)):(t.tag=0,Q&&a&&li(t),ge(null,t,l,s),t=t.child),t;case 16:r=t.elementType;e:{switch(cr(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=px(r),e=qe(r,e),l){case 0:t=va(null,t,r,e,s);break e;case 1:t=Oo(null,t,r,e,s);break e;case 11:t=Fo(null,t,r,e,s);break e;case 14:t=Uo(null,t,r,qe(r.type,e),s);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:qe(r,l),va(e,t,r,l,s);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:qe(r,l),Oo(e,t,r,l,s);case 3:e:{if(ou(t),e===null)throw Error(P(387));r=t.pendingProps,a=t.memoizedState,l=a.element,_d(e,t),Pr(t,r,null,s);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Dn(Error(P(423)),t),t=$o(e,t,r,s,l);break e}else if(r!==l){l=Dn(Error(P(424)),t),t=$o(e,t,r,s,l);break e}else for(Le=Pt(t.stateNode.containerInfo.firstChild),De=t,Q=!0,Ve=null,s=Dd(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(En(),r===l){t=mt(e,t,s);break e}ge(e,t,r,s)}t=t.child}return t;case 5:return Rd(t),e===null&&xa(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,ca(r,l)?i=null:a!==null&&ca(r,a)&&(t.flags|=32),iu(e,t),ge(e,t,i,s),t.child;case 6:return e===null&&xa(t),null;case 13:return cu(e,t,s);case 4:return hi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ln(t,null,r,s):ge(e,t,r,s),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:qe(r,l),Fo(e,t,r,l,s);case 7:return ge(e,t,t.pendingProps,s),t.child;case 8:return ge(e,t,t.pendingProps.children,s),t.child;case 12:return ge(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,W(Cr,r._currentValue),r._currentValue=i,a!==null)if(Ye(a.value,i)){if(a.children===l.children&&!ke.current){t=mt(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ot(-1,s&-s),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var x=u.pending;x===null?c.next=c:(c.next=x.next,x.next=c),u.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),pa(a.return,s,t),o.lanes|=s;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(P(341));i.lanes|=s,o=i.alternate,o!==null&&(o.lanes|=s),pa(i,s,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ge(e,t,l.children,s),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Cn(t,s),l=ze(l),r=r(l),t.flags|=1,ge(e,t,r,s),t.child;case 14:return r=t.type,l=qe(r,t.pendingProps),l=qe(r.type,l),Uo(e,t,r,l,s);case 15:return lu(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:qe(r,l),cr(e,t),t.tag=1,Ce(r)?(e=!0,wr(t)):e=!1,Cn(t,s),nu(t,r,l),ga(t,r,l,s),ba(null,t,r,!0,e,s);case 19:return du(e,t,s);case 22:return au(e,t,s)}throw Error(P(156,t.tag))};function Cu(e,t){return Jc(e,t)}function xx(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oe(e,t,s,r){return new xx(e,t,s,r)}function Pi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function px(e){if(typeof e=="function")return Pi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Va)return 11;if(e===Qa)return 14}return 2}function Mt(e,t){var s=e.alternate;return s===null?(s=Oe(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function mr(e,t,s,r,l,a){var i=2;if(r=e,typeof e=="function")Pi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case un:return Jt(s.children,l,a,t);case Ha:i=8,l|=8;break;case zl:return e=Oe(12,s,t,l|2),e.elementType=zl,e.lanes=a,e;case Bl:return e=Oe(13,s,t,l),e.elementType=Bl,e.lanes=a,e;case Gl:return e=Oe(19,s,t,l),e.elementType=Gl,e.lanes=a,e;case Rc:return Zr(s,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ic:i=10;break e;case _c:i=9;break e;case Va:i=11;break e;case Qa:i=14;break e;case ft:i=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Oe(i,s,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function Jt(e,t,s,r){return e=Oe(7,e,r,t),e.lanes=s,e}function Zr(e,t,s,r){return e=Oe(22,e,r,t),e.elementType=Rc,e.lanes=s,e.stateNode={isHidden:!1},e}function Ll(e,t,s){return e=Oe(6,e,null,t),e.lanes=s,e}function Ml(e,t,s){return t=Oe(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fx(e,t,s,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ti(e,t,s,r,l,a,i,o,c){return e=new fx(e,t,s,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Oe(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},mi(a),e}function gx(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function Au(e){if(!e)return _t;e=e._reactInternals;e:{if(an(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ce(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var s=e.type;if(Ce(s))return Ad(e,s,t)}return t}function Pu(e,t,s,r,l,a,i,o,c){return e=Ti(s,r,!0,e,l,a,i,o,c),e.context=Au(null),s=e.current,r=ve(),l=Lt(s),a=ot(r,l),a.callback=t??null,Tt(s,a,l),e.current.lanes=l,Ps(e,l,r),Ae(e,r),e}function Jr(e,t,s,r){var l=t.current,a=ve(),i=Lt(l);return s=Au(s),t.context===null?t.context=s:t.pendingContext=s,t=ot(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tt(l,t,i),e!==null&&(Xe(e,l,i,a),ar(e,l,i)),i}function Rr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xo(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Ei(e,t){Xo(e,t),(e=e.alternate)&&Xo(e,t)}function yx(){return null}var Tu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Li(e){this._internalRoot=e}el.prototype.render=Li.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Jr(e,t,null,null)};el.prototype.unmount=Li.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rn(function(){Jr(null,e,null,null)}),t[dt]=null}};function el(e){this._internalRoot=e}el.prototype.unstable_scheduleHydration=function(e){if(e){var t=ad();e={blockedOn:null,target:e,priority:t};for(var s=0;s<bt.length&&t!==0&&t<bt[s].priority;s++);bt.splice(s,0,e),s===0&&od(e)}};function Mi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yo(){}function vx(e,t,s,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var u=Rr(i);a.call(u)}}var i=Pu(t,r,e,0,null,!1,!1,"",Yo);return e._reactRootContainer=i,e[dt]=i.current,fs(e.nodeType===8?e.parentNode:e),rn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var u=Rr(c);o.call(u)}}var c=Ti(e,0,!1,null,null,!1,!1,"",Yo);return e._reactRootContainer=c,e[dt]=c.current,fs(e.nodeType===8?e.parentNode:e),rn(function(){Jr(t,c,s,r)}),c}function nl(e,t,s,r,l){var a=s._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=Rr(i);o.call(c)}}Jr(t,i,e,l)}else i=vx(s,t,e,l,r);return Rr(i)}rd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Yn(t.pendingLanes);s!==0&&(Ya(t,s|1),Ae(t,ee()),!(B&6)&&(In=ee()+500,Ut()))}break;case 13:rn(function(){var r=ut(e,1);if(r!==null){var l=ve();Xe(r,e,1,l)}}),Ei(e,1)}};Za=function(e){if(e.tag===13){var t=ut(e,134217728);if(t!==null){var s=ve();Xe(t,e,134217728,s)}Ei(e,134217728)}};ld=function(e){if(e.tag===13){var t=Lt(e),s=ut(e,t);if(s!==null){var r=ve();Xe(s,e,t,r)}Ei(e,t)}};ad=function(){return q};id=function(e,t){var s=q;try{return q=e,t()}finally{q=s}};Jl=function(e,t,s){switch(t){case"input":if(Hl(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var l=Hr(r);if(!l)throw Error(P(90));Uc(r),Hl(r,l)}}}break;case"textarea":$c(e,s);break;case"select":t=s.value,t!=null&&Nn(e,!!s.multiple,t,!1)}};Vc=ki;Qc=rn;var bx={usingClientEntryPoint:!1,Events:[Es,pn,Hr,Wc,Hc,ki]},Vn={findFiberByHostInstance:Ht,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jx={bundleType:Vn.bundleType,version:Vn.version,rendererPackageName:Vn.rendererPackageName,rendererConfig:Vn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yc(e),e===null?null:e.stateNode},findFiberByHostInstance:Vn.findFiberByHostInstance||yx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ys.isDisabled&&Ys.supportsFiber)try{Br=Ys.inject(jx),tt=Ys}catch{}}_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bx;_e.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mi(t))throw Error(P(200));return gx(e,t,null,s)};_e.createRoot=function(e,t){if(!Mi(e))throw Error(P(299));var s=!1,r="",l=Tu;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ti(e,1,!1,null,null,s,!1,r,l),e[dt]=t.current,fs(e.nodeType===8?e.parentNode:e),new Li(t)};_e.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Yc(t),e=e===null?null:e.stateNode,e};_e.flushSync=function(e){return rn(e)};_e.hydrate=function(e,t,s){if(!tl(t))throw Error(P(200));return nl(null,e,t,!0,s)};_e.hydrateRoot=function(e,t,s){if(!Mi(e))throw Error(P(405));var r=s!=null&&s.hydratedSources||null,l=!1,a="",i=Tu;if(s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=Pu(t,null,e,1,s??null,l,!1,a,i),e[dt]=t.current,fs(e),r)for(e=0;e<r.length;e++)s=r[e],l=s._getVersion,l=l(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,l]:t.mutableSourceEagerHydrationData.push(s,l);return new el(t)};_e.render=function(e,t,s){if(!tl(t))throw Error(P(200));return nl(null,e,t,!1,s)};_e.unmountComponentAtNode=function(e){if(!tl(e))throw Error(P(40));return e._reactRootContainer?(rn(function(){nl(null,null,e,!1,function(){e._reactRootContainer=null,e[dt]=null})}),!0):!1};_e.unstable_batchedUpdates=ki;_e.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!tl(s))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return nl(e,t,s,!1,r)};_e.version="18.3.1-next-f1338f8080-20240426";function Eu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eu)}catch(e){console.error(e)}}Eu(),Ec.exports=_e;var Nx=Ec.exports,Zo=Nx;Ol.createRoot=Zo.createRoot,Ol.hydrateRoot=Zo.hydrateRoot;class sl{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const s={listener:t};return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Di=typeof window>"u"||"Deno"in window;function We(){}function wx(e,t){return typeof e=="function"?e(t):e}function Sx(e){return typeof e=="number"&&e>=0&&e!==1/0}function kx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zs(e,t,s){return rl(e)?typeof t=="function"?{...s,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function yt(e,t,s){return rl(e)?[{...t,queryKey:e},s]:[e||{},t]}function Jo(e,t){const{type:s="all",exact:r,fetchStatus:l,predicate:a,queryKey:i,stale:o}=e;if(rl(i)){if(r){if(t.queryHash!==Ii(i,t.options))return!1}else if(!Fr(t.queryKey,i))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||typeof l<"u"&&l!==t.state.fetchStatus||a&&!a(t))}function ec(e,t){const{exact:s,fetching:r,predicate:l,mutationKey:a}=e;if(rl(a)){if(!t.options.mutationKey)return!1;if(s){if(Kt(t.options.mutationKey)!==Kt(a))return!1}else if(!Fr(t.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||l&&!l(t))}function Ii(e,t){return((t==null?void 0:t.queryKeyHashFn)||Kt)(e)}function Kt(e){return JSON.stringify(e,(t,s)=>Ma(s)?Object.keys(s).sort().reduce((r,l)=>(r[l]=s[l],r),{}):s)}function Fr(e,t){return Lu(e,t)}function Lu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!Lu(e[s],t[s])):!1}function Mu(e,t){if(e===t)return e;const s=tc(e)&&tc(t);if(s||Ma(e)&&Ma(t)){const r=s?e.length:Object.keys(e).length,l=s?t:Object.keys(t),a=l.length,i=s?[]:{};let o=0;for(let c=0;c<a;c++){const u=s?c:l[c];i[u]=Mu(e[u],t[u]),i[u]===e[u]&&o++}return r===a&&o===r?e:i}return t}function tc(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ma(e){if(!nc(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const s=t.prototype;return!(!nc(s)||!s.hasOwnProperty("isPrototypeOf"))}function nc(e){return Object.prototype.toString.call(e)==="[object Object]"}function rl(e){return Array.isArray(e)}function Du(e){return new Promise(t=>{setTimeout(t,e)})}function sc(e){Du(0).then(e)}function Cx(){if(typeof AbortController=="function")return new AbortController}function Ax(e,t,s){return s.isDataEqual!=null&&s.isDataEqual(e,t)?e:typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?Mu(e,t):t}class Px extends sl{constructor(){super(),this.setup=t=>{if(!Di&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),()=>{window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var s;this.setup=t,(s=this.cleanup)==null||s.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Da=new Px,rc=["online","offline"];class Tx extends sl{constructor(){super(),this.setup=t=>{if(!Di&&window.addEventListener){const s=()=>t();return rc.forEach(r=>{window.addEventListener(r,s,!1)}),()=>{rc.forEach(r=>{window.removeEventListener(r,s)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var s;this.setup=t,(s=this.cleanup)==null||s.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Ur=new Tx;function Ex(e){return Math.min(1e3*2**e,3e4)}function _i(e){return(e??"online")==="online"?Ur.isOnline():!0}class Iu{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function Dl(e){return e instanceof Iu}function _u(e){let t=!1,s=0,r=!1,l,a,i;const o=new Promise((b,h)=>{a=b,i=h}),c=b=>{r||(y(new Iu(b)),e.abort==null||e.abort())},u=()=>{t=!0},x=()=>{t=!1},g=()=>!Da.isFocused()||e.networkMode!=="always"&&!Ur.isOnline(),f=b=>{r||(r=!0,e.onSuccess==null||e.onSuccess(b),l==null||l(),a(b))},y=b=>{r||(r=!0,e.onError==null||e.onError(b),l==null||l(),i(b))},p=()=>new Promise(b=>{l=h=>{const d=r||!g();return d&&b(h),d},e.onPause==null||e.onPause()}).then(()=>{l=void 0,r||e.onContinue==null||e.onContinue()}),v=()=>{if(r)return;let b;try{b=e.fn()}catch(h){b=Promise.reject(h)}Promise.resolve(b).then(f).catch(h=>{var d,m;if(r)return;const S=(d=e.retry)!=null?d:3,N=(m=e.retryDelay)!=null?m:Ex,k=typeof N=="function"?N(s,h):N,C=S===!0||typeof S=="number"&&s<S||typeof S=="function"&&S(s,h);if(t||!C){y(h);return}s++,e.onFail==null||e.onFail(s,h),Du(k).then(()=>{if(g())return p()}).then(()=>{t?y(h):v()})})};return _i(e.networkMode)?v():p().then(v),{promise:o,cancel:c,continue:()=>(l==null?void 0:l())?o:Promise.resolve(),cancelRetry:u,continueRetry:x}}const Ri=console;function Lx(){let e=[],t=0,s=x=>{x()},r=x=>{x()};const l=x=>{let g;t++;try{g=x()}finally{t--,t||o()}return g},a=x=>{t?e.push(x):sc(()=>{s(x)})},i=x=>(...g)=>{a(()=>{x(...g)})},o=()=>{const x=e;e=[],x.length&&sc(()=>{r(()=>{x.forEach(g=>{s(g)})})})};return{batch:l,batchCalls:i,schedule:a,setNotifyFunction:x=>{s=x},setBatchNotifyFunction:x=>{r=x}}}const ye=Lx();class Ru{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sx(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(Di?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Mx extends Ru{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||Ri,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||Dx(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,s){const r=Ax(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){this.dispatch({type:"setState",state:t,setStateOptions:s})}cancel(t){var s;const r=this.promise;return(s=this.retryer)==null||s.cancel(t),r?r.then(We).catch(We):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!kx(this.state.dataUpdatedAt,t)}onFocus(){var t;const s=this.observers.find(r=>r.shouldFetchOnWindowFocus());s&&s.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const s=this.observers.find(r=>r.shouldFetchOnReconnect());s&&s.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,s){var r,l;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&s!=null&&s.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(p=>p.options.queryFn);y&&this.setOptions(y.options)}const i=Cx(),o={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>{if(i)return this.abortSignalConsumed=!0,i.signal}})};c(o);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(o)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),x={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(c(x),(r=this.options.behavior)==null||r.onFetch(x),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=x.fetchOptions)==null?void 0:l.meta)){var g;this.dispatch({type:"fetch",meta:(g=x.fetchOptions)==null?void 0:g.meta})}const f=y=>{if(Dl(y)&&y.silent||this.dispatch({type:"error",error:y}),!Dl(y)){var p,v,b,h;(p=(v=this.cache.config).onError)==null||p.call(v,y,this),(b=(h=this.cache.config).onSettled)==null||b.call(h,this.state.data,y,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=_u({fn:x.fetchFn,abort:i==null?void 0:i.abort.bind(i),onSuccess:y=>{var p,v,b,h;if(typeof y>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(y),(p=(v=this.cache.config).onSuccess)==null||p.call(v,y,this),(b=(h=this.cache.config).onSettled)==null||b.call(h,y,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(y,p)=>{this.dispatch({type:"failed",failureCount:y,error:p})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay,networkMode:x.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const s=r=>{var l,a;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(l=t.meta)!=null?l:null,fetchStatus:_i(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=t.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Dl(i)&&i.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),ye.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function Dx(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=typeof t<"u",r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"loading",fetchStatus:"idle"}}class Ix extends sl{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,s,r){var l;const a=s.queryKey,i=(l=s.queryHash)!=null?l:Ii(a,s);let o=this.get(i);return o||(o=new Mx({cache:this,logger:t.getLogger(),queryKey:a,queryHash:i,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const s=this.queriesMap[t.queryHash];s&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),s===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){ye.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,s){const[r]=yt(t,s);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(l=>Jo(r,l))}findAll(t,s){const[r]=yt(t,s);return Object.keys(r).length>0?this.queries.filter(l=>Jo(r,l)):this.queries}notify(t){ye.batch(()=>{this.listeners.forEach(({listener:s})=>{s(t)})})}onFocus(){ye.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){ye.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class _x extends Ru{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||Ri,this.observers=[],this.state=t.state||Rx(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(s=>s!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,s;return(t=(s=this.retryer)==null?void 0:s.continue())!=null?t:this.execute()}async execute(){const t=()=>{var C;return this.retryer=_u({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(w,T)=>{this.dispatch({type:"failed",failureCount:w,error:T})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(C=this.options.retry)!=null?C:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},s=this.state.status==="loading";try{var r,l,a,i,o,c,u,x;if(!s){var g,f,y,p;this.dispatch({type:"loading",variables:this.options.variables}),await((g=(f=this.mutationCache.config).onMutate)==null?void 0:g.call(f,this.state.variables,this));const w=await((y=(p=this.options).onMutate)==null?void 0:y.call(p,this.state.variables));w!==this.state.context&&this.dispatch({type:"loading",context:w,variables:this.state.variables})}const C=await t();return await((r=(l=this.mutationCache.config).onSuccess)==null?void 0:r.call(l,C,this.state.variables,this.state.context,this)),await((a=(i=this.options).onSuccess)==null?void 0:a.call(i,C,this.state.variables,this.state.context)),await((o=(c=this.mutationCache.config).onSettled)==null?void 0:o.call(c,C,null,this.state.variables,this.state.context,this)),await((u=(x=this.options).onSettled)==null?void 0:u.call(x,C,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:C}),C}catch(C){try{var v,b,h,d,m,S,N,k;throw await((v=(b=this.mutationCache.config).onError)==null?void 0:v.call(b,C,this.state.variables,this.state.context,this)),await((h=(d=this.options).onError)==null?void 0:h.call(d,C,this.state.variables,this.state.context)),await((m=(S=this.mutationCache.config).onSettled)==null?void 0:m.call(S,void 0,C,this.state.variables,this.state.context,this)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,void 0,C,this.state.variables,this.state.context)),C}finally{this.dispatch({type:"error",error:C})}}}dispatch(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!_i(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=s(this.state),ye.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function Rx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Fx extends sl{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,s,r){const l=new _x({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(s),state:r,defaultOptions:s.mutationKey?t.getMutationDefaults(s.mutationKey):void 0});return this.add(l),l}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(s=>s!==t),this.notify({type:"removed",mutation:t})}clear(){ye.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(s=>ec(t,s))}findAll(t){return this.mutations.filter(s=>ec(t,s))}notify(t){ye.batch(()=>{this.listeners.forEach(({listener:s})=>{s(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const s=this.mutations.filter(r=>r.state.isPaused);return ye.batch(()=>s.reduce((r,l)=>r.then(()=>l.continue().catch(We)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Ux(){return{onFetch:e=>{e.fetchFn=()=>{var t,s,r,l,a,i;const o=(t=e.fetchOptions)==null||(s=t.meta)==null?void 0:s.refetchPage,c=(r=e.fetchOptions)==null||(l=r.meta)==null?void 0:l.fetchMore,u=c==null?void 0:c.pageParam,x=(c==null?void 0:c.direction)==="forward",g=(c==null?void 0:c.direction)==="backward",f=((a=e.state.data)==null?void 0:a.pages)||[],y=((i=e.state.data)==null?void 0:i.pageParams)||[];let p=y,v=!1;const b=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{var C;if((C=e.signal)!=null&&C.aborted)v=!0;else{var w;(w=e.signal)==null||w.addEventListener("abort",()=>{v=!0})}return e.signal}})},h=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),d=(k,C,w,T)=>(p=T?[C,...p]:[...p,C],T?[w,...k]:[...k,w]),m=(k,C,w,T)=>{if(v)return Promise.reject("Cancelled");if(typeof w>"u"&&!C&&k.length)return Promise.resolve(k);const L={queryKey:e.queryKey,pageParam:w,meta:e.options.meta};b(L);const $=h(L);return Promise.resolve($).then(U=>d(k,w,U,T))};let S;if(!f.length)S=m([]);else if(x){const k=typeof u<"u",C=k?u:lc(e.options,f);S=m(f,k,C)}else if(g){const k=typeof u<"u",C=k?u:Ox(e.options,f);S=m(f,k,C,!0)}else{p=[];const k=typeof e.options.getNextPageParam>"u";S=(o&&f[0]?o(f[0],0,f):!0)?m([],k,y[0]):Promise.resolve(d([],y[0],f[0]));for(let w=1;w<f.length;w++)S=S.then(T=>{if(o&&f[w]?o(f[w],w,f):!0){const $=k?y[w]:lc(e.options,T);return m(T,k,$)}return Promise.resolve(d(T,y[w],f[w]))})}return S.then(k=>({pages:k,pageParams:p}))}}}}function lc(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function Ox(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class $x{constructor(t={}){this.queryCache=t.queryCache||new Ix,this.mutationCache=t.mutationCache||new Fx,this.logger=t.logger||Ri,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Da.subscribe(()=>{Da.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Ur.subscribe(()=>{Ur.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,s;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(s=this.unsubscribeOnline)==null||s.call(this),this.unsubscribeOnline=void 0)}isFetching(t,s){const[r]=yt(t,s);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,s){var r;return(r=this.queryCache.find(t,s))==null?void 0:r.state.data}ensureQueryData(t,s,r){const l=Zs(t,s,r),a=this.getQueryData(l.queryKey);return a?Promise.resolve(a):this.fetchQuery(l)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:s,state:r})=>{const l=r.data;return[s,l]})}setQueryData(t,s,r){const l=this.queryCache.find(t),a=l==null?void 0:l.state.data,i=wx(s,a);if(typeof i>"u")return;const o=Zs(t),c=this.defaultQueryOptions(o);return this.queryCache.build(this,c).setData(i,{...r,manual:!0})}setQueriesData(t,s,r){return ye.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:l})=>[l,this.setQueryData(l,s,r)]))}getQueryState(t,s){var r;return(r=this.queryCache.find(t,s))==null?void 0:r.state}removeQueries(t,s){const[r]=yt(t,s),l=this.queryCache;ye.batch(()=>{l.findAll(r).forEach(a=>{l.remove(a)})})}resetQueries(t,s,r){const[l,a]=yt(t,s,r),i=this.queryCache,o={type:"active",...l};return ye.batch(()=>(i.findAll(l).forEach(c=>{c.reset()}),this.refetchQueries(o,a)))}cancelQueries(t,s,r){const[l,a={}]=yt(t,s,r);typeof a.revert>"u"&&(a.revert=!0);const i=ye.batch(()=>this.queryCache.findAll(l).map(o=>o.cancel(a)));return Promise.all(i).then(We).catch(We)}invalidateQueries(t,s,r){const[l,a]=yt(t,s,r);return ye.batch(()=>{var i,o;if(this.queryCache.findAll(l).forEach(u=>{u.invalidate()}),l.refetchType==="none")return Promise.resolve();const c={...l,type:(i=(o=l.refetchType)!=null?o:l.type)!=null?i:"active"};return this.refetchQueries(c,a)})}refetchQueries(t,s,r){const[l,a]=yt(t,s,r),i=ye.batch(()=>this.queryCache.findAll(l).filter(c=>!c.isDisabled()).map(c=>{var u;return c.fetch(void 0,{...a,cancelRefetch:(u=a==null?void 0:a.cancelRefetch)!=null?u:!0,meta:{refetchPage:l.refetchPage}})}));let o=Promise.all(i).then(We);return a!=null&&a.throwOnError||(o=o.catch(We)),o}fetchQuery(t,s,r){const l=Zs(t,s,r),a=this.defaultQueryOptions(l);typeof a.retry>"u"&&(a.retry=!1);const i=this.queryCache.build(this,a);return i.isStaleByTime(a.staleTime)?i.fetch(a):Promise.resolve(i.state.data)}prefetchQuery(t,s,r){return this.fetchQuery(t,s,r).then(We).catch(We)}fetchInfiniteQuery(t,s,r){const l=Zs(t,s,r);return l.behavior=Ux(),this.fetchQuery(l)}prefetchInfiniteQuery(t,s,r){return this.fetchInfiniteQuery(t,s,r).then(We).catch(We)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,s){const r=this.queryDefaults.find(l=>Kt(t)===Kt(l.queryKey));r?r.defaultOptions=s:this.queryDefaults.push({queryKey:t,defaultOptions:s})}getQueryDefaults(t){if(!t)return;const s=this.queryDefaults.find(r=>Fr(t,r.queryKey));return s==null?void 0:s.defaultOptions}setMutationDefaults(t,s){const r=this.mutationDefaults.find(l=>Kt(t)===Kt(l.mutationKey));r?r.defaultOptions=s:this.mutationDefaults.push({mutationKey:t,defaultOptions:s})}getMutationDefaults(t){if(!t)return;const s=this.mutationDefaults.find(r=>Fr(t,r.mutationKey));return s==null?void 0:s.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const s={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!s.queryHash&&s.queryKey&&(s.queryHash=Ii(s.queryKey,s)),typeof s.refetchOnReconnect>"u"&&(s.refetchOnReconnect=s.networkMode!=="always"),typeof s.useErrorBoundary>"u"&&(s.useErrorBoundary=!!s.suspense),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}const ac=j.createContext(void 0),zx=j.createContext(!1);function Bx(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ac),window.ReactQueryClientContext):ac)}const Gx=({client:e,children:t,context:s,contextSharing:r=!1})=>{j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const l=Bx(s,r);return j.createElement(zx.Provider,{value:!s&&r},j.createElement(l.Provider,{value:e},t))};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ks.apply(this,arguments)}var St;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(St||(St={}));const ic="popstate";function qx(e){e===void 0&&(e={});function t(r,l){let{pathname:a,search:i,hash:o}=r.location;return Ia("",{pathname:a,search:i,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(r,l){return typeof l=="string"?l:Or(l)}return Hx(t,s,null,e)}function te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Wx(){return Math.random().toString(36).substr(2,8)}function oc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ia(e,t,s,r){return s===void 0&&(s=null),ks({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Un(t):t,{state:s,key:t&&t.key||r||Wx()})}function Or(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Un(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Hx(e,t,s,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:a=!1}=r,i=l.history,o=St.Pop,c=null,u=x();u==null&&(u=0,i.replaceState(ks({},i.state,{idx:u}),""));function x(){return(i.state||{idx:null}).idx}function g(){o=St.Pop;let b=x(),h=b==null?null:b-u;u=b,c&&c({action:o,location:v.location,delta:h})}function f(b,h){o=St.Push;let d=Ia(v.location,b,h);s&&s(d,b),u=x()+1;let m=oc(d,u),S=v.createHref(d);try{i.pushState(m,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;l.location.assign(S)}a&&c&&c({action:o,location:v.location,delta:1})}function y(b,h){o=St.Replace;let d=Ia(v.location,b,h);s&&s(d,b),u=x();let m=oc(d,u),S=v.createHref(d);i.replaceState(m,"",S),a&&c&&c({action:o,location:v.location,delta:0})}function p(b){let h=l.location.origin!=="null"?l.location.origin:l.location.href,d=typeof b=="string"?b:Or(b);return d=d.replace(/ $/,"%20"),te(h,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,h)}let v={get action(){return o},get location(){return e(l,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(ic,g),c=b,()=>{l.removeEventListener(ic,g),c=null}},createHref(b){return t(l,b)},createURL:p,encodeLocation(b){let h=p(b);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:f,replace:y,go(b){return i.go(b)}};return v}var cc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cc||(cc={}));function Vx(e,t,s){return s===void 0&&(s="/"),Qx(e,t,s,!1)}function Qx(e,t,s,r){let l=typeof t=="string"?Un(t):t,a=Ui(l.pathname||"/",s);if(a==null)return null;let i=Fu(e);Kx(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=ap(a);o=rp(i[c],u,r)}return o}function Fu(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let l=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(te(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Dt([r,c.relativePath]),x=s.concat(c);a.children&&a.children.length>0&&(te(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Fu(a.children,t,x,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:np(u,a.index),routesMeta:x})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))l(a,i);else for(let c of Uu(a.path))l(a,i,c)}),t}function Uu(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,l=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return l?[a,""]:[a];let i=Uu(r.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),l&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Kx(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:sp(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const Xx=/^:[\w-]+$/,Yx=3,Zx=2,Jx=1,ep=10,tp=-2,dc=e=>e==="*";function np(e,t){let s=e.split("/"),r=s.length;return s.some(dc)&&(r+=tp),t&&(r+=Zx),s.filter(l=>!dc(l)).reduce((l,a)=>l+(Xx.test(a)?Yx:a===""?Jx:ep),r)}function sp(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function rp(e,t,s){s===void 0&&(s=!1);let{routesMeta:r}=e,l={},a="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,x=a==="/"?t:t.slice(a.length)||"/",g=uc({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},x),f=c.route;if(!g&&u&&s&&!r[r.length-1].route.index&&(g=uc({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},x)),!g)return null;Object.assign(l,g.params),i.push({params:l,pathname:Dt([a,g.pathname]),pathnameBase:up(Dt([a,g.pathnameBase])),route:f}),g.pathnameBase!=="/"&&(a=Dt([a,g.pathnameBase]))}return i}function uc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=lp(e.path,e.caseSensitive,e.end),l=t.match(s);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:r.reduce((u,x,g)=>{let{paramName:f,isOptional:y}=x;if(f==="*"){let v=o[g]||"";i=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[g];return y&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function lp(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Fi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function ap(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ui(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}const ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,op=e=>ip.test(e);function cp(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:l=""}=typeof e=="string"?Un(e):e,a;if(s)if(op(s))a=s;else{if(s.includes("//")){let i=s;s=s.replace(/\/\/+/g,"/"),Fi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+s))}s.startsWith("/")?a=mc(s.substring(1),"/"):a=mc(s,t)}else a=t;return{pathname:a,search:mp(r),hash:hp(l)}}function mc(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function Il(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dp(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Oi(e,t){let s=dp(e);return t?s.map((r,l)=>l===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function $i(e,t,s,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=Un(e):(l=ks({},e),te(!l.pathname||!l.pathname.includes("?"),Il("?","pathname","search",l)),te(!l.pathname||!l.pathname.includes("#"),Il("#","pathname","hash",l)),te(!l.search||!l.search.includes("#"),Il("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,o;if(i==null)o=s;else{let g=t.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),g-=1;l.pathname=f.join("/")}o=g>=0?t[g]:"/"}let c=cp(l,o),u=i&&i!=="/"&&i.endsWith("/"),x=(a||i===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||x)&&(c.pathname+="/"),c}const Dt=e=>e.join("/").replace(/\/\/+/g,"/"),up=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ou=["post","put","patch","delete"];new Set(Ou);const pp=["get",...Ou];new Set(pp);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Cs.apply(this,arguments)}const zi=j.createContext(null),fp=j.createContext(null),Ot=j.createContext(null),ll=j.createContext(null),xt=j.createContext({outlet:null,matches:[],isDataRoute:!1}),$u=j.createContext(null);function gp(e,t){let{relative:s}=t===void 0?{}:t;On()||te(!1);let{basename:r,navigator:l}=j.useContext(Ot),{hash:a,pathname:i,search:o}=Gu(e,{relative:s}),c=i;return r!=="/"&&(c=i==="/"?r:Dt([r,i])),l.createHref({pathname:c,search:o,hash:a})}function On(){return j.useContext(ll)!=null}function on(){return On()||te(!1),j.useContext(ll).location}function zu(e){j.useContext(Ot).static||j.useLayoutEffect(e)}function pe(){let{isDataRoute:e}=j.useContext(xt);return e?Ep():yp()}function yp(){On()||te(!1);let e=j.useContext(zi),{basename:t,future:s,navigator:r}=j.useContext(Ot),{matches:l}=j.useContext(xt),{pathname:a}=on(),i=JSON.stringify(Oi(l,s.v7_relativeSplatPath)),o=j.useRef(!1);return zu(()=>{o.current=!0}),j.useCallback(function(u,x){if(x===void 0&&(x={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let g=$i(u,JSON.parse(i),a,x.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Dt([t,g.pathname])),(x.replace?r.replace:r.push)(g,x.state,x)},[t,r,i,a,e])}function Bu(){let{matches:e}=j.useContext(xt),t=e[e.length-1];return t?t.params:{}}function Gu(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=j.useContext(Ot),{matches:l}=j.useContext(xt),{pathname:a}=on(),i=JSON.stringify(Oi(l,r.v7_relativeSplatPath));return j.useMemo(()=>$i(e,JSON.parse(i),a,s==="path"),[e,i,a,s])}function vp(e,t){return bp(e,t)}function bp(e,t,s,r){On()||te(!1);let{navigator:l}=j.useContext(Ot),{matches:a}=j.useContext(xt),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=on(),x;if(t){var g;let b=typeof t=="string"?Un(t):t;c==="/"||(g=b.pathname)!=null&&g.startsWith(c)||te(!1),x=b}else x=u;let f=x.pathname||"/",y=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=Vx(e,{pathname:y}),v=kp(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Dt([c,l.encodeLocation?l.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Dt([c,l.encodeLocation?l.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,s,r);return t&&v?j.createElement(ll.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:St.Pop}},v):v}function jp(){let e=Tp(),t=xp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),s?j.createElement("pre",{style:l},s):null,a)}const Np=j.createElement(jp,null);class wp extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?j.createElement(xt.Provider,{value:this.props.routeContext},j.createElement($u.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sp(e){let{routeContext:t,match:s,children:r}=e,l=j.useContext(zi);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),j.createElement(xt.Provider,{value:t},r)}function kp(e,t,s,r){var l;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,o=(l=s)==null?void 0:l.errors;if(o!=null){let x=i.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);x>=0||te(!1),i=i.slice(0,Math.min(i.length,x+1))}let c=!1,u=-1;if(s&&r&&r.v7_partialHydration)for(let x=0;x<i.length;x++){let g=i[x];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=x),g.route.id){let{loaderData:f,errors:y}=s,p=g.route.loader&&f[g.route.id]===void 0&&(!y||y[g.route.id]===void 0);if(g.route.lazy||p){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((x,g,f)=>{let y,p=!1,v=null,b=null;s&&(y=o&&g.route.id?o[g.route.id]:void 0,v=g.route.errorElement||Np,c&&(u<0&&f===0?(Lp("route-fallback",!1),p=!0,b=null):u===f&&(p=!0,b=g.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,f+1)),d=()=>{let m;return y?m=v:p?m=b:g.route.Component?m=j.createElement(g.route.Component,null):g.route.element?m=g.route.element:m=x,j.createElement(Sp,{match:g,routeContext:{outlet:x,matches:h,isDataRoute:s!=null},children:m})};return s&&(g.route.ErrorBoundary||g.route.errorElement||f===0)?j.createElement(wp,{location:s.location,revalidation:s.revalidation,component:v,error:y,children:d(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):d()},null)}var qu=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qu||{}),$r=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($r||{});function Cp(e){let t=j.useContext(zi);return t||te(!1),t}function Ap(e){let t=j.useContext(fp);return t||te(!1),t}function Pp(e){let t=j.useContext(xt);return t||te(!1),t}function Wu(e){let t=Pp(),s=t.matches[t.matches.length-1];return s.route.id||te(!1),s.route.id}function Tp(){var e;let t=j.useContext($u),s=Ap($r.UseRouteError),r=Wu($r.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function Ep(){let{router:e}=Cp(qu.UseNavigateStable),t=Wu($r.UseNavigateStable),s=j.useRef(!1);return zu(()=>{s.current=!0}),j.useCallback(function(l,a){a===void 0&&(a={}),s.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Cs({fromRouteId:t},a)))},[e,t])}const hc={};function Lp(e,t,s){!t&&!hc[e]&&(hc[e]=!0)}function Mp(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function _a(e){let{to:t,replace:s,state:r,relative:l}=e;On()||te(!1);let{future:a,static:i}=j.useContext(Ot),{matches:o}=j.useContext(xt),{pathname:c}=on(),u=pe(),x=$i(t,Oi(o,a.v7_relativeSplatPath),c,l==="path"),g=JSON.stringify(x);return j.useEffect(()=>u(JSON.parse(g),{replace:s,state:r,relative:l}),[u,g,l,s,r]),null}function O(e){te(!1)}function Dp(e){let{basename:t="/",children:s=null,location:r,navigationType:l=St.Pop,navigator:a,static:i=!1,future:o}=e;On()&&te(!1);let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:a,static:i,future:Cs({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof r=="string"&&(r=Un(r));let{pathname:x="/",search:g="",hash:f="",state:y=null,key:p="default"}=r,v=j.useMemo(()=>{let b=Ui(x,c);return b==null?null:{location:{pathname:b,search:g,hash:f,state:y,key:p},navigationType:l}},[c,x,g,f,y,p,l]);return v==null?null:j.createElement(Ot.Provider,{value:u},j.createElement(ll.Provider,{children:s,value:v}))}function Ip(e){let{children:t,location:s}=e;return vp(Ra(t),s)}new Promise(()=>{});function Ra(e,t){t===void 0&&(t=[]);let s=[];return j.Children.forEach(e,(r,l)=>{if(!j.isValidElement(r))return;let a=[...t,l];if(r.type===j.Fragment){s.push.apply(s,Ra(r.props.children,a));return}r.type!==O&&te(!1),!r.props.index||!r.props.children||te(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Ra(r.props.children,a)),s.push(i)}),s}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Fa.apply(this,arguments)}function _p(e,t){if(e==null)return{};var s={},r=Object.keys(e),l,a;for(a=0;a<r.length;a++)l=r[a],!(t.indexOf(l)>=0)&&(s[l]=e[l]);return s}function Rp(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Fp(e,t){return e.button===0&&(!t||t==="_self")&&!Rp(e)}function Ua(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let r=e[s];return t.concat(Array.isArray(r)?r.map(l=>[s,l]):[[s,r]])},[]))}function Up(e,t){let s=Ua(e);return t&&t.forEach((r,l)=>{s.has(l)||t.getAll(l).forEach(a=>{s.append(l,a)})}),s}const Op=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$p="6";try{window.__reactRouterVersion=$p}catch{}const zp="startTransition",xc=um[zp];function Bp(e){let{basename:t,children:s,future:r,window:l}=e,a=j.useRef();a.current==null&&(a.current=qx({window:l,v5Compat:!0}));let i=a.current,[o,c]=j.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},x=j.useCallback(g=>{u&&xc?xc(()=>c(g)):c(g)},[c,u]);return j.useLayoutEffect(()=>i.listen(x),[i,x]),j.useEffect(()=>Mp(r),[r]),j.createElement(Dp,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:i,future:r})}const Gp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R=j.forwardRef(function(t,s){let{onClick:r,relative:l,reloadDocument:a,replace:i,state:o,target:c,to:u,preventScrollReset:x,viewTransition:g}=t,f=_p(t,Op),{basename:y}=j.useContext(Ot),p,v=!1;if(typeof u=="string"&&qp.test(u)&&(p=u,Gp))try{let m=new URL(window.location.href),S=u.startsWith("//")?new URL(m.protocol+u):new URL(u),N=Ui(S.pathname,y);S.origin===m.origin&&N!=null?u=N+S.search+S.hash:v=!0}catch{}let b=gp(u,{relative:l}),h=Wp(u,{replace:i,state:o,target:c,preventScrollReset:x,relative:l,viewTransition:g});function d(m){r&&r(m),m.defaultPrevented||h(m)}return j.createElement("a",Fa({},f,{href:p||b,onClick:v||a?r:d,ref:s,target:c}))});var pc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pc||(pc={}));var fc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fc||(fc={}));function Wp(e,t){let{target:s,replace:r,state:l,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,c=pe(),u=on(),x=Gu(e,{relative:i});return j.useCallback(g=>{if(Fp(g,s)){g.preventDefault();let f=r!==void 0?r:Or(u)===Or(x);c(e,{replace:f,state:l,preventScrollReset:a,relative:i,viewTransition:o})}},[u,c,x,r,l,s,e,a,i,o])}function Ms(e){let t=j.useRef(Ua(e)),s=j.useRef(!1),r=on(),l=j.useMemo(()=>Up(r.search,s.current?null:t.current),[r.search]),a=pe(),i=j.useCallback((o,c)=>{const u=Ua(typeof o=="function"?o(l):o);s.current=!0,a("?"+u,c)},[a,l]);return[l,i]}const M={SIAN_ADMIN:"sian_admin",SIAN_STAFF:"sian_staff",TENANT_ADMIN:"tenant_admin",TENANT_STAFF:"tenant_staff",MEMBER:"member"},Hu=j.createContext(),$t=()=>{const e=j.useContext(Hu);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Hp=({children:e})=>{const[t,s]=j.useState(null),[r,l]=j.useState(!0);j.useEffect(()=>{console.log(" AuthContext: Checking for existing session");const y=localStorage.getItem("authToken"),p=localStorage.getItem("user");if(y&&p)try{const v=JSON.parse(p);console.log(" AuthContext: Found existing user:",v),s(v)}catch(v){console.error(" AuthContext: Error parsing saved user:",v),x()}else console.log(" AuthContext: No existing session found");l(!1)},[]);const a=async(y,p,v="member")=>{try{console.log(" AuthContext: Staff login attempt:",{email:y,userType:v});const b=await u(y,p,v);return console.log(" AuthContext: Staff login result:",b),b}catch(b){return console.error(" AuthContext: Staff login error:",b),{success:!1,error:"Login failed. Please try again."}}},i=async(y,p,v)=>{try{console.log(" AuthContext: Member login attempt:",{memberNumber:y,phoneNumber:p});const b=await o(y,p,v);return console.log(" AuthContext: Member login result:",b),b}catch(b){return console.error(" AuthContext: Member login error:",b),{success:!1,error:"Login failed. Please try again."}}},o=async(y,p,v)=>{try{if(console.log(" AuthContext: Checking member login for:",{memberNumber:y,phoneNumber:p}),v!=="123456")return{success:!1,error:"Invalid verification code"};const b=await fetch("http://localhost:8082/api/auth/member-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({memberNumber:y,phoneNumber:p,otp:v})});if(b.ok){const h=await b.json();return h.success?(console.log(" AuthContext: Member login successful"),s(h.user),localStorage.setItem("authToken","member-token-"+Date.now()),localStorage.setItem("user",JSON.stringify(h.user)),{success:!0,user:h.user}):{success:!1,error:h.error||"Member not found"}}else return c(y,p)}catch{return console.log(" AuthContext: Backend unavailable, using demo member data"),c(y,p)}},c=(y,p)=>{const b=[{memberNumber:"69001289",phoneNumber:"+256700000001",name:"John Farmer",role:M.MEMBER,tenantCode:"gldmf",occupation:"farmer",memberSince:"2023-01-15"},{memberNumber:"69001290",phoneNumber:"+256700000002",name:"Sarah Vendor",role:M.MEMBER,tenantCode:"gldmf",occupation:"market_vendor",memberSince:"2023-02-20"},{memberNumber:"69001291",phoneNumber:"+256700000003",name:"Mike Driver",role:M.MEMBER,tenantCode:"gldmf",occupation:"taxi_driver",memberSince:"2023-03-10"}].find(h=>h.memberNumber===y&&h.phoneNumber===p);if(b){const h={id:"member-"+b.memberNumber,name:b.name,role:b.role,memberNumber:b.memberNumber,phoneNumber:b.phoneNumber,tenantCode:b.tenantCode,occupation:b.occupation,memberSince:b.memberSince};return console.log(" AuthContext: Demo member login successful"),s(h),localStorage.setItem("authToken","demo-member-token-"+Date.now()),localStorage.setItem("user",JSON.stringify(h)),{success:!0,user:h}}else return console.log(" AuthContext: No matching member found"),{success:!1,error:"Member not found. Please check your member number and phone number."}},u=async(y,p,v="member")=>{try{console.log(" AuthContext: Checking staff accounts for:",y);const b=[{email:"admin@sianfintech.com",password:"sian123",role:M.SIAN_ADMIN,name:"SianFinTech Super Admin",tenantCode:"sianfintech"},{email:"analyst@sianfintech.com",password:"sian123",role:M.SIAN_STAFF,name:"SianFinTech Analyst",tenantCode:"sianfintech"},{email:"support@sianfintech.com",password:"sian123",role:M.SIAN_STAFF,name:"SianFinTech Support",tenantCode:"sianfintech"}],h=[{email:"admin@gldmf.com",password:"staff123",role:M.TENANT_ADMIN,name:"GLDMF Admin",tenantCode:"gldmf"},{email:"loanofficer@gldmf.com",password:"staff123",role:M.TENANT_STAFF,name:"GLDMF Loan Officer",tenantCode:"gldmf"},{email:"manager@gldmf.com",password:"staff123",role:M.TENANT_STAFF,name:"GLDMF Manager",tenantCode:"gldmf"}];let d;if(v==="sian_staff"?d=b.find(m=>m.email===y&&m.password===p):v==="tenant_staff"?d=h.find(m=>m.email===y&&m.password===p):d=[...b,...h].find(m=>m.email===y&&m.password===p),console.log(" AuthContext: Staff login check - found:",d),d){const m={name:d.name,email:d.email,role:d.role,tenantCode:d.tenantCode};return console.log(" AuthContext: Setting staff user state and localStorage"),s(m),localStorage.setItem("authToken","staff-token-"+Date.now()),localStorage.setItem("user",JSON.stringify(m)),{success:!0,user:m}}else return console.log(" AuthContext: No matching staff user found"),{success:!1,error:"Invalid credentials"}}catch(b){return console.error(" AuthContext: Fallback staff login error:",b),{success:!1,error:"Login failed. Please try again."}}},x=()=>{console.log(" AuthContext: Logging out"),s(null),localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/",setTimeout(()=>{window.location.reload()},100)},f={user:t||{role:"public"},login:a,memberLogin:i,logout:x,loading:r,isAuthenticated:!!t&&t.role!=="public",isStaff:t&&[M.SIAN_ADMIN,M.SIAN_STAFF,M.TENANT_ADMIN,M.TENANT_STAFF].includes(t.role),isMember:t&&t.role===M.MEMBER};return console.log(" AuthContext: Providing value:",{user:f.user,isAuthenticated:f.isAuthenticated,loading:f.loading}),n.jsx(Hu.Provider,{value:f,children:e})},G=({children:e,requiredRole:t,requiredRoles:s=[]})=>{const{user:r,loading:l,isAuthenticated:a}=$t(),i=on(),c=["/","/services","/about","/contact","/investment-platform","/login","/register","/member-login","/gldmf-login","/sian-login","/unauthorized"].includes(i.pathname);return l?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):c?e:a?(t?r.role===t:s.length>0?s.includes(r.role):!0)?e:n.jsx(_a,{to:"/unauthorized",replace:!0}):n.jsx(_a,{to:"/",replace:!0})},Vp=()=>{const[e,t]=j.useState({firstName:"",lastName:"",email:"",phone:"",nationalId:"",dateOfBirth:"",customerType:"informal_trader",occupationProfile:{primaryOccupation:"",secondaryOccupation:"",yearsInOccupation:0,sectorSpecific:{cropType:"",farmSize:0,farmingExperience:0,landOwnership:"owned",businessAge:0,monthlyRevenue:0,marketLocation:"",gigPlatform:""}},financialProfile:{averageMonthlyIncome:0,incomeSources:[],incomeConsistency:"stable",mobileMoneyUsage:{primaryProvider:"mtn",averageMonthlyTransactions:0,averageBalance:0,transactionFrequency:"daily",commonTransactionTypes:[]},existingLoans:{hasActiveLoans:!1,totalLoanBalance:0,monthlyRepayments:0,repaymentHistory:"good"}},socialCapital:{communityInvolvement:{isCommunityMember:!1,communityGroups:[],leadershipRoles:[]},references:[],socialConnections:{familyInArea:!1,localBusinessRelations:!1,knownByLocalLeader:!1}},locationContext:{region:"",district:"",subcounty:"",parish:"",village:"",distanceToMarket:0,transportAvailable:!1,marketDays:[]},location:"",idNumber:""}),[s,r]=j.useState(1);j.useState(!1);const l=[{value:"farmer",label:"Farmer",icon:""},{value:"market_vendor",label:"Market Vendor",icon:""},{value:"taxi_driver",label:"Taxi/Boda Driver",icon:""},{value:"artisan",label:"Artisan/Craftsman",icon:""},{value:"shop_owner",label:"Shop Owner",icon:""},{value:"gig_worker",label:"Gig Worker",icon:""},{value:"small_business",label:"Small Business",icon:""},{value:"other",label:"Other",icon:""}],a={farmer:["Crop Farmer","Livestock Farmer","Fisherman","Poultry Farmer","Mixed Farmer"],market_vendor:["Food Vendor","Clothing Vendor","Electronics Vendor","General Merchandise","Fresh Produce"],taxi_driver:["Boda Boda","Taxi Driver","Truck Driver","Delivery Rider"],artisan:["Carpenter","Mason","Tailor","Mechanic","Electrician","Plumber"],shop_owner:["Grocery Store","Hardware Store","Clothing Boutique","Electronics Shop","Pharmacy"],gig_worker:["Ride Hailing","Delivery Services","Freelance Work","Construction Labor"],small_business:["Restaurant","Salon","Repair Shop","Consulting","Trading"],other:["Student","Household","Unemployed","Other"]},i=[{value:"mtn",label:"MTN Mobile Money",icon:""},{value:"airtel",label:"Airtel Money",icon:""},{value:"africell",label:"Africell Money",icon:""},{value:"other",label:"Other",icon:""}],o=b=>{const{name:h,value:d,type:m,checked:S}=b.target;if(h.includes(".")){const[N,k,C]=h.split(".");t(w=>({...w,[N]:{...w[N],[k]:C?{...w[N][k],[C]:m==="checkbox"?S:d}:m==="checkbox"?S:d}}))}else t(N=>({...N,[h]:m==="checkbox"?S:d}))},c=b=>{t(h=>({...h,customerType:b,occupationProfile:{...h.occupationProfile,primaryOccupation:""}}))},u=()=>{t({firstName:"",lastName:"",email:"",phone:"",nationalId:"",dateOfBirth:"",customerType:"informal_trader",occupationProfile:{primaryOccupation:"",secondaryOccupation:"",yearsInOccupation:0,sectorSpecific:{cropType:"",farmSize:0,farmingExperience:0,landOwnership:"owned",businessAge:0,monthlyRevenue:0,marketLocation:"",gigPlatform:""}},financialProfile:{averageMonthlyIncome:0,incomeSources:[],incomeConsistency:"stable",mobileMoneyUsage:{primaryProvider:"mtn",averageMonthlyTransactions:0,averageBalance:0,transactionFrequency:"daily",commonTransactionTypes:[]},existingLoans:{hasActiveLoans:!1,totalLoanBalance:0,monthlyRepayments:0,repaymentHistory:"good"}},socialCapital:{communityInvolvement:{isCommunityMember:!1,communityGroups:[],leadershipRoles:[]},references:[],socialConnections:{familyInArea:!1,localBusinessRelations:!1,knownByLocalLeader:!1}},locationContext:{region:"",district:"",subcounty:"",parish:"",village:"",distanceToMarket:0,transportAvailable:!1,marketDays:[]},location:"",idNumber:""}),r(1)},x=async b=>{b.preventDefault(),console.log("Form submitted:",e);try{const h=await fetch("/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(h.ok){const d=await h.json();alert("User registered successfully! AI assessment initiated."),console.log("Registration result:",d),u()}else throw new Error("Registration failed")}catch(h){console.error("Registration error:",h),alert("Registration completed! AI assessment will run in background."),u()}},g=()=>r(b=>b+1),f=()=>r(b=>b-1),y=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),n.jsx("input",{type:"text",name:"firstName",value:e.firstName,onChange:o,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter first name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),n.jsx("input",{type:"text",name:"lastName",value:e.lastName,onChange:o,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter last name"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",name:"email",value:e.email,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter email address"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:o,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter phone number"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"National ID *"}),n.jsx("input",{type:"text",name:"nationalId",value:e.nationalId,onChange:o,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter National ID number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth *"}),n.jsx("input",{type:"date",name:"dateOfBirth",value:e.dateOfBirth,onChange:o,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]})]})]}),p=()=>{var b;return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Occupation & Business"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Customer Type *"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:l.map(h=>n.jsxs("button",{type:"button",onClick:()=>c(h.value),className:`p-4 border-2 rounded-lg text-center transition-all ${e.customerType===h.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx("div",{className:"text-2xl mb-2",children:h.icon}),n.jsx("div",{className:"text-sm font-medium",children:h.label})]},h.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Occupation *"}),n.jsxs("select",{name:"occupationProfile.primaryOccupation",value:e.occupationProfile.primaryOccupation,onChange:o,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[n.jsx("option",{value:"",children:"Select occupation"}),(b=a[e.customerType])==null?void 0:b.map(h=>n.jsx("option",{value:h,children:h},h))]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years in this Occupation"}),n.jsx("input",{type:"number",name:"occupationProfile.yearsInOccupation",value:e.occupationProfile.yearsInOccupation,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Occupation"}),n.jsx("input",{type:"text",name:"occupationProfile.secondaryOccupation",value:e.occupationProfile.secondaryOccupation,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Optional"})]})]}),e.customerType==="farmer"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-yellow-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Crop Type"}),n.jsx("input",{type:"text",name:"occupationProfile.sectorSpecific.cropType",value:e.occupationProfile.sectorSpecific.cropType,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"e.g., Maize, Coffee"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Farm Size (acres)"}),n.jsx("input",{type:"number",name:"occupationProfile.sectorSpecific.farmSize",value:e.occupationProfile.sectorSpecific.farmSize,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"0"})]})]})]})},v=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Financial Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Average Monthly Income (UGX)"}),n.jsx("input",{type:"number",name:"financialProfile.averageMonthlyIncome",value:e.financialProfile.averageMonthlyIncome,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Income Consistency"}),n.jsxs("select",{name:"financialProfile.incomeConsistency",value:e.financialProfile.incomeConsistency,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[n.jsx("option",{value:"stable",children:"Stable"}),n.jsx("option",{value:"seasonal",children:"Seasonal"}),n.jsx("option",{value:"irregular",children:"Irregular"})]})]})]}),n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Mobile Money Usage"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Provider"}),n.jsx("select",{name:"financialProfile.mobileMoneyUsage.primaryProvider",value:e.financialProfile.mobileMoneyUsage.primaryProvider,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:i.map(b=>n.jsx("option",{value:b.value,children:b.label},b.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Average Balance (UGX)"}),n.jsx("input",{type:"number",name:"financialProfile.mobileMoneyUsage.averageBalance",value:e.financialProfile.mobileMoneyUsage.averageBalance,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"0"})]})]})]})]});return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(R,{to:"/",className:"bg-blue-600 text-white p-2 rounded-lg",children:n.jsx("span",{className:"font-bold text-lg",children:"Sian"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Enhanced Client Registration"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Register clients with comprehensive informal sector data"})]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx(R,{to:"/",className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Back to Dashboard"})})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(b=>n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${s>=b?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:b},b))}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Step ",s," of 3"]})]}),n.jsxs("div",{className:"flex text-sm font-medium",children:[n.jsx("div",{className:`${s>=1?"text-blue-600":"text-gray-500"}`,children:"Basic Info"}),n.jsx("div",{className:`mx-4 ${s>=2?"text-blue-600":"text-gray-500"}`,children:"Occupation"}),n.jsx("div",{className:`${s>=3?"text-blue-600":"text-gray-500"}`,children:"Financial"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-2xl text-blue-600",children:""})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Register New Client"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Complete the enhanced registration form for better AI assessment"})]}),n.jsxs("form",{onSubmit:x,children:[s===1&&y(),s===2&&p(),s===3&&v(),n.jsxs("div",{className:"flex justify-between space-x-4 pt-8",children:[s>1?n.jsx("button",{type:"button",onClick:f,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Previous"}):n.jsx(R,{to:"/",className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s<3?n.jsx("button",{type:"button",onClick:g,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Next"}):n.jsxs("button",{type:"submit",className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[n.jsx("span",{className:"mr-2",children:""}),"Complete Registration"]})]})]})]})]})]})},_l=()=>{var m,S,N,k,C;const[e,t]=j.useState("credit"),[s,r]=j.useState(""),[l,a]=j.useState(null),[i,o]=j.useState(!1),[c,u]=j.useState([]),[x,g]=j.useState(null),[f,y]=j.useState(!0),p=[{id:"credit",name:"Comprehensive Credit Assessment",description:"AI-powered credit analysis with dynamic loan sizing and insurance integration",icon:"",color:"bg-green-500"},{id:"investment",name:"Agricultural Investment Package",description:"Input financing, market linkage, and investment recommendations",icon:"",color:"bg-blue-500"},{id:"fraud",name:"Risk & Fraud Detection",description:"Multi-dimensional risk assessment and fraud pattern detection",icon:"",color:"bg-red-500"},{id:"behavior",name:"Client Development Analysis",description:"Growth potential and lifecycle financial product recommendations",icon:"",color:"bg-purple-500"}];j.useEffect(()=>{(async()=>{try{y(!0);const T=await fetch("http://localhost:8082/api/users");if(T.ok){const L=await T.json();u(Array.isArray(L)?L:[])}else throw new Error("Failed to fetch clients")}catch(T){console.error("Error fetching clients:",T),u([{id:1,name:"John Doe",phone:"+256712345678",occupation:"Farmer",income:15e5,location:"Central Uganda",farmSize:5,cropType:"Maize",experience:8},{id:2,name:"Jane Smith",phone:"+256723456789",occupation:"Market Vendor",income:12e5,location:"Kampala",businessType:"Fresh Produce",businessAge:3},{id:3,name:"Mike Johnson",phone:"+256734567890",occupation:"Boda Rider",income:18e5,location:"Wakiso",vehicleType:"Motorcycle",ridingExperience:4}])}finally{y(!1)}})()},[]),j.useEffect(()=>{var w,T;if(x){const L={name:x.name,occupation:x.occupation,income:x.income?`UGX ${x.income.toLocaleString()}/month`:"Not specified",location:x.location||"Not specified",phone:x.phone||"Not specified"};let $=`CLIENT PROFILE:
Name: ${L.name}
Occupation: ${L.occupation}
Monthly Income: ${L.income}
Location: ${L.location}
Phone: ${L.phone}

`;((w=x.occupation)==null?void 0:w.toLowerCase())==="farmer"?$+=`FARMING DETAILS:
Farm Size: ${x.farmSize||"Not specified"} acres
Crop Type: ${x.cropType||"Not specified"}
Farming Experience: ${x.experience||"Not specified"} years

`:(T=x.occupation)!=null&&T.toLowerCase().includes("vendor")&&($+=`BUSINESS DETAILS:
Business Type: ${x.businessType||"Retail"}
Business Age: ${x.businessAge||"Not specified"} years

`),$+=`FINANCIAL ANALYSIS READY:
- Transaction History: Available
- Credit Assessment: Pending AI Analysis
- Risk Profile: To be determined
- Insurance Requirements: Recommended`,r($)}},[x]);const v=(w,T)=>{if(!(w!=null&&w.income))return 0;const L=w.income*6*(T/100);return Math.min(L,w.income*12)},b=w=>w>=80?"Low":w>=60?"Medium":"High",h=w=>{var L;const T=[];return T.push({type:"Basic Health Insurance",coverage:"UGX 5,000,000",premium:"UGX 50,000/month",necessity:"High"}),((L=w.occupation)==null?void 0:L.toLowerCase())==="farmer"&&T.push({type:"Crop Insurance",coverage:"UGX 3,000,000",premium:"UGX 25,000/month",necessity:"Critical"}),T},d=async()=>{var w;if(s.trim()){o(!0),a(null);try{if(e==="credit"&&x){const T=await fetch("http://localhost:8082/api/ai/ai-credit-assessment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({occupation:((w=x.occupation)==null?void 0:w.toLowerCase())||"farmer",customerType:"farmer",monthlyIncome:x.income||1e6,location:x.location||"Central Uganda"})});if(T.ok){const L=await T.json(),$=L.riskScore||75;a({score:$,riskLevel:b($),recommendation:L.recommendation||"Approve with conditions",confidence:L.confidence||85,approvedLoanAmount:v(x,$),insuranceRecommendations:h(x),factors:L.factors||["AI assessment completed successfully"],isRealData:!0}),o(!1);return}}}catch{console.log("Real AI service unavailable, using enhanced analysis")}setTimeout(()=>{const T=x?Math.floor(Math.random()*30)+65:75,L={credit:{score:T,riskLevel:b(T),recommendation:T>=70?"Approve with comprehensive package":"Approve with conditions",confidence:80+Math.floor(Math.random()*20),approvedLoanAmount:v(x,T),insuranceRecommendations:h(x),factors:["Stable income pattern identified","Positive community standing","Insurance coverage enhances security","Growth potential confirmed"],isRealData:!1},investment:{recommendation:"Diversified Agricultural Portfolio",expectedReturn:"15-20%",riskLevel:"Moderate",allocation:["Input Financing: 40%","Crop Insurance: 20%","Market Investments: 40%"],isRealData:!1},fraud:{riskScore:15,status:"Low Risk",alerts:["No suspicious patterns detected"],confidence:"95%",isRealData:!1},behavior:{segment:"Growth-Oriented Entrepreneur",predictedNeeds:["Input financing","Business expansion loan","Insurance products"],engagement:"High",lifetimeValue:"UGX 65,000,000",isRealData:!1}};a(L[e]),o(!1)},2e3)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(R,{to:"/",className:"bg-blue-600 text-white p-2 rounded-lg",children:n.jsx("span",{className:"font-bold text-lg",children:"Sian"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"AI Analysis Portal"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Advanced AI-driven financial analysis"})]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx(R,{to:"/",className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Back to Dashboard"})})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Client"}),f?n.jsxs("div",{className:"text-center py-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Loading clients..."})]}):n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:c.map(w=>n.jsxs("div",{onClick:()=>g(w),className:`p-3 border rounded-lg cursor-pointer transition-all ${(x==null?void 0:x.id)===w.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx("div",{className:"font-medium text-gray-900",children:w.name}),n.jsx("div",{className:"text-sm text-gray-600",children:w.occupation}),w.income&&n.jsxs("div",{className:"text-sm text-green-600",children:["UGX ",w.income.toLocaleString(),"/month"]})]},w.id))}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("button",{onClick:()=>{g(null),r("")},className:`w-full text-left p-3 border rounded-lg transition-all ${x?"border-gray-200 hover:border-gray-300":"border-purple-500 bg-purple-50"}`,children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Manual Input"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Enter client data manually"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Analysis Types"}),n.jsx("div",{className:"space-y-3",children:p.map(w=>n.jsx("button",{onClick:()=>t(w.id),className:`w-full text-left p-4 rounded-lg border-2 transition-all ${e===w.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`${w.color} text-white w-10 h-10 rounded-lg flex items-center justify-center text-lg`,children:w.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:w.name}),n.jsx("p",{className:"text-sm text-gray-600",children:w.description})]})]})},w.id))})]})]}),n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:`${(m=p.find(w=>w.id===e))==null?void 0:m.color} text-white w-12 h-12 rounded-lg flex items-center justify-center text-xl`,children:(S=p.find(w=>w.id===e))==null?void 0:S.icon}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:(N=p.find(w=>w.id===e))==null?void 0:N.name}),n.jsx("p",{className:"text-gray-600",children:(k=p.find(w=>w.id===e))==null?void 0:k.description})]})]}),x&&n.jsx("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-gray-900",children:["Analyzing: ",x.name]}),n.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[x.occupation,"  ",x.location," ",x.income&&` UGX ${x.income.toLocaleString()}/month`]})]}),n.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Real Client Data"})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Input Data for Analysis",x&&n.jsx("span",{className:"text-green-600 text-xs ml-2",children:"(Auto-populated from client record)"})]}),n.jsx("textarea",{value:s,onChange:w=>r(w.target.value),placeholder:x?"Client data auto-populated. Modify or add additional information...":"Enter client data, financial information, or transaction details...",rows:"8",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"})]}),n.jsx("button",{onClick:d,disabled:!s.trim()||i,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 flex items-center justify-center text-lg font-semibold",children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"AI Analyzing..."]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mr-2",children:""}),"Run AI Analysis"]})}),l&&n.jsxs("div",{className:"mt-6 p-6 bg-green-50 border border-green-200 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Analysis Results"}),l.isRealData?n.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Real AI Analysis"}):n.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded",children:"Enhanced Analysis"})]}),e==="credit"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[l.score,"/100"]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Credit Score"})]}),n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border",children:[n.jsx("div",{className:`text-xl font-bold ${l.riskLevel==="Low"?"text-green-600":l.riskLevel==="Medium"?"text-yellow-600":"text-red-600"}`,children:l.riskLevel}),n.jsx("div",{className:"text-sm text-gray-600",children:"Risk Level"})]}),n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border",children:[n.jsxs("div",{className:"text-xl font-bold text-blue-600",children:["UGX ",(C=l.approvedLoanAmount)==null?void 0:C.toLocaleString()]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Approved Amount"})]}),n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border",children:[n.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[l.confidence,"%"]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Confidence"})]})]}),n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"AI Recommendation"}),n.jsx("p",{className:"text-blue-800 font-medium",children:l.recommendation})]}),l.insuranceRecommendations&&n.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recommended Insurance Package"}),n.jsx("div",{className:"space-y-2",children:l.insuranceRecommendations.map((w,T)=>n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:w.type}),n.jsxs("span",{className:"text-gray-600 ml-2",children:["- ",w.coverage]})]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs ${w.necessity==="Critical"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:w.necessity})]},T))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Key Factors"}),n.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:l.factors.map((w,T)=>n.jsx("li",{children:w},T))})]})]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-8",children:[n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"98.2%"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Accuracy Rate"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Clients Available"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"2.3s"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Average Response Time"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"87%"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Client Satisfaction"})]})]})]})]})},gc=()=>{const{user:e}=$t(),[t,s]=j.useState({loanAmount:"",loanPeriod:"12",loanPurpose:"",repaymentSource:""}),[r,l]=j.useState(!1),[a,i]=j.useState(!1),o=["Agricultural Inputs","Business Expansion","Equipment Purchase","Working Capital","Education Fees","Medical Expenses","Home Improvement","Vehicle Purchase","Other"],c=["Business Revenue","Salary/Employment","Farm Produce Sales","Investment Returns","Other Income"],u=async g=>{g.preventDefault(),l(!0);try{await new Promise(f=>setTimeout(f,2e3)),console.log("Loan application submitted:",{...t,memberId:e.memberNumber,applicantName:e.name,phoneNumber:e.phoneNumber,occupation:e.occupation,timestamp:new Date().toISOString()}),i(!0)}catch(f){console.error("Error submitting loan application:",f),alert("Failed to submit application. Please try again.")}finally{l(!1)}},x=(g,f)=>{s(y=>({...y,[g]:f}))};return a?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx("div",{className:"text-green-500 text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Application Submitted!"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Your loan application has been received and is under review by our team. You will be notified via SMS once a decision is made."}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Next Steps:"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:" Application received by GLDMF staff"}),n.jsx("li",{children:" AI credit assessment in progress"}),n.jsx("li",{children:" Manual review by loan officer"}),n.jsx("li",{children:" Decision within 2-3 business days"})]})]}),n.jsx("button",{onClick:()=>window.location.href="/member/dashboard",className:"w-full mt-6 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700",children:"Back to Dashboard"})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Loan Application"}),n.jsx("p",{className:"text-gray-600",children:"Apply for financing to grow your business or meet personal needs"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Applicant Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-700",children:"Name"}),n.jsx("p",{className:"font-semibold",children:e.name})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-700",children:"Member ID"}),n.jsx("p",{className:"font-semibold",children:e.memberNumber})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-700",children:"Phone"}),n.jsx("p",{className:"font-semibold",children:e.phoneNumber})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-700",children:"Occupation"}),n.jsx("p",{className:"font-semibold capitalize",children:e.occupation})]})]})]}),n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Amount (UGX) *"}),n.jsx("input",{type:"number",required:!0,value:t.loanAmount,onChange:g=>x("loanAmount",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter desired loan amount",min:"100000"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum loan amount: UGX 100,000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Period (Months) *"}),n.jsxs("select",{required:!0,value:t.loanPeriod,onChange:g=>x("loanPeriod",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"6",children:"6 Months"}),n.jsx("option",{value:"12",children:"12 Months"}),n.jsx("option",{value:"18",children:"18 Months"}),n.jsx("option",{value:"24",children:"24 Months"}),n.jsx("option",{value:"36",children:"36 Months"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Purpose *"}),n.jsxs("select",{required:!0,value:t.loanPurpose,onChange:g=>x("loanPurpose",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select purpose"}),o.map(g=>n.jsx("option",{value:g,children:g},g))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Repayment Source *"}),n.jsxs("select",{required:!0,value:t.repaymentSource,onChange:g=>x("repaymentSource",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select source"}),c.map(g=>n.jsx("option",{value:g,children:g},g))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Information (Optional)"}),n.jsx("textarea",{rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Provide any additional details about your loan request..."})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("input",{type:"checkbox",required:!0,className:"mt-1 mr-3"}),n.jsx("div",{children:n.jsx("p",{className:"text-sm text-yellow-800",children:"I agree to the terms and conditions. I understand that this application will be assessed by GLDMF staff and approval is subject to credit assessment. If approved, funds will be disbursed via mobile money."})})]})}),n.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 flex items-center justify-center",children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting Application..."]}):"Submit Loan Application"})]})]})})})},Qp="https://sianfintech-platform.onrender.com/api";async function _(e,t={}){const s=`${Qp}${e}`,r=localStorage.getItem("authToken")||localStorage.getItem("token"),l={headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`},...t.headers},...t};t.body&&l.method!=="GET"&&(l.body=JSON.stringify(t.body));try{console.log(` API Call: ${s}`,{method:l.method,headers:l.headers});const a=await fetch(s,l),i=await a.text();let o;try{o=i?JSON.parse(i):{}}catch(c){throw console.error(" JSON parse error:",c),new Error(`Invalid JSON response: ${i}`)}if(!a.ok)throw console.error(` API Error ${a.status}:`,o),new Error(o.error||o.message||`HTTP ${a.status}: ${a.statusText}`);return console.log(` API Success: ${e}`,o),o}catch(a){throw console.error(` API Call failed for ${s}:`,a),a.name==="TypeError"&&a.message.includes("Failed to fetch")?new Error("Network error: Cannot connect to server. Please check if the backend is running."):a}}const Qe={getUsers:(e={})=>{const t=new URLSearchParams;e.tenant&&t.append("tenant",e.tenant),e.role&&t.append("role",e.role),e.status&&t.append("status",e.status),e.limit&&t.append("limit",e.limit);const s=t.toString();return _(`/users${s?`?${s}`:""}`)},getMembers:(e={})=>{const t=new URLSearchParams;e.tenant&&t.append("tenant",e.tenant),e.status&&t.append("status",e.status);const s=t.toString();return _(`/members${s?`?${s}`:""}`)},updateUser:(e,t)=>_(`/users/${e}`,{method:"PUT",body:t}),createUser:e=>_("/users",{method:"POST",body:e})},Me={getLoans:(e={})=>{const t=new URLSearchParams;e.tenant&&t.append("tenant",e.tenant),e.status&&t.append("status",e.status),e.memberId&&t.append("memberId",e.memberId),e.userId&&t.append("userId",e.userId),e.borrower&&t.append("borrower",e.borrower);const s=t.toString();return _(`/loans${s?`?${s}`:""}`)},getLoan:e=>_(`/loans/${e}`),getUserLoans:e=>_(`/loans/user/${e}`),approveLoan:e=>_(`/loans/${e}/approve`,{method:"PUT"}),rejectLoan:(e,t="")=>_(`/loans/${e}/reject`,{method:"PUT",body:{reason:t}}),createLoan:e=>_("/loans",{method:"POST",body:e})},st={getInvestments:(e={})=>{const t=new URLSearchParams;e.tenant&&t.append("tenant",e.tenant),e.status&&t.append("status",e.status),e.type&&t.append("type",e.type),e.userId&&t.append("userId",e.userId),e.investor&&t.append("investor",e.investor);const s=t.toString();return _(`/investments${s?`?${s}`:""}`)},getUserInvestments:e=>_(`/investments/user/${e}`),updateInvestment:(e,t)=>_(`/investments/${e}`,{method:"PUT",body:t}),createInvestment:e=>_("/investments",{method:"POST",body:e})},Bi={getGLDMFDashboard:(e="GLDMF")=>_(`/dashboard/gldmf/${e.toLowerCase()}`),getSianDashboard:()=>_("/dashboard/sian"),getStats:e=>{const t=new URLSearchParams;e&&t.append("tenant",e);const s=t.toString();return _(`/dashboard/stats${s?`?${s}`:""}`)}},Xt={getTenants:()=>_("/tenants"),getTenant:e=>_(`/tenants/${e}`),updateTenant:(e,t)=>_(`/tenants/${e}`,{method:"PUT",body:t}),createTenant:e=>_("/tenants",{method:"POST",body:e})},Vu={getHealth:()=>_("/health"),getMetrics:()=>_("/system/metrics")},Yt={processPayment:e=>_("/payments/process",{method:"POST",body:e}),getTransactions:(e={})=>{const t=new URLSearchParams;e.tenant&&t.append("tenant",e.tenant),e.status&&t.append("status",e.status),e.type&&t.append("type",e.type),e.userId&&t.append("userId",e.userId);const s=t.toString();return _(`/payments/transactions${s?`?${s}`:""}`)},getUserTransactions:e=>_(`/payments/transactions/user/${e}`),initiateMobileMoney:e=>_("/payments/mobile-money/initiate",{method:"POST",body:e}),checkMobileMoneyStatus:e=>_(`/payments/mobile-money/status/${e}`),fundWallet:e=>_("/payments/wallet/fund",{method:"POST",body:e}),getWalletBalance:e=>_(`/payments/wallet/balance/${e}`)},Kp={getScore:e=>_(`/credit/score/${e}`),getReport:e=>_(`/credit/report/${e}`),getHistory:e=>_(`/credit/history/${e}`),calculateScore:e=>_("/credit/calculate",{method:"POST",body:e})},Xp={getBalance:e=>_(`/wallets/balance/${e}`),getWallet:e=>_(`/wallets/user/${e}`),getTransactions:(e,t={})=>{const s=new URLSearchParams;t.limit&&s.append("limit",t.limit),t.type&&s.append("type",t.type),t.startDate&&s.append("startDate",t.startDate),t.endDate&&s.append("endDate",t.endDate);const r=s.toString();return _(`/wallets/${e}/transactions${r?`?${r}`:""}`)},transfer:e=>_("/wallets/transfer",{method:"POST",body:e}),deposit:e=>_("/wallets/deposit",{method:"POST",body:e}),withdraw:e=>_("/wallets/withdraw",{method:"POST",body:e})},Rl={initiatePayment:async e=>_("/mobile-money/initiate",{method:"POST",body:e}),checkPaymentStatus:async e=>_(`/mobile-money/status/${e}`),processCallback:async e=>_("/mobile-money/callback",{method:"POST",body:e}),getNetworks:async()=>_("/mobile-money/networks"),validateNumber:async(e,t)=>_("/mobile-money/validate",{method:"POST",body:{phoneNumber:e,network:t}})},Yp=()=>{var b,h;const[e,t]=j.useState({provider:"mtn",phoneNumber:"",amount:"",purpose:"loan_repayment",reference:"",userId:"",sector:"general"}),[s,r]=j.useState(!1),[l,a]=j.useState(null),[i,o]=j.useState(!1);j.useState("user");const c=(d,m)=>{t(S=>({...S,[d]:m}))},u=d=>{let m=d.trim();return m.startsWith("0")?m="+256"+m.substring(1):m.startsWith("+")||(m="+256"+m),m.replace(/\s/g,"")},x=async()=>{var d;if(!e.phoneNumber||!e.amount||e.amount<=0){alert("Please fill in all required fields with valid values");return}r(!0),a(null);try{const m={...e,phoneNumber:u(e.phoneNumber),amount:parseFloat(e.amount),currency:"UGX",timestamp:new Date().toISOString(),metadata:{sector:e.sector,userAgent:navigator.userAgent,location:"UG"}},S=await Rl.initiatePayment(m);a({status:"pending",transactionId:S.transactionId||S.id,message:"Payment initiated. Please check your phone to complete the transaction.",providerReference:S.providerReference||S.reference,sector:e.sector,purpose:e.purpose,amount:parseFloat(e.amount)}),g(S.transactionId||S.id)}catch(m){console.error("Payment initiation failed:",m),a({status:"failed",message:`Payment failed: ${m.message}`,error:((d=m.response)==null?void 0:d.data)||m.message,sector:e.sector})}finally{r(!1)}},g=async d=>{let S=0;const N=async()=>{if(S>=30){a(k=>({...k,status:"timeout",message:"Payment status check timeout. Please verify manually."}));return}try{const k=await Rl.checkPaymentStatus(d);k.status==="completed"||k.status==="success"?a({status:"completed",transactionId:d,message:"Payment completed successfully!",providerReference:k.providerReference||k.reference,amount:k.amount||parseFloat(e.amount),timestamp:k.timestamp||new Date().toISOString(),sector:e.sector,purpose:e.purpose}):k.status==="failed"||k.status==="error"?a({status:"failed",transactionId:d,message:`Payment failed: ${k.reason||k.error||"Unknown error"}`,error:k.reason||k.error,sector:e.sector}):(S++,setTimeout(N,1e4))}catch(k){console.error("Status check failed:",k),S++,setTimeout(N,1e4)}};N()},f=async()=>{if(l!=null&&l.transactionId){o(!0);try{const d=await Rl.checkPaymentStatus(l.transactionId);d.status==="completed"||d.verified?a(m=>({...m,status:"completed",message:"Payment verified and completed successfully!",verified:!0})):a(m=>({...m,message:`Payment status: ${d.status}`}))}catch(d){console.error("Verification failed:",d),alert("Verification failed: "+d.message)}finally{o(!1)}}},y=[{id:"mtn",name:"MTN Mobile Money",color:"bg-yellow-500"},{id:"airtel",name:"Airtel Money",color:"bg-red-500"}],p=[{id:"loan_repayment",name:"Loan Repayment"},{id:"investment",name:"Investment"},{id:"savings",name:"Savings"},{id:"service_fee",name:"Service Fee"},{id:"other",name:"Other"}],v=[{id:"agriculture",name:"Agriculture",icon:""},{id:"transport",name:"Transport",icon:""},{id:"trade",name:"Trade",icon:""},{id:"services",name:"Services",icon:""},{id:"general",name:"General",icon:""}];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Mobile Money Payments"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Secure and instant mobile money transactions for all your financial needs"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Initiate Payment"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Money Provider"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:y.map(d=>n.jsx("button",{type:"button",onClick:()=>c("provider",d.id),className:`p-3 border-2 rounded-lg text-center transition-all ${e.provider===d.id?`border-blue-500 bg-blue-50 ${d.color} text-white`:"border-gray-300 bg-gray-50 text-gray-700 hover:border-gray-400"}`,children:d.name},d.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Sector"}),n.jsx("select",{value:e.sector,onChange:d=>c("sector",d.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:v.map(d=>n.jsxs("option",{value:d.id,children:[d.icon," ",d.name]},d.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",value:e.phoneNumber,onChange:d=>c("phoneNumber",d.target.value),placeholder:"e.g., 0700123456 or +256700123456",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (UGX) *"}),n.jsx("input",{type:"number",value:e.amount,onChange:d=>c("amount",d.target.value),placeholder:"Enter amount",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Purpose"}),n.jsx("select",{value:e.purpose,onChange:d=>c("purpose",d.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:p.map(d=>n.jsx("option",{value:d.id,children:d.name},d.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference (Optional)"}),n.jsx("input",{type:"text",value:e.reference,onChange:d=>c("reference",d.target.value),placeholder:"Payment reference",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsx("button",{onClick:x,disabled:s,className:`w-full py-4 px-6 rounded-lg font-semibold text-white transition-colors ${s?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:s?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):`Pay UGX ${e.amount||"0"} with ${e.provider.toUpperCase()}`})]}),l&&n.jsxs("div",{className:`rounded-2xl shadow-xl p-6 mb-6 ${l.status==="completed"?"bg-green-50 border border-green-200":l.status==="failed"?"bg-red-50 border border-red-200":"bg-yellow-50 border border-yellow-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Payment Status: ",l.status.toUpperCase()]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${l.status==="completed"?"bg-green-100 text-green-800":l.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:l.status})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-gray-700",children:l.message}),l.transactionId&&n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Transaction ID:"})," ",l.transactionId]}),l.providerReference&&n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Provider Reference:"})," ",l.providerReference]}),l.amount&&n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Amount:"})," UGX ",l.amount.toLocaleString()]}),l.sector&&n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Sector:"})," ",(b=v.find(d=>d.id===l.sector))==null?void 0:b.name]}),l.purpose&&n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Purpose:"})," ",(h=p.find(d=>d.id===l.purpose))==null?void 0:h.name]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[l.status==="pending"&&n.jsx("button",{onClick:f,disabled:i,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:i?"Checking...":"Verify Payment"}),n.jsx("button",{onClick:()=>a(null),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"New Payment"})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-2xl p-6 border border-blue-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Secure Mobile Money Payments"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-blue-800",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-lg mr-2",children:""}),n.jsx("span",{children:"Bank-level security"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-lg mr-2",children:""}),n.jsx("span",{children:"Instant processing"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-lg mr-2",children:""}),n.jsx("span",{children:"Mobile optimized"})]})]})]})]})})},Js=()=>{const e=pe(),[t,s]=j.useState([]),[r,l]=j.useState(!0),[a,i]=j.useState(0),[o,c]=j.useState({totalClients:245,registeredUsers:135,activeLoans:35,totalRevenue:35175,aiAssessments:89,paymentTransactions:456,activeKiosks:4,activeTenants:2,systemHealth:"healthy"});j.useEffect(()=>{(async()=>{try{l(!0);const[m,S,N]=await Promise.all([Xt.getTenants(),Bi.getSianDashboard(),Vu.getHealth()]);s(m),S&&c(k=>({...k,...S.stats})),N&&c(k=>({...k,systemHealth:N.status}))}catch(m){console.error("Error fetching data:",m),s([{id:1,name:"GLDMF",code:"GLDMF",plan:"Enterprise",status:"Active",users:127},{id:2,name:"Demo Tenant",code:"DEMO",plan:"Basic",status:"Active",users:15}])}finally{l(!1)}})();const d=setInterval(()=>{i(m=>m+1)},3e4);return()=>clearInterval(d)},[a]);const u=()=>{i(h=>h+1)},x=()=>{e("/admin/sian/tenants/create")},g=h=>{e(h==="GLDMF"?"/admin/gldmf":`/admin/tenant/${h}`)},f=h=>{switch(h){case"system_health":e("/admin/sian/system");break;case"tenant_analytics":e("/admin/sian/analytics");break;case"global_reports":e("/admin/sian/reports");break;case"audit_logs":e("/admin/sian/security/audit");break}},y=async(h,d)=>{try{switch(d){case"suspend":await Xt.updateTenant(h,{status:"Suspended"});break;case"activate":await Xt.updateTenant(h,{status:"Active"});break;case"upgrade":await Xt.updateTenant(h,{plan:"Enterprise"});break;default:break}u()}catch(m){console.error("Error performing tenant action:",m)}},p=()=>{localStorage.removeItem("token"),e("/login")},v=h=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(h||0),b=({title:h,value:d,icon:m,color:S,onClick:N,subtitle:k,status:C})=>n.jsx("div",{className:`bg-white rounded-xl shadow-lg p-6 ${N?"cursor-pointer hover:shadow-xl transition-shadow hover:scale-105 transform transition-transform":""}`,onClick:N,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`p-3 ${S} rounded-lg`,children:n.jsx("span",{className:"text-2xl",children:m})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:h}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d}),k&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:k})]})]}),C&&n.jsx("div",{className:`w-3 h-3 rounded-full ${C==="healthy"?"bg-green-500":C==="warning"?"bg-yellow-500":"bg-red-500"}`})]})});return r?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"SianFinTech Global Operations"}),n.jsx("p",{className:"text-gray-600",children:"AI-powered insights for emerging markets"}),n.jsxs("div",{className:"text-sm text-green-600 mt-1",children:["Backend: operations + Data: Live from Database  Last Update: ",new Date().toLocaleTimeString(),n.jsx("button",{onClick:u,className:"ml-2 text-blue-600 hover:text-blue-800 underline text-xs",children:"Refresh Now"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:"Super Admin"}),n.jsx(R,{to:"/admin/sian/security",className:"text-gray-600 hover:text-gray-900",children:"Security"}),n.jsx(R,{to:"/admin/sian/api",className:"text-gray-600 hover:text-gray-900",children:"API"}),n.jsx("button",{onClick:p,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Logout"})]})]})})}),n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-6 mb-8 text-white",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to SianFinTech Global"}),n.jsx("p",{className:"opacity-90",children:"Empowering informal economies with AI-driven financial solutions"}),n.jsx("p",{className:"text-sm opacity-80 mt-2",children:"Live Data - Connected to real database + Auto-refresh every 30s"})]}),n.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${o.systemHealth==="healthy"?"bg-green-500":o.systemHealth==="degraded"?"bg-yellow-500":"bg-red-500"}`,children:["System: ",o.systemHealth]})]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(b,{title:"Total Clients",value:o.totalClients,icon:"",color:"bg-blue-100",onClick:()=>e("/admin/sian/users"),subtitle:"Across all tenants"}),n.jsx(b,{title:"Registered Users",value:o.registeredUsers,icon:"",color:"bg-green-100",onClick:()=>e("/admin/sian/users?type=registered"),subtitle:"Active platform users"}),n.jsx(b,{title:"Active Loans",value:o.activeLoans,icon:"",color:"bg-purple-100",onClick:()=>e("/admin/sian/loans"),subtitle:"Current portfolio"}),n.jsx(b,{title:"Total Revenue",value:v(o.totalRevenue),icon:"",color:"bg-indigo-100",subtitle:"Platform-wide revenue"}),n.jsx(b,{title:"AI Assessments",value:o.aiAssessments,icon:"",color:"bg-orange-100",onClick:()=>e("/admin/sian/ai-metrics"),subtitle:"Credit assessments"}),n.jsx(b,{title:"Payment Transactions",value:o.paymentTransactions,icon:"",color:"bg-teal-100",onClick:()=>e("/admin/sian/transactions"),subtitle:"Total transactions"}),n.jsx(b,{title:"Active Kiosks",value:o.activeKiosks,icon:"",color:"bg-cyan-100",onClick:()=>e("/admin/sian/kiosks"),subtitle:"Service points"}),n.jsx(b,{title:"Active Tenants",value:o.activeTenants,icon:"",color:"bg-pink-100",onClick:()=>e("/admin/sian/tenants"),subtitle:"Managed organizations",status:o.systemHealth})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(R,{to:"/admin/sian/users",className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow group",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:n.jsx("span",{className:"text-2xl",children:""})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"User Management"}),n.jsxs("p",{className:"text-xs text-gray-600",children:[o.registeredUsers," users"]})]})]}),n.jsx("span",{className:"text-blue-600",children:""})]})}),n.jsx(R,{to:"/admin/sian/api",className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow group",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg group-hover:bg-green-200 transition-colors",children:n.jsx("span",{className:"text-2xl",children:""})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"API Management"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Manage API keys"})]})]}),n.jsx("span",{className:"text-green-600",children:""})]})}),n.jsx(R,{to:"/admin/sian/security",className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow group",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 bg-red-100 rounded-lg group-hover:bg-red-200 transition-colors",children:n.jsx("span",{className:"text-2xl",children:""})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Security Center"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Monitor security"})]})]}),n.jsx("span",{className:"text-red-600",children:""})]})}),n.jsx("button",{onClick:x,className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow text-left group",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg group-hover:bg-purple-200 transition-colors",children:n.jsx("span",{className:"text-2xl",children:""})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Create Tenant"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Add new organization"})]})]}),n.jsx("span",{className:"text-purple-600",children:"+"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Global Operations"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:()=>f("system_health"),className:"bg-blue-50 border border-blue-200 rounded-lg p-4 hover:bg-blue-100 transition-colors text-left",children:[n.jsx("div",{className:"font-semibold text-blue-900",children:"System Health"}),n.jsx("div",{className:"text-sm text-blue-700 mt-1",children:"Monitor platform status"})]}),n.jsxs("button",{onClick:()=>f("tenant_analytics"),className:"bg-green-50 border border-green-200 rounded-lg p-4 hover:bg-green-100 transition-colors text-left",children:[n.jsx("div",{className:"font-semibold text-green-900",children:"Tenant Analytics"}),n.jsx("div",{className:"text-sm text-green-700 mt-1",children:"Performance metrics"})]}),n.jsxs("button",{onClick:()=>f("global_reports"),className:"bg-purple-50 border border-purple-200 rounded-lg p-4 hover:bg-purple-100 transition-colors text-left",children:[n.jsx("div",{className:"font-semibold text-purple-900",children:"Global Reports"}),n.jsx("div",{className:"text-sm text-purple-700 mt-1",children:"Generate insights"})]}),n.jsxs("button",{onClick:()=>f("audit_logs"),className:"bg-red-50 border border-red-200 rounded-lg p-4 hover:bg-red-100 transition-colors text-left",children:[n.jsx("div",{className:"font-semibold text-red-900",children:"Audit Logs"}),n.jsx("div",{className:"text-sm text-red-700 mt-1",children:"Security monitoring"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Tenant Management"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:x,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Create New Tenant"}),n.jsx("button",{onClick:()=>e("/admin/sian/tenants"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"View All Tenants"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(h=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:h.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Code: ",h.code]})]}),n.jsx("span",{className:`text-xs px-2 py-1 rounded ${h.status==="Active"?"bg-green-100 text-green-800":h.status==="Suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:h.status})]}),n.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Plan:"}),n.jsx("span",{className:`font-semibold ${h.plan==="Enterprise"?"text-purple-600":"text-gray-600"}`,children:h.plan})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Users:"}),n.jsx("span",{className:"font-semibold",children:h.users})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>g(h.code),className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Manage"}),h.status==="Active"?n.jsx("button",{onClick:()=>y(h.id,"suspend"),className:"bg-yellow-600 text-white px-3 py-2 rounded hover:bg-yellow-700 text-sm",children:"Suspend"}):n.jsx("button",{onClick:()=>y(h.id,"activate"),className:"bg-green-600 text-white px-3 py-2 rounded hover:bg-green-700 text-sm",children:"Activate"})]})]},h.id))})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Activity"}),n.jsx("button",{onClick:()=>e("/admin/sian/activity"),className:"text-blue-600 hover:text-blue-800 text-sm",children:"View All Activity"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"New client registered - Jane Doe"}),n.jsx("p",{className:"text-sm text-gray-600",children:"GLDMF  5 minutes ago"})]}),n.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"Active"})]}),n.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Loan application approved - BST-00123"}),n.jsx("p",{className:"text-sm text-gray-600",children:"GLDMF  15 minutes ago"})]}),n.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:"Approved"})]}),n.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"GLDMF investment processed - UGX 1,000,000"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Investment  25 minutes ago"})]}),n.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs",children:"Completed"})]}),n.jsxs("div",{className:"flex items-center justify-between py-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"System backup completed"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Infrastructure  1 hour ago"})]}),n.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"Success"})]})]})]})]})]})},Qn=()=>{const e=pe(),[t,s]=j.useState("overview"),[r,l]=j.useState([]),[a,i]=j.useState([]),[o,c]=j.useState([]),[u,x]=j.useState(null),[g,f]=j.useState(!0),[y,p]=j.useState(0),[v,b]=j.useState({totalUsers:127,pendingLoans:15,approvedLoans:89,totalRevenue:125e4,activeInvestments:45,pendingInvestments:8});j.useEffect(()=>{(async()=>{try{f(!0);const[U,Ne,Pe,Te,fe]=await Promise.all([Xt.getTenants(),st.getInvestments({tenant:"GLDMF"}),Me.getLoans({tenant:"GLDMF"}),Qe.getUsers({tenant:"GLDMF"}),Bi.getGLDMFDashboard("GLDMF")]),D=U.find(E=>E.code==="GLDMF");x(D),l(Ne),i(Pe),c(Te),b(fe?fe.stats:{totalUsers:Te.length,pendingLoans:Pe.filter(E=>E.status==="pending").length,approvedLoans:Pe.filter(E=>E.status==="approved").length,totalRevenue:Pe.reduce((E,F)=>E+(F.amount||0),0),activeInvestments:Ne.filter(E=>E.status==="active").length,pendingInvestments:Ne.filter(E=>E.status==="pending").length})}catch(U){console.error("Error fetching data:",U),x({id:1,name:"GLDMF",code:"GLDMF",plan:"Enterprise",status:"Active",users:127})}finally{f(!1)}})()},[y]);const h=()=>{p(A=>A+1)},d=()=>{localStorage.removeItem("token"),e("/login")},m=A=>{e(`/admin/gldmf/investments/${A}`)},S=A=>{e(`/admin/gldmf/loans/${A}`)},N=A=>{e(A==="all"?"/admin/gldmf/members":`/admin/gldmf/users/${A}`)},k=A=>{switch(A){case"process_loans":e("/admin/gldmf/loans?status=pending");break;case"manage_investments":e("/admin/gldmf/investments");break;case"add_staff":e("/admin/gldmf/users/new");break;case"ai_scoring":e("/ai-portal");break;case"view_reports":e("/admin/gldmf/reports");break;case"manage_members":e("/admin/gldmf/members");break}},C=async A=>{try{await st.updateInvestment(A,{status:"approved"}),h()}catch(U){console.error("Error approving investment:",U)}},w=async A=>{try{await st.updateInvestment(A,{status:"rejected"}),h()}catch(U){console.error("Error rejecting investment:",U)}},T=async A=>{try{await Me.approveLoan(A),h()}catch(U){console.error("Error approving loan:",U)}},L=A=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(A||0),$=({title:A,value:U,icon:Ne,color:Pe,onClick:Te,subtitle:fe,actionLabel:D})=>n.jsx("div",{className:`bg-white rounded-xl shadow-lg p-6 ${Te?"cursor-pointer hover:shadow-xl transition-shadow hover:scale-105 transform transition-transform":""}`,onClick:Te,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`p-3 ${Pe} rounded-lg`,children:n.jsx("span",{className:"text-2xl",children:Ne})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:A}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:U}),fe&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:fe})]})]}),D&&n.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:D})]})});return g?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"GLDMF Portal - Great Lakes Development Microfinance"}),n.jsx("p",{className:"text-gray-600",children:"Admin Dashboard - GLDMF Tenant Management Portal"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[u&&n.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:[u.name,"  ",u.plan]}),n.jsx("button",{onClick:()=>e("/admin/sian"),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Global Operations"}),n.jsx("button",{onClick:()=>e("/settings"),className:"text-gray-600 hover:text-gray-900",children:"Settings"}),n.jsx("button",{onClick:d,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Logout"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-6",children:n.jsxs("div",{className:"flex space-x-8 border-b",children:[n.jsx("button",{onClick:()=>s("overview"),className:`pb-4 px-2 font-medium ${t==="overview"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:" Overview"}),n.jsxs("button",{onClick:()=>k("manage_members"),className:"pb-4 px-2 font-medium text-gray-500 hover:text-gray-700",children:[" Members (",v.totalUsers,")"]}),n.jsxs("button",{onClick:()=>k("process_loans"),className:"pb-4 px-2 font-medium text-gray-500 hover:text-gray-700",children:[" Loans (",v.pendingLoans+v.approvedLoans,")"]}),n.jsxs("button",{onClick:()=>k("manage_investments"),className:"pb-4 px-2 font-medium text-gray-500 hover:text-gray-700",children:[" Investments (",v.activeInvestments+v.pendingInvestments,")"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx($,{title:"Total Users",value:v.totalUsers,icon:"",color:"bg-blue-100",onClick:()=>N("all"),subtitle:"Click to manage users",actionLabel:"Manage"}),n.jsx($,{title:"Pending Loans",value:v.pendingLoans,icon:"",color:"bg-yellow-100",onClick:()=>k("process_loans"),subtitle:"Click to process loans",actionLabel:"Process"}),n.jsx($,{title:"Approved Loans",value:v.approvedLoans,icon:"",color:"bg-green-100",onClick:()=>e("/admin/gldmf/loans?status=approved"),subtitle:"Click to view approved",actionLabel:"View"}),n.jsx($,{title:"Total Revenue",value:L(v.totalRevenue),icon:"",color:"bg-purple-100",subtitle:"Current portfolio value"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:()=>k("process_loans"),className:"bg-blue-600 text-white p-4 rounded-lg hover:bg-blue-700 transition-colors text-left",children:[n.jsx("div",{className:"font-semibold",children:"Process Loans"}),n.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[v.pendingLoans," pending applications"]})]}),n.jsxs("button",{onClick:()=>k("manage_investments"),className:"bg-green-600 text-white p-4 rounded-lg hover:bg-green-700 transition-colors text-left",children:[n.jsx("div",{className:"font-semibold",children:"Manage Investments"}),n.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[v.pendingInvestments," awaiting approval"]})]}),n.jsxs("button",{onClick:()=>k("manage_members"),className:"bg-purple-600 text-white p-4 rounded-lg hover:bg-purple-700 transition-colors text-left",children:[n.jsx("div",{className:"font-semibold",children:"Member Management"}),n.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[v.totalUsers," total members"]})]}),n.jsxs("button",{onClick:()=>k("ai_scoring"),className:"bg-orange-600 text-white p-4 rounded-lg hover:bg-orange-700 transition-colors text-left",children:[n.jsx("div",{className:"font-semibold",children:"AI Credit Scoring"}),n.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Assess client applications"})]})]})]}),u&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Current Tenant Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Tenant Name"}),n.jsx("p",{className:"font-semibold",children:u.name})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Plan"}),n.jsx("p",{className:"font-semibold",children:u.plan})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),n.jsx("p",{className:"font-semibold text-green-600",children:u.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Users"}),n.jsx("p",{className:"font-semibold",children:u.users||v.totalUsers})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Members"}),n.jsx("button",{onClick:()=>k("manage_members"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"View All Members"})]}),n.jsxs("div",{className:"space-y-4",children:[o.slice(0,5).map(A=>{var U;return n.jsxs("div",{className:"flex justify-between items-center py-3 border-b",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:n.jsx("span",{className:"text-blue-600 font-medium",children:((U=A.name)==null?void 0:U.charAt(0))||"U"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:A.name}),n.jsx("p",{className:"text-sm text-gray-600",children:A.email}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Joined: ",new Date(A.createdAt).toLocaleDateString()]})]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>N(A.id),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"View"})})]},A.id)}),o.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No members found"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Investment Management"}),n.jsx("button",{onClick:()=>k("manage_investments"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"View All Investments"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Active Investments"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:v.activeInvestments}),n.jsx("p",{className:"text-sm text-green-700",children:"Currently managed investments"})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Pending Investments"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:v.pendingInvestments}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Awaiting approval"})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Recent Investment Applications"}),n.jsx("div",{className:"space-y-4",children:r.slice(0,5).map(A=>n.jsxs("div",{className:"flex justify-between items-center py-3 border-b",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-medium",children:[A.type," - ",L(A.amount)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Client: ",A.clientName]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Status:",n.jsx("span",{className:`ml-1 font-semibold ${A.status==="approved"?"text-green-600":A.status==="rejected"?"text-red-600":"text-yellow-600"}`,children:A.status})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[A.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>C(A.id),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:"Approve"}),n.jsx("button",{onClick:()=>w(A.id),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:"Reject"})]}),n.jsx("button",{onClick:()=>m(A.id),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"Details"})]})]},A.id))})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Loan Processing"}),n.jsx("button",{onClick:()=>k("process_loans"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"View All Loans"})]}),n.jsxs("div",{className:"space-y-4",children:[a.filter(A=>A.status==="pending").slice(0,3).map(A=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["Loan #",A.id," - ",L(A.amount)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Applicant: ",A.applicantName]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Applied: ",new Date(A.createdAt).toLocaleDateString()]})]}),n.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs",children:"Pending Review"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>T(A.id),className:"bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 flex-1",children:"Approve Loan"}),n.jsx("button",{onClick:()=>S(A.id),className:"bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700 flex-1",children:"Review Details"})]})]},A.id)),a.filter(A=>A.status==="pending").length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pending loans to process"})]})]})]})},Zp=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[l,a]=j.useState(""),[i,o]=j.useState("all"),c=[{id:1,name:"John Admin",email:"john.admin@sianfintech.com",role:"admin",status:"active",lastLogin:"2024-01-15T10:30:00Z",createdAt:"2024-01-01T08:00:00Z"},{id:2,name:"Sarah Manager",email:"sarah.manager@sianfintech.com",role:"manager",status:"active",lastLogin:"2024-01-15T09:15:00Z",createdAt:"2024-01-05T14:20:00Z"},{id:3,name:"Mike Analyst",email:"mike.analyst@sianfintech.com",role:"analyst",status:"inactive",lastLogin:"2024-01-10T16:45:00Z",createdAt:"2024-01-08T11:30:00Z"},{id:4,name:"Emily Agent",email:"emily.agent@sianfintech.com",role:"agent",status:"active",lastLogin:"2024-01-15T08:20:00Z",createdAt:"2024-01-12T09:15:00Z"}];j.useEffect(()=>{setTimeout(()=>{t(c),r(!1)},1e3)},[]);const u=e.filter(y=>{const p=y.name.toLowerCase().includes(l.toLowerCase())||y.email.toLowerCase().includes(l.toLowerCase()),v=i==="all"||y.role===i;return p&&v}),x=y=>{switch(y){case"admin":return"bg-red-100 text-red-800";case"manager":return"bg-blue-100 text-blue-800";case"analyst":return"bg-purple-100 text-purple-800";case"agent":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},g=y=>y==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",f=(y,p)=>{t(e.map(v=>v.id===y?{...v,status:p==="active"?"inactive":"active"}:v))};return s?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(R,{to:"/admin/sian",className:"bg-blue-600 text-white p-2 rounded-lg",children:n.jsx("span",{className:"font-bold text-lg",children:"Sian"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"User Management"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manage system users and permissions"})]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx(R,{to:"/admin/sian",className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Back to Dashboard"})})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-red-600 mr-2",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-800 font-medium",children:"Administrator Access"}),n.jsx("p",{className:"text-red-700 text-sm",children:"You have full control over user accounts and permissions"})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search users...",value:l,onChange:y=>a(y.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full sm:w-64"}),n.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:""})]}),n.jsxs("select",{value:i,onChange:y=>o(y.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"All Roles"}),n.jsx("option",{value:"admin",children:"Administrator"}),n.jsx("option",{value:"manager",children:"Manager"}),n.jsx("option",{value:"analyst",children:"Analyst"}),n.jsx("option",{value:"agent",children:"Agent"})]})]}),n.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[n.jsx("span",{className:"mr-2",children:"+"}),"Add New User"]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(y=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:y.name.charAt(0)}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.name}),n.jsx("div",{className:"text-sm text-gray-500",children:y.email})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(y.role)}`,children:y.role})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g(y.status)}`,children:y.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(y.lastLogin).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(y.createdAt).toLocaleDateString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"Edit"}),n.jsx("button",{onClick:()=>f(y.id,y.status),className:`${y.status==="active"?"text-yellow-600 hover:text-yellow-900":"text-green-600 hover:text-green-900"}`,children:y.status==="active"?"Deactivate":"Activate"}),n.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},y.id))})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-6",children:[n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(y=>y.status==="active").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-red-600",children:e.filter(y=>y.role==="admin").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Administrators"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.filter(y=>y.role==="agent").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Agents"})]})]})]})]})},Jp=()=>{const[e,t]=j.useState([{id:1,name:"Mobile App API",key:"sk_live_abc123def456",created:"2024-01-01T00:00:00Z",lastUsed:"2024-01-15T10:30:00Z",status:"active",permissions:["read:clients","write:transactions","read:loans"]},{id:2,name:"Partner Integration",key:"sk_live_xyz789uvw012",created:"2024-01-05T00:00:00Z",lastUsed:"2024-01-14T15:45:00Z",status:"active",permissions:["read:clients","read:loans"]},{id:3,name:"Internal Dashboard",key:"sk_live_internal_789",created:"2024-01-10T00:00:00Z",lastUsed:"2024-01-15T09:20:00Z",status:"revoked",permissions:["read:*","write:*"]}]),[s,r]=j.useState(""),[l,a]=j.useState([]),[i,o]=j.useState(!1),c=["read:clients","write:clients","read:loans","write:loans","read:transactions","write:transactions","read:investments","write:investments","read:reports","admin:system"],u=()=>{if(!s.trim())return;const v={id:e.length+1,name:s,key:"sk_live_"+Math.random().toString(36).substr(2,16),created:new Date().toISOString(),lastUsed:"Never",status:"active",permissions:l};t([...e,v]),r(""),a([]),o(!1)},x=v=>{window.confirm("Are you sure you want to revoke this API key? This action cannot be undone.")&&t(e.map(b=>b.id===v?{...b,status:"revoked"}:b))},g=v=>{window.confirm("Regenerating this key will invalidate the current key. Continue?")&&t(e.map(b=>b.id===v?{...b,key:"sk_live_"+Math.random().toString(36).substr(2,16),lastUsed:"Never"}:b))},f=v=>{a(b=>b.includes(v)?b.filter(h=>h!==v):[...b,v])},y=v=>v==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",p=v=>new Date(v).toLocaleDateString();return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(R,{to:"/admin/sian",className:"bg-blue-600 text-white p-2 rounded-lg",children:n.jsx("span",{className:"font-bold text-lg",children:"Sian"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"API Management"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manage API keys and endpoints"})]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx(R,{to:"/admin/sian",className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Back to Dashboard"})})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-red-600 mr-2",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-800 font-medium",children:"API Security Management"}),n.jsx("p",{className:"text-red-700 text-sm",children:"API keys provide full access to system data. Handle with care."})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total API Keys"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.filter(v=>v.status==="active").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Active Keys"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"1,247"}),n.jsx("p",{className:"text-sm text-gray-600",children:"API Calls Today"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-orange-600",children:"99.8%"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Uptime"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"API Keys"}),n.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[n.jsx("span",{className:"mr-2",children:"+"}),"Generate New Key"]})]}),n.jsx("div",{className:"space-y-4",children:e.map(v=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:v.name}),n.jsx("p",{className:"text-sm text-gray-500 font-mono mt-1 bg-gray-50 p-2 rounded",children:v.key}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[n.jsxs("span",{children:["Created: ",p(v.created)]}),n.jsxs("span",{children:["Last used: ",v.lastUsed]})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y(v.status)}`,children:v.status})})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Permissions:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:v.permissions.map(b=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:b},b))})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>g(v.id),disabled:v.status==="revoked",className:"text-blue-600 hover:text-blue-900 text-sm disabled:text-gray-400",children:"Regenerate"}),n.jsx("button",{onClick:()=>x(v.id),className:"text-red-600 hover:text-red-900 text-sm",children:v.status==="active"?"Revoke":"Revoked"})]})]},v.id))})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:i?"Generate New API Key":"Quick Actions"}),i?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Key Name *"}),n.jsx("input",{type:"text",value:s,onChange:v=>r(v.target.value),placeholder:"e.g., Production API",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),n.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:c.map(v=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:l.includes(v),onChange:()=>f(v),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:v})]},v))})]}),n.jsxs("div",{className:"flex space-x-2 pt-2",children:[n.jsx("button",{onClick:u,disabled:!s.trim(),className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400",children:"Generate Key"}),n.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("button",{onClick:()=>o(!0),className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[n.jsx("span",{className:"mr-2",children:""}),"Generate New API Key"]}),n.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Security Tips"}),n.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[n.jsx("li",{children:" Never share API keys in client-side code"}),n.jsx("li",{children:" Regularly rotate production keys"}),n.jsx("li",{children:" Use minimal required permissions"}),n.jsx("li",{children:" Monitor API usage logs"})]})]})]})]})]}),n.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"API Documentation"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Base URL"}),n.jsx("code",{className:"text-sm bg-gray-100 p-2 rounded block",children:"https://api.sianfintech.com/v1"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Authentication"}),n.jsx("code",{className:"text-sm bg-gray-100 p-2 rounded block",children:"Authorization: Bearer sk_live_your_api_key"})]})]})]})]})]})},ef=()=>{const[e,t]=j.useState({twoFactorAuth:!0,passwordExpiry:90,sessionTimeout:30,loginAlerts:!0,suspiciousActivityAlerts:!0,ipWhitelist:!1,apiRateLimit:1e3,failedLoginLockout:5}),[s,r]=j.useState([{id:1,type:"failed_login",description:"Multiple failed login attempts from unknown IP",severity:"high",timestamp:"2024-01-15T10:15:00Z",status:"investigating",ipAddress:"203.0.113.45"},{id:2,type:"password_change",description:"User password changed successfully",severity:"info",timestamp:"2024-01-15T09:30:00Z",status:"resolved",ipAddress:"192.168.1.100"},{id:3,type:"new_device",description:"Login from new device detected",severity:"medium",timestamp:"2024-01-15T08:45:00Z",status:"resolved",ipAddress:"192.168.1.101"},{id:4,type:"api_rate_limit",description:"API rate limit exceeded",severity:"medium",timestamp:"2024-01-15T08:30:00Z",status:"resolved",ipAddress:"203.0.113.46"}]),[l,a]=j.useState([{id:1,type:"brute_force",description:"Suspected brute force attack in progress",severity:"high",firstDetected:"2024-01-15T10:00:00Z",affectedUsers:3,status:"active"}]),i=(f,y)=>{t(p=>({...p,[f]:y}))},o=f=>{switch(f){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},c=f=>{switch(f){case"active":return"bg-red-100 text-red-800";case"investigating":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},u=f=>{r(y=>y.map(p=>p.id===f?{...p,status:"resolved"}:p))},x=f=>{window.confirm(`Block IP address ${f}?`)&&alert(`IP address ${f} has been blocked.`)},g=()=>{alert("Security scan initiated. This may take a few minutes..."),setTimeout(()=>{alert("Security scan completed. No critical issues found.")},3e3)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(R,{to:"/admin/sian",className:"bg-blue-600 text-white p-2 rounded-lg",children:n.jsx("span",{className:"font-bold text-lg",children:"Sian"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Security Center"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Monitor and manage security settings"})]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx(R,{to:"/admin/sian",className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Back to Dashboard"})})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-green-600",children:""}),n.jsx("p",{className:"text-sm text-gray-600",children:"System Secure"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-red-600",children:l.length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Active Threats"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"98%"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Security Score"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:s.filter(f=>f.status!=="resolved").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pending Events"})]})]}),l.length>0&&n.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-red-600 mr-2",children:""}),n.jsx("h2",{className:"text-lg font-semibold text-red-900",children:"Active Security Threats"})]}),n.jsxs("span",{className:"bg-red-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:[l.length," Active"]})]}),n.jsx("div",{className:"space-y-3",children:l.map(f=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-red-300 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:f.description}),n.jsxs("p",{className:"text-sm text-gray-500",children:["First detected: ",new Date(f.firstDetected).toLocaleString()]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o(f.severity)}`,children:f.severity}),n.jsx("button",{className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Take Action"})]})]},f.id))})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Security Settings"}),n.jsx("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Run Security Scan"})]}),n.jsx("div",{className:"space-y-4",children:Object.entries(e).map(([f,y])=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:f.replace(/([A-Z])/g," $1").toLowerCase()}),typeof y=="number"&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[y," ",f.includes("Timeout")?"minutes":f.includes("Limit")?"requests/hour":"days"]})]}),typeof y=="boolean"?n.jsx("button",{onClick:()=>i(f,!y),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${y?"bg-green-600":"bg-gray-200"}`,children:n.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${y?"translate-x-5":"translate-x-0"}`})}):n.jsx("input",{type:"number",value:y,onChange:p=>i(f,parseInt(p.target.value)),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm"})]},f))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Security Events"}),n.jsxs("span",{className:"text-sm text-gray-500",children:[s.length," total"]})]}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.map(f=>n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.description}),n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c(f.status)}`,children:f.status})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[n.jsx("span",{children:new Date(f.timestamp).toLocaleString()}),n.jsxs("span",{children:["IP: ",f.ipAddress]}),n.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium border ${o(f.severity)}`,children:f.severity})]})]}),n.jsxs("div",{className:"flex space-x-2 ml-4",children:[f.status!=="resolved"&&n.jsx("button",{onClick:()=>u(f.id),className:"text-green-600 hover:text-green-900 text-sm",children:"Resolve"}),n.jsx("button",{onClick:()=>x(f.ipAddress),className:"text-red-600 hover:text-red-900 text-sm",children:"Block IP"})]})]},f.id))})]})]}),n.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security Recommendations"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Enable 2FA"}),n.jsx("p",{className:"text-sm text-blue-700",children:"Require two-factor authentication for all admin accounts"})]}),n.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-yellow-900 mb-2",children:"Password Policy"}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Enforce strong password requirements for all users"})]}),n.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-green-900 mb-2",children:"API Rate Limiting"}),n.jsx("p",{className:"text-sm text-green-700",children:"Implement rate limiting on all API endpoints"})]})]})]}),n.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Security Actions"}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Export Security Logs"}),n.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Update Firewall Rules"}),n.jsx("button",{className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors text-sm",children:"Review User Permissions"}),n.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Emergency Lockdown"})]})]})]})]})},tf=()=>{const{user:e}=$t(),[t,s]=j.useState({investorId:(e==null?void 0:e.id)||"",investorName:(e==null?void 0:e.name)||"",investorPhone:(e==null?void 0:e.phone)||"",investorEmail:(e==null?void 0:e.email)||"",investmentType:"",amount:"",duration:"",expectedReturns:"",riskAppetite:"medium",paymentMethod:"mobile_money",applicationDate:new Date().toISOString().split("T")[0],status:"pending"}),[r,l]=j.useState(!1);j.useEffect(()=>{if(t.investmentType&&t.amount){const c=a(t.investmentType,t.amount);s(u=>({...u,expectedReturns:c}))}},[t.investmentType,t.amount]);const a=(c,u)=>{const g={green_bond:.18,fixed_deposit:.12,treasury_bills:.15,corporate_bonds:.16,unit_trusts:.14}[c]||.12;return(parseFloat(u)*g).toFixed(0)},i=async c=>{c.preventDefault(),l(!0);try{const u=await st.create(t);alert("Investment application submitted successfully!"),window.location.href="/member/investments"}catch(u){console.error("Investment application failed:",u),alert("Failed to submit investment application. Please try again.")}finally{l(!1)}},o=c=>{const{name:u,value:x}=c.target;s(g=>({...g,[u]:x}))};return n.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Apply for Investment"}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[n.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Your Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Name:"}),n.jsx("p",{className:"font-medium",children:e==null?void 0:e.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Phone:"}),n.jsx("p",{className:"font-medium",children:e==null?void 0:e.phone})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Email:"}),n.jsx("p",{className:"font-medium",children:(e==null?void 0:e.email)||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Member ID:"}),n.jsx("p",{className:"font-medium",children:(e==null?void 0:e.memberNumber)||(e==null?void 0:e.digitalId)})]})]})]}),n.jsxs("form",{onSubmit:i,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Investment Type *"}),n.jsxs("select",{name:"investmentType",value:t.investmentType,onChange:o,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select Investment Type"}),n.jsx("option",{value:"green_bond",children:"Green Bond (18% returns)"}),n.jsx("option",{value:"fixed_deposit",children:"Fixed Deposit (12% returns)"}),n.jsx("option",{value:"treasury_bills",children:"Treasury Bills (15% returns)"}),n.jsx("option",{value:"corporate_bonds",children:"Corporate Bonds (16% returns)"}),n.jsx("option",{value:"unit_trusts",children:"Unit Trusts (14% returns)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Investment Amount (UGX) *"}),n.jsx("input",{type:"number",name:"amount",value:t.amount,onChange:o,min:"10000",step:"1000",placeholder:"Minimum: 10,000 UGX",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Investment Duration *"}),n.jsxs("select",{name:"duration",value:t.duration,onChange:o,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select Duration"}),n.jsx("option",{value:"3_months",children:"3 Months"}),n.jsx("option",{value:"6_months",children:"6 Months"}),n.jsx("option",{value:"1_year",children:"1 Year"}),n.jsx("option",{value:"2_years",children:"2 Years"}),n.jsx("option",{value:"3_years",children:"3 Years"})]})]}),t.expectedReturns&&n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-green-800 mb-1",children:"Expected Returns"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:[parseInt(t.expectedReturns).toLocaleString()," UGX"]}),n.jsx("p",{className:"text-sm text-green-600",children:"Based on your selected investment type and amount"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Risk Appetite"}),n.jsxs("select",{name:"riskAppetite",value:t.riskAppetite,onChange:o,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"low",children:"Low Risk"}),n.jsx("option",{value:"medium",children:"Medium Risk"}),n.jsx("option",{value:"high",children:"High Risk"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),n.jsxs("select",{name:"paymentMethod",value:t.paymentMethod,onChange:o,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsxs("option",{value:"mobile_money",children:["Mobile Money (",e==null?void 0:e.phone,")"]}),n.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),n.jsx("option",{value:"wallet_balance",children:"Sian Wallet Balance"})]})]}),n.jsx("button",{type:"submit",disabled:r,className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium",children:r?"Submitting Application...":"Submit Investment Application"})]})]})},nf=()=>{const e=pe(),[t]=Ms(),[s,r]=j.useState({amount:t.get("minAmount")||"10000",type:t.get("type")||"green-bond",duration:"12",paymentMethod:"mobile_money",phoneNumber:""}),l=a=>{a.preventDefault(),console.log("Processing investment:",s),alert("Investment application submitted to GLDMF successfully!"),e("/member/portfolio")};return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"max-w-2xl mx-auto px-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"bg-green-600 text-white p-3 rounded-lg mr-4",children:n.jsx("span",{className:"text-2xl",children:""})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"GLDMF Investment Application"}),n.jsx("p",{className:"text-gray-600",children:"Complete your investment process"})]})]}),n.jsxs("form",{onSubmit:l,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Investment Type"}),n.jsxs("select",{value:s.type,onChange:a=>r({...s,type:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"green-bond",children:"Green Bond"}),n.jsx("option",{value:"alternative",children:"Alternative Investments"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Investment Amount (UGX)"}),n.jsx("input",{type:"number",value:s.amount,onChange:a=>r({...s,amount:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",min:"10000",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Investment Duration (Months)"}),n.jsxs("select",{value:s.duration,onChange:a=>r({...s,duration:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"6",children:"6 Months"}),n.jsx("option",{value:"12",children:"12 Months"}),n.jsx("option",{value:"24",children:"24 Months"}),n.jsx("option",{value:"36",children:"36 Months"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),n.jsxs("select",{value:s.paymentMethod,onChange:a=>r({...s,paymentMethod:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"mobile_money",children:"Mobile Money"}),n.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),s.paymentMethod==="mobile_money"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Money Number"}),n.jsx("input",{type:"tel",value:s.phoneNumber,onChange:a=>r({...s,phoneNumber:a.target.value}),placeholder:"0771234567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 font-semibold",children:"Submit Investment Application to GLDMF"})]})]})})})},er=()=>{var D;const[e,t]=j.useState(""),[s,r]=j.useState(""),[l,a]=j.useState(""),[i,o]=j.useState(!1),[c,u]=j.useState(0),[x,g]=j.useState(""),[f,y]=j.useState(""),[p,v]=j.useState(""),[b,h]=j.useState(!1),[d,m]=j.useState("member"),{login:S,memberLogin:N,user:k,loading:C}=$t(),w=pe();console.log(" Login Component - Current user:",k,"Loading:",C),j.useEffect(()=>{console.log(" Login Component - Current user:",k,"Loading:",C),k&&k.role!=="public"&&!C&&sessionStorage.getItem("justLoggedIn")&&(console.log(" User just logged in, redirecting based on role:",k.role),sessionStorage.removeItem("justLoggedIn"),T(k.role))},[k,C,w]),j.useEffect(()=>{if(c>0){const E=setTimeout(()=>u(c-1),1e3);return()=>clearTimeout(E)}},[c]);const T=E=>{switch(E){case M.MEMBER:w("/member/dashboard",{replace:!0});break;case M.TENANT_ADMIN:case M.TENANT_STAFF:w("/gldmf/dashboard",{replace:!0});break;case M.SIAN_ADMIN:case M.SIAN_STAFF:w("/sian/dashboard",{replace:!0});break;default:w("/member/dashboard",{replace:!0})}},L=()=>{switch(v(""),d){case"member":t("69001289"),r("+256700000001"),a("123456"),i||o(!0);break;case"tenant_staff":g("admin@gldmf.com"),y("staff123");break;case"sian_staff":g("admin@sianfintech.com"),y("sian123");break}},$=async()=>{if(!e||!s){v("Please enter member number and phone number");return}try{v(""),o(!0),u(60),a("123456"),console.log(" OTP sent to:",s)}catch{v("Failed to send verification code")}},A=async E=>{if(E.preventDefault(),v(""),!e||!s){v("Please enter member number and phone number");return}if(!i){v("Please request verification code first");return}if(!l){v("Please enter verification code");return}console.log(" Member login submitted"),h(!0);try{const F=await N(e,s,l);console.log(" Member login completed, result:",F),F.success?sessionStorage.setItem("justLoggedIn","true"):v(F.error||"Login failed. Please try again.")}catch(F){console.error(" Member login error:",F),v("Unexpected error occurred")}finally{h(!1)}},U=async E=>{if(E.preventDefault(),v(""),!x||!f){v("Please enter both email and password");return}console.log(" Staff login submitted"),h(!0);try{const F=await S(x,f,d);console.log(" Staff login completed, result:",F),F.success?sessionStorage.setItem("justLoggedIn","true"):v(F.error||"Login failed. Please try again.")}catch(F){console.error(" Staff login error:",F),v("Unexpected error occurred")}finally{h(!1)}},Ne=E=>{d==="member"?A(E):U(E)},Pe=()=>{switch(d){case"member":return"Member Login";case"tenant_staff":return"GLDMF Staff Login";case"sian_staff":return"Sian Staff Login";default:return"Sign in to your account"}},Te=()=>{switch(d){case"member":return{title:"GLDMF Member Demo",instructions:"Member: 69001289, Phone: +256700000001, OTP: 123456",buttonText:"Use Member Demo"};case"tenant_staff":return{title:"GLDMF Staff Accounts",accounts:["admin@gldmf.com / staff123","loanofficer@gldmf.com / staff123","manager@gldmf.com / staff123"],buttonText:"Use GLDMF Staff Demo"};case"sian_staff":return{title:"Sian Staff Accounts",accounts:["admin@sianfintech.com / sian123","analyst@sianfintech.com / sian123","support@sianfintech.com / sian123"],buttonText:"Use Sian Staff Demo"};default:return{title:"",accounts:[],buttonText:"Use Demo"}}};if(C)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const fe=Te();return n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-xl",children:"S"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:Pe()}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"SianFinTech Platform - Africa's Informal Economy OS"})]}),n.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsxs("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-yellow-800 mb-2 text-center",children:"Quick Demo Access"}),n.jsx("button",{onClick:L,className:`w-full py-2 px-4 rounded-md text-sm font-medium text-white ${d==="member"?"bg-blue-600 hover:bg-blue-700":d==="tenant_staff"?"bg-green-600 hover:bg-green-700":"bg-purple-600 hover:bg-purple-700"}`,children:fe.buttonText})]}),n.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Login As"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{m("member"),v(""),o(!1)},className:`py-2 px-3 border rounded-md text-sm font-medium transition-colors ${d==="member"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Member"}),n.jsx("button",{type:"button",onClick:()=>{m("tenant_staff"),v("")},className:`py-2 px-3 border rounded-md text-sm font-medium transition-colors ${d==="tenant_staff"?"bg-green-600 text-white border-green-600 shadow-sm":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"GLDMF Staff"}),n.jsx("button",{type:"button",onClick:()=>{m("sian_staff"),v("")},className:`py-2 px-3 border rounded-md text-sm font-medium transition-colors ${d==="sian_staff"?"bg-purple-600 text-white border-purple-600 shadow-sm":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Sian Staff"})]})]}),n.jsxs("form",{className:"space-y-6",onSubmit:Ne,children:[p&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("h3",{className:"text-sm font-medium text-red-800",children:p})})]})}),d==="member"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"memberNumber",className:"block text-sm font-medium text-gray-700",children:"Member Number"}),n.jsx("div",{className:"mt-1",children:n.jsx("input",{id:"memberNumber",name:"memberNumber",type:"text",required:!0,value:e,onChange:E=>t(E.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors",placeholder:"Enter your GLDMF member number"})})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),n.jsx("div",{className:"mt-1",children:n.jsx("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",required:!0,value:s,onChange:E=>r(E.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors",placeholder:"+256700000001"})})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700",children:"SMS Verification Code"}),n.jsxs("div",{className:"mt-1 flex space-x-2",children:[n.jsx("input",{id:"otp",name:"otp",type:"text",required:!0,value:l,onChange:E=>a(E.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors",placeholder:"Enter 6-digit code",maxLength:6}),n.jsx("button",{type:"button",onClick:$,disabled:c>0||!e||!s,className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700 disabled:bg-gray-400 whitespace-nowrap transition-colors min-w-[100px]",children:c>0?`${c}s`:"Send Code"})]}),i&&!l&&n.jsx("p",{className:"mt-1 text-sm text-green-600",children:"Verification code sent to your phone"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),n.jsx("div",{className:"mt-1",children:n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:x,onChange:E=>g(E.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors",placeholder:"Enter your email"})})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),n.jsx("div",{className:"mt-1",children:n.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:f,onChange:E=>y(E.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors",placeholder:"Enter your password"})})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:b,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors ${d==="member"?"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500":d==="tenant_staff"?"bg-green-600 hover:bg-green-700 focus:ring-green-500":"bg-purple-600 hover:bg-purple-700 focus:ring-purple-500"}`,children:b?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})})]}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Demo Credentials"})})]}),n.jsx("div",{className:"mt-6 space-y-3",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:fe.title}),fe.instructions?n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:fe.instructions}):(D=fe.accounts)==null?void 0:D.map((E,F)=>n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E},F))]})})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx(R,{to:"/",className:"text-blue-600 hover:text-blue-500 text-sm transition-colors",children:" Back to Home"})})]})]})]})},sf=()=>{const{user:e,isAuthenticated:t,logout:s}=$t();return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50",children:[n.jsx("header",{className:"bg-white shadow-sm",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"S"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SianFinTech"})]}),n.jsxs("nav",{className:"flex items-center space-x-6",children:[n.jsx(R,{to:"/",className:"text-gray-700 hover:text-blue-600 font-medium",children:"Home"}),n.jsx(R,{to:"/services",className:"text-gray-700 hover:text-blue-600 font-medium",children:"Services"}),n.jsx(R,{to:"/about",className:"text-gray-700 hover:text-blue-600 font-medium",children:"About"}),n.jsx(R,{to:"/contact",className:"text-gray-700 hover:text-blue-600 font-medium",children:"Contact"}),t?n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",e.name]}),n.jsx("button",{onClick:s,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Logout"}),e.role==="member"&&n.jsx(R,{to:"/member/dashboard",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Member Portal"}),(e.role==="tenant_admin"||e.role==="tenant_staff")&&n.jsx(R,{to:"/admin/gldmf",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"GLDMF Admin"}),(e.role==="sian_admin"||e.role==="sian_staff")&&n.jsx(R,{to:"/admin/sian",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Sian Admin"})]}):n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(R,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Login"}),n.jsx(R,{to:"/register",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium",children:"Get Started"})]})]})]})})}),n.jsx("section",{className:"py-20",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:"SianFinTech"}),n.jsx("p",{className:"text-xl text-gray-600 mb-10 max-w-3xl mx-auto",children:"Empowering Africa's informal sector with climate-smart financing, and innovative insurance off-line first edge solutions."}),!t&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-4xl mx-auto mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Access Your Portal"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-white font-bold",children:"F"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Farmers & Members"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Access financing, insurance, and investment opportunities"}),n.jsx(R,{to:"/member-login",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg text-sm font-medium inline-block",children:"Member Login"})]}),n.jsxs("div",{className:"bg-green-50 rounded-xl p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-white font-bold",children:"G"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"GLDMF Staff"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Manage members, loans, and microfinance operations"}),n.jsx(R,{to:"/gldmf-login",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg text-sm font-medium inline-block",children:"Staff Login"})]}),n.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-white font-bold",children:"S"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"SianFinTech Team"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Platform administration and global operations"}),n.jsx(R,{to:"/sian-login",className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg text-sm font-medium inline-block",children:"Admin Login"})]})]})]}),!t&&n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsx(R,{to:"/investment-platform",className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-semibold text-lg",children:"Explore Investments"}),n.jsx(R,{to:"/register",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold text-lg",children:"Join Now"})]})]})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Empowering Africa's Informal Sector"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-blue-600 text-2xl",children:""})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Farmers"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Climate-smart financing & insurance"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-green-600 text-2xl",children:""})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Transport"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Boda bodas, taxi operators, drivers"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-yellow-600 text-2xl",children:""})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Traders"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Market vendors, small businesses"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-purple-600 text-2xl",children:""})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Gig Workers"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Freelancers, service providers"})]})]})]})}),n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Market Insights & Financial News"}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-4xl mx-auto",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Latest Financial News"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Climate-Smart Agriculture Gains Momentum in East Africa"}),n.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"New financing models are helping smallholder farmers adopt sustainable practices while increasing yields."}),n.jsx("span",{className:"text-xs text-blue-600",children:"2 hours ago"})]}),n.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Digital Microfinance Revolutionizes Rural Banking"}),n.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Mobile-based financial services are expanding access to credit in previously underserved communities."}),n.jsx("span",{className:"text-xs text-green-600",children:"5 hours ago"})]}),n.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Gig Economy Workers Embrace Digital Insurance Products"}),n.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Flexible insurance plans tailored for freelancers and service providers see rapid adoption."}),n.jsx("span",{className:"text-xs text-purple-600",children:"1 day ago"})]})]}),n.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Stay Updated"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get the latest market insights delivered to your inbox"})]}),n.jsxs("div",{className:"flex mt-4 md:mt-0",children:[n.jsx("input",{type:"email",placeholder:"Enter your email",className:"px-4 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-r-lg font-medium",children:"Subscribe"})]})]})})]})]})}),n.jsx("footer",{className:"bg-gray-900 text-white py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"SianFinTech"}),n.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Enabling decentralized climate-smart investments for Africa's informal economy."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[n.jsx("li",{children:n.jsx(R,{to:"/",className:"hover:text-white",children:"Home"})}),n.jsx("li",{children:n.jsx(R,{to:"/services",className:"hover:text-white",children:"Services"})}),n.jsx("li",{children:n.jsx(R,{to:"/about",className:"hover:text-white",children:"About"})}),n.jsx("li",{children:n.jsx(R,{to:"/contact",className:"hover:text-white",children:"Contact"})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-4",children:"Platform Access"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[n.jsx("li",{children:n.jsx(R,{to:"/member-login",className:"hover:text-white",children:"Member Portal"})}),n.jsx("li",{children:n.jsx(R,{to:"/gldmf-login",className:"hover:text-white",children:"GLDMF Staff"})}),n.jsx("li",{children:n.jsx(R,{to:"/sian-login",className:"hover:text-white",children:"SianFinTech Team"})}),n.jsx("li",{children:n.jsx(R,{to:"/investment-platform",className:"hover:text-white",children:"Investments"})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-4",children:"Contact Info"}),n.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("span",{className:"text-white mt-0.5",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:"Address"}),n.jsx("p",{children:"Level2 Master Plaza Building"}),n.jsx("p",{children:"Kampala, Uganda"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("span",{className:"text-white mt-0.5",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:"Phone"}),n.jsx("p",{children:"+256 741 430 326"}),n.jsx("p",{children:"+256 773 442 268"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("span",{className:"text-white mt-0.5",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:"Email"}),n.jsx("p",{children:"info@sianfintech.com"}),n.jsx("p",{children:"support@sianfintech.com"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("span",{className:"text-white mt-0.5",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:"Business Hours"}),n.jsx("p",{children:"Mon - Fri: 8:00 AM - 6:00 PM"}),n.jsx("p",{children:"Sat: 9:00 AM - 2:00 PM"})]})]})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm text-gray-400",children:n.jsx("p",{children:" 2025 SianTechnologies. All rights reserved."})})]})})]})},rf=()=>{const e=[{title:"Climate-Smart Agri-Loans",description:"Agricultural financing with climate risk assessment and resilience planning",features:["Weather-indexed loans","Crop insurance integration","Climate adaptation support"],link:"/loan-application",icon:""},{title:"Green Investment Platform",description:"Climate-resilient investment opportunities in sustainable agriculture",features:["Impact investing","Carbon credit tracking","Sustainable yield optimization"],link:"/investment-platform",icon:""},{title:"AI Risk Intelligence",description:"Predictive credit scoring using climate data and IoT sensors",features:["Weather pattern analysis","Crop health monitoring","Default risk prediction"],link:"/ai-portal",icon:""},{title:"Digital Farmer Wallets",description:"Offline-capable financial access for rural smallholder farmers",features:["Low-connectivity design","Mobile money integration","Transaction analytics"],link:"/mobile-money",icon:""},{title:"Climate Data Analytics",description:"Real-time climate and agricultural data for informed decision making",features:["Satellite imagery","Soil health data","Weather forecasting"],link:"/ai-portal",icon:""},{title:"Farmer Portal",description:"Comprehensive management for agricultural clients and cooperatives",features:["Loan management","Weather alerts","Market price tracking"],link:"/client-login",icon:""}];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("nav",{className:"bg-white shadow-lg",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsxs(R,{to:"/",className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full"}),n.jsx("span",{className:"text-xl font-bold text-gray-800",children:"SianFinTech"})]}),n.jsxs("div",{className:"flex space-x-6",children:[n.jsx(R,{to:"/",className:"text-gray-600 hover:text-blue-600",children:"Home"}),n.jsx(R,{to:"/about",className:"text-gray-600 hover:text-blue-600",children:"About"}),n.jsx(R,{to:"/contact",className:"text-gray-600 hover:text-blue-600",children:"Contact"})]})]})})}),n.jsxs("div",{className:"container mx-auto px-4 py-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-center text-gray-800 mb-4",children:"Our Services"}),n.jsx("p",{className:"text-xl text-gray-600 text-center mb-12 max-w-2xl mx-auto",children:"Comprehensive climate-smart financial solutions designed for Africa's informal sector"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,s)=>n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow border border-gray-100",children:[n.jsx("div",{className:"text-3xl mb-4",children:t.icon}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:t.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),n.jsx("ul",{className:"mb-6 space-y-2",children:t.features.map((r,l)=>n.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[n.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-3"}),r]},l))}),n.jsx(R,{to:t.link,className:"block w-full bg-blue-600 text-white text-center py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Get Started"})]},s))})]})]})},lf=()=>n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("nav",{className:"bg-white shadow-lg",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsxs(R,{to:"/",className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full"}),n.jsx("span",{className:"text-xl font-bold text-gray-800",children:"SianFinTech"})]}),n.jsxs("div",{className:"flex space-x-6",children:[n.jsx(R,{to:"/",className:"text-gray-600 hover:text-blue-600",children:"Home"}),n.jsx(R,{to:"/services",className:"text-gray-600 hover:text-blue-600",children:"Services"}),n.jsx(R,{to:"/contact",className:"text-gray-600 hover:text-blue-600",children:"Contact"})]})]})})}),n.jsx("div",{className:"container mx-auto px-4 py-12",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("h1",{className:"text-4xl font-bold text-center text-gray-800 mb-8",children:"About SianFinTech"}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Our Mission"}),n.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-6",children:"SianFinTech bridges the gap between digital finance and sustainable agriculture by building a decentralized platform that connects microfinance institutions, cooperatives, and farmers to climate-smart funding."}),n.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"We leverage AI and IoT-enabled risk intelligence to generate predictive credit scores, optimize resource allocation, and reduce default risks in agricultural lendingcreating a secure and inclusive ecosystem for farmers, lenders, and investors."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Our Vision"}),n.jsx("p",{className:"text-gray-600",children:"To become Africa's economic identity infrastructure, where every informal worker has a digital economic footprint unlocking financial services, insurance protection, and investment opportunities."})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Our Values"}),n.jsxs("ul",{className:"text-gray-600 space-y-2",children:[n.jsx("li",{children:" Innovation and Technology"}),n.jsx("li",{children:" Financial Inclusion"}),n.jsx("li",{children:" Transparency and Trust"}),n.jsx("li",{children:" Climate Resilience"}),n.jsx("li",{children:" Local Empowerment"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Our Platform Architecture"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"SianFinTech is Africa's economic identity infrastructure, providing multi-tenant financial services platform for institutions like GLDMF (Great Lakes Development Microfinance)."}),n.jsx("p",{className:"text-gray-600",children:"Our platform transforms informal sector activity into bankable intelligence through AI-powered economic identity graphs, enabling financial inclusion for the 80% of Africans operating in the informal economy."})]})]})})]}),af=()=>{const[e,t]=j.useState({name:"",email:"",subject:"",message:""}),s=l=>{l.preventDefault(),alert("Thank you for your message! We will get back to you soon."),t({name:"",email:"",subject:"",message:""})},r=l=>{t({...e,[l.target.name]:l.target.value})};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("nav",{className:"bg-white shadow-lg",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsxs(R,{to:"/",className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full"}),n.jsx("span",{className:"text-xl font-bold text-gray-800",children:"SianFinTech"})]}),n.jsxs("div",{className:"flex space-x-6",children:[n.jsx(R,{to:"/",className:"text-gray-600 hover:text-blue-600",children:"Home"}),n.jsx(R,{to:"/services",className:"text-gray-600 hover:text-blue-600",children:"Services"}),n.jsx(R,{to:"/about",className:"text-gray-600 hover:text-blue-600",children:"About"})]})]})})}),n.jsx("div",{className:"container mx-auto px-4 py-12",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("h1",{className:"text-4xl font-bold text-center text-gray-800 mb-8",children:"Contact Us"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Get in Touch"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{children:""})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:"Address"}),n.jsxs("p",{className:"text-gray-600",children:["Level2 Master Plaza Building",n.jsx("br",{}),"Kampala, Uganda"]})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{children:""})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:"Phone"}),n.jsxs("p",{className:"text-gray-600",children:["+256 741 430 326",n.jsx("br",{}),"+256 773 442 268"]})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{children:""})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:"Email"}),n.jsxs("p",{className:"text-gray-600",children:["info@sianfintech.com",n.jsx("br",{}),"support@sianfintech.com"]})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{children:""})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:"Business Hours"}),n.jsxs("p",{className:"text-gray-600",children:["Mon - Fri: 8:00 AM - 6:00 PM",n.jsx("br",{}),"Sat: 9:00 AM - 2:00 PM"]})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Send us a Message"}),n.jsxs("form",{onSubmit:s,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),n.jsx("input",{type:"text",name:"name",value:e.name,onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",name:"email",value:e.email,onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsx("input",{type:"text",name:"subject",value:e.subject,onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter subject"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),n.jsx("textarea",{name:"message",value:e.message,onChange:r,required:!0,rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your message"})]}),n.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition-colors",children:"Send Message"})]})]})]})]})})]})},Fl=()=>{const{user:e}=$t(),[t,s]=j.useState("UGX"),[r,l]=j.useState(!0),[a,i]=j.useState({loans:[],investments:[],recentTransactions:[],portfolioSummary:{activeLoans:0,totalInvestments:0,walletBalance:0,nextPayment:0,creditScore:0}}),o={UGX:{symbol:"UGX",name:"Ugandan Shilling",locale:"en-UG"},KES:{symbol:"KES",name:"Kenyan Shilling",locale:"en-KE"},TZS:{symbol:"TZS",name:"Tanzanian Shilling",locale:"en-TZ"},USD:{symbol:"$",name:"US Dollar",locale:"en-US"}},c=[{id:1,name:"Green Bond",description:"Invest in sustainable projects - agriculture, renewable energy, and environmental initiatives",minAmount:1e4,returns:"14-20%",duration:"3-7 years",risk:"Medium",category:"green",icon:"",type:"investment",actionUrl:"/gldmf/investment-process?type=green-bond&minAmount=10000",features:["ESG Investment","Impact Reporting","Fixed Returns"]},{id:2,name:"Sian Wallet",description:"Digital wallet for daily transactions, payments, and micro-savings",minAmount:1e4,returns:"Transaction Benefits",duration:"Instant Access",risk:"None",category:"wallet",icon:"",type:"wallet",actionUrl:"/sianfintech/wallet-funding?action=deposit&minAmount=10000",features:["Mobile Money Integration","Instant Transfers","Bill Payments"]},{id:3,name:"Alternative Investments",description:"Fixed deposits, unit trusts and other secure investment options",minAmount:1e4,returns:"12-15%",duration:"3-36 months",risk:"Low",category:"investments",icon:"",type:"investment",actionUrl:"/gldmf/investment-process?type=alternative&minAmount=10000",features:["Fixed Deposits","Unit Trusts","Guaranteed Returns"]}];j.useEffect(()=>{const p=async()=>{try{l(!0),console.log(" Loading personal data for member:",e.memberNumber||e.id);const[h,d,m,S,N]=await Promise.all([Me.getUserLoans(e.id).catch(A=>(console.warn(" Failed to load user loans, trying fallback:",A),Me.getLoans({memberId:e.id,userId:e.id}).catch(()=>[]))),st.getUserInvestments(e.id).catch(A=>(console.warn(" Failed to load user investments, trying fallback:",A),st.getInvestments({userId:e.id}).catch(()=>[]))),Yt.getUserTransactions(e.id).catch(A=>(console.warn(" Failed to load user transactions, trying fallback:",A),Yt.getTransactions({userId:e.id}).catch(()=>[]))),Xp.getBalance(e.id).catch(A=>(console.warn(" Failed to load wallet balance:",A),{balance:0})),Kp.getScore(e.id).catch(A=>(console.warn(" Failed to load credit score:",A),{score:0}))]);console.log(" User loans response:",h),console.log(" User investments response:",d),console.log(" User transactions response:",m),console.log(" Wallet balance response:",S),console.log(" Credit score response:",N);const k=Array.isArray(h)?h.filter(A=>A.status==="active"||A.status==="approved"||A.status==="disbursed"):[],C=k.reduce((A,U)=>A+(U.principalOutstanding||U.outstandingBalance||U.amount||0),0),w=k.reduce((A,U)=>{var Pe;const Ne=(Pe=U.repaymentSchedule)==null?void 0:Pe.find(Te=>Te.status==="pending");return A+((Ne==null?void 0:Ne.amountDue)||U.monthlyPayment||U.nextPaymentAmount||0)},0),T=Array.isArray(d)?d.reduce((A,U)=>A+(U.amount||U.investedAmount||U.currentValue||0),0):0,L=(S==null?void 0:S.balance)||(S==null?void 0:S.amount)||(S==null?void 0:S.currentBalance)||0,$=(N==null?void 0:N.score)||(N==null?void 0:N.creditScore)||(N==null?void 0:N.value)||0;i({loans:k.map(A=>({id:A._id||A.id,amount:A.principalAmount||A.amount||A.loanAmount,status:A.status,dueDate:A.dueDate||A.nextPaymentDate||A.maturityDate,balance:A.principalOutstanding||A.outstandingBalance||A.remainingBalance,currency:A.currency||"UGX"})),investments:Array.isArray(d)?d.map(A=>({id:A._id||A.id,type:A.type||A.productType||"Investment",amount:A.amount||A.investedAmount||A.currentValue,return:A.expectedReturn||A.returns||A.annualReturn||0,maturity:A.maturityDate||A.duration||A.term||"N/A",currency:A.currency||"UGX"})):[],recentTransactions:Array.isArray(m)?m.slice(0,5).map(A=>({id:A._id||A.id,date:new Date(A.createdAt||A.date||A.transactionDate).toISOString().split("T")[0],description:A.description||A.type||A.narration||"Transaction",amount:A.amount||A.transactionAmount,type:A.amount>0?"credit":"debit",currency:A.currency||"UGX"})):[],portfolioSummary:{activeLoans:C,totalInvestments:T,walletBalance:L,nextPayment:w,creditScore:$}})}catch(h){console.error(" Error loading client data:",h),await v()}finally{l(!1)}},v=async()=>{try{console.log(" Trying fallback data loading methods...");const[h,d,m]=await Promise.all([Me.getLoans({borrower:e.id,userId:e.id}).catch(()=>[]),st.getInvestments({investor:e.id,userId:e.id}).catch(()=>[]),Yt.getTransactions({userId:e.id}).catch(()=>[])]),S=Array.isArray(h)?h.filter(w=>w.status==="active"||w.status==="approved"):[],N=S.reduce((w,T)=>w+(T.principalOutstanding||T.outstandingBalance||T.amount||0),0),k=S.reduce((w,T)=>{var $;const L=($=T.repaymentSchedule)==null?void 0:$.find(A=>A.status==="pending");return w+((L==null?void 0:L.amountDue)||T.monthlyPayment||0)},0),C=Array.isArray(d)?d.reduce((w,T)=>w+(T.amount||T.investedAmount||0),0):0;i({loans:S.map(w=>({id:w._id||w.id,amount:w.principalAmount||w.amount,status:w.status,dueDate:w.dueDate||w.nextPaymentDate,balance:w.principalOutstanding||w.outstandingBalance,currency:w.currency||"UGX"})),investments:Array.isArray(d)?d.map(w=>({id:w._id||w.id,type:w.type||"Investment",amount:w.amount||w.investedAmount,return:w.expectedReturn||w.returns||0,maturity:w.maturityDate||w.duration||"N/A",currency:w.currency||"UGX"})):[],recentTransactions:Array.isArray(m)?m.slice(0,5).map(w=>({id:w._id||w.id,date:new Date(w.createdAt||w.date).toISOString().split("T")[0],description:w.description||w.type||"Transaction",amount:w.amount,type:w.amount>0?"credit":"debit",currency:w.currency||"UGX"})):[],portfolioSummary:{activeLoans:N,totalInvestments:C,walletBalance:0,nextPayment:k,creditScore:0}})}catch(h){console.error(" Fallback data loading also failed:",h),i(b())}},b=()=>({loans:[{id:1,amount:5e6,status:"Active",dueDate:"2024-12-15",balance:25e5,currency:"UGX"}],investments:[{id:1,type:"Sian Wallet",amount:5e4,return:0,maturity:"Instant",currency:"UGX"}],recentTransactions:[{id:1,date:"2024-01-15",description:"Loan Payment",amount:-5e5,type:"debit",currency:"UGX"},{id:2,date:"2024-01-10",description:"Wallet Top-up",amount:-1e5,type:"debit",currency:"UGX"}],portfolioSummary:{activeLoans:25e5,totalInvestments:5e4,walletBalance:5e4,nextPayment:5e5,creditScore:750}});e!=null&&e.id&&p()},[e]);const u=(p,v=t)=>{const b=o[v];return new Intl.NumberFormat(b.locale,{style:"currency",currency:b.symbol,minimumFractionDigits:b.symbol==="UGX"?0:2,maximumFractionDigits:b.symbol==="UGX"?0:2}).format(p)},x=p=>p>=800?{color:"text-green-600",label:"Excellent"}:p>=740?{color:"text-blue-600",label:"Very Good"}:p>=670?{color:"text-yellow-600",label:"Good"}:p>=580?{color:"text-orange-600",label:"Fair"}:{color:"text-red-600",label:"Poor"},g=p=>{console.log(`Initiating investment process for: ${p.name}`),console.log(`Redirecting to: ${p.actionUrl}`),window.location.href=p.actionUrl},f=p=>{switch(p){case"Low":return"bg-green-100 text-green-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"High":return"bg-red-100 text-red-800";case"None":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};if(r)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your portfolio data..."})]})});const y=x(a.portfolioSummary.creditScore);return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Member Portal"}),n.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",e.name,e.memberNumber&&` (Member: ${e.memberNumber})`]}),n.jsx("p",{className:"text-sm text-green-600",children:" Connected to your GLDMF account"})]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Currency:"}),n.jsx("select",{value:t,onChange:p=>s(p.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Object.entries(o).map(([p,v])=>n.jsx("option",{value:p,children:p},p))})]}),a.portfolioSummary.creditScore>0&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Credit Score:"}),n.jsxs("span",{className:`text-sm font-bold ${y.color}`,children:[a.portfolioSummary.creditScore," (",y.label,")"]})]}),n.jsx(R,{to:"/member/portfolio",className:"text-blue-600 hover:text-blue-800 font-medium border-b-2 border-blue-600",children:"My Portfolio"}),n.jsx(R,{to:"/member/apply-financing",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Apply for Loan"})]})]})})}),n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Active Loans"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u(a.portfolioSummary.activeLoans)}),n.jsxs("p",{className:"text-sm text-gray-600",children:[a.loans.length," active loan",a.loans.length!==1?"s":""]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Total Investments"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:u(a.portfolioSummary.totalInvestments)}),n.jsxs("p",{className:"text-sm text-gray-600",children:[a.investments.length," investment",a.investments.length!==1?"s":""]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Wallet Balance"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:u(a.portfolioSummary.walletBalance)}),n.jsx("p",{className:"text-sm text-gray-600",children:"Available instantly"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Next Payment"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:u(a.portfolioSummary.nextPayment)}),n.jsx("p",{className:"text-sm text-gray-600",children:"Due soon"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Credit Score"}),n.jsx("p",{className:`text-2xl font-bold ${y.color}`,children:a.portfolioSummary.creditScore||"N/A"}),n.jsx("p",{className:"text-sm text-gray-600",children:y.label})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Financial Products"}),n.jsx("p",{className:"text-gray-600",children:"Start with UGX 10,000. Choose wallet services or investment opportunities"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map(p=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-2xl mr-2",children:p.icon}),n.jsx("h3",{className:"font-semibold text-gray-900",children:p.name})]}),n.jsx("span",{className:`text-xs px-2 py-1 rounded ${f(p.risk)}`,children:p.risk})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p.description}),n.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Min. Amount:"}),n.jsx("span",{className:"font-semibold",children:u(p.minAmount)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:p.type==="wallet"?"Benefits:":"Returns:"}),n.jsx("span",{className:`font-semibold ${p.type==="wallet"?"text-blue-600":"text-green-600"}`,children:p.returns})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Duration:"}),n.jsx("span",{className:"font-semibold",children:p.duration})]})]}),p.features&&n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"flex flex-wrap gap-1",children:p.features.map((v,b)=>n.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:v},b))})}),n.jsx("button",{onClick:()=>g(p),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Invest Now"})]},p.id))})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your Loans"}),a.loans.length>0?n.jsx("div",{className:"space-y-4",children:a.loans.map(p=>n.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:u(p.amount)}),n.jsx("p",{className:`text-sm ${p.status==="Active"?"text-green-600":"text-gray-600"}`,children:p.status})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Balance: ",u(p.balance)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",p.dueDate]})]})]})},p.id))}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No active loans"}),n.jsx(R,{to:"/member/apply-financing",className:"w-full mt-4 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 text-center block font-medium",children:"Apply for New Loan"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your Investments & Wallet"}),a.investments.length>0?n.jsx("div",{className:"space-y-4",children:a.investments.map(p=>n.jsx("div",{className:`border-l-4 pl-4 py-2 ${p.type==="Sian Wallet"?"border-blue-500":"border-green-500"}`,children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:p.type}),n.jsx("p",{className:"text-sm text-gray-600",children:u(p.amount)})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`text-sm ${p.type==="Sian Wallet"?"text-blue-600":"text-green-600"}`,children:[p.return>0?"+":"",u(p.return)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[p.type==="Sian Wallet"?"Available:":"Matures:"," ",p.maturity]})]})]})},p.id))}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No investments yet"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Recent Transactions"}),a.recentTransactions.length>0?n.jsx("div",{className:"space-y-3",children:a.recentTransactions.map(p=>n.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:p.description}),n.jsx("p",{className:"text-sm text-gray-600",children:p.date})]}),n.jsxs("p",{className:`font-semibold ${p.type==="credit"?"text-green-600":"text-red-600"}`,children:[p.type==="credit"?"+":"-",u(Math.abs(p.amount))]})]},p.id))}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent transactions"})]})]})]})};const of=({investment:e,onUpdate:t})=>{const[s,r]=j.useState(e.status),[l,a]=j.useState(!1),i=async o=>{a(!0);try{await st.updateInvestment(e.id,{status:o}),r(o),t()}catch(c){console.error("Error updating investment:",c)}finally{a(!1)}};return n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Manage Investment"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>i("approved"),disabled:l||s==="approved",className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 disabled:bg-gray-400",children:l?"...":"Approve"}),n.jsx("button",{onClick:()=>i("rejected"),disabled:l||s==="rejected",className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 disabled:bg-gray-400",children:l?"...":"Reject"}),n.jsx("button",{onClick:()=>i("pending"),disabled:l||s==="pending",className:"bg-yellow-600 text-white px-3 py-1 rounded text-sm hover:bg-yellow-700 disabled:bg-gray-400",children:l?"...":"Set Pending"})]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Current Status: ",n.jsx("span",{className:`font-semibold ${s==="approved"?"text-green-600":s==="rejected"?"text-red-600":"text-yellow-600"}`,children:s})]})]})},cf=()=>{const e=pe(),[t]=Ms(),[s,r]=j.useState([]),[l,a]=j.useState(!0),[i,o]=j.useState(t.get("status")||"all");j.useEffect(()=>{c()},[i]);const c=async()=>{try{a(!0);const x={};i!=="all"&&(x.status=i);const g=await st.getInvestments(x);r(g)}catch(x){console.error("Error fetching investments:",x)}finally{a(!1)}},u=x=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(x||0);return l?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Investment Management"}),n.jsx("p",{className:"text-gray-600",children:"GLDMF - Manage investment applications and portfolios"})]}),n.jsx("button",{onClick:()=>e("/admin/gldmf"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Back to Dashboard"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Investments"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:s.filter(x=>x.status==="pending").length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Approved"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(x=>x.status==="approved").length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:u(s.reduce((x,g)=>x+(g.amount||0),0))})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filter Investments:"}),["all","pending","approved","rejected","active"].map(x=>n.jsxs("button",{onClick:()=>o(x),className:`px-4 py-2 rounded-lg capitalize ${i===x?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[x," (",x==="all"?s.length:s.filter(g=>g.status===x).length,")"]},x))]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[i==="all"?"All":i," Investments (",s.length,")"]}),n.jsx("button",{onClick:()=>e("/investment-platform"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"New Investment"})]}),n.jsx("div",{className:"space-y-6",children:s.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No investments found for the selected filter."}):s.map(x=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"font-semibold text-lg",children:[x.type," Investment"]}),n.jsxs("p",{className:"text-gray-600",children:["Client: ",x.clientName]}),n.jsxs("p",{className:"text-gray-600",children:["Amount: ",u(x.amount)]}),n.jsxs("p",{className:"text-gray-600",children:["Duration: ",x.duration," months"]}),x.expectedReturn&&n.jsxs("p",{className:"text-gray-600",children:["Expected Return: ",u(x.expectedReturn)]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${x.status==="approved"?"bg-green-100 text-green-800":x.status==="rejected"?"bg-red-100 text-red-800":x.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:x.status}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Created: ",new Date(x.createdAt).toLocaleDateString()]})]})]}),x.description&&n.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded",children:n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("strong",{children:"Description:"})," ",x.description]})}),n.jsx(of,{investment:x,onUpdate:c})]},x.id))})]})]})},df=()=>{const e=pe(),[t,s]=j.useState([]),[r,l]=j.useState(!0),[a,i]=j.useState(!1),[o,c]=j.useState({name:"",email:"",role:"tenant_staff",phone:""});j.useEffect(()=>{u()},[]);const u=async()=>{try{l(!0);const p=await Qe.getUsers({tenant:"GLDMF"});s(p)}catch(p){console.error("Error fetching users:",p)}finally{l(!1)}},x=async p=>{p.preventDefault();try{await Qe.register({...o,tenantCode:"GLDMF"}),i(!1),c({name:"",email:"",role:"tenant_staff",phone:""}),u(),alert("User created successfully!")}catch(v){console.error("Error creating user:",v),alert("Error creating user. Please try again.")}},g=async(p,v)=>{try{v==="deactivate"?await Qe.updateUser(p,{status:"inactive"}):v==="activate"?await Qe.updateUser(p,{status:"active"}):v==="reset-password"&&alert("Password reset initiated for user"),u()}catch(b){console.error("Error performing user action:",b)}},f=p=>{const b={tenant_admin:{color:"bg-purple-100 text-purple-800",label:"Admin"},tenant_staff:{color:"bg-blue-100 text-blue-800",label:"Staff"},member:{color:"bg-green-100 text-green-800",label:"Member"}}[p]||{color:"bg-gray-100 text-gray-800",label:p};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.color}`,children:b.label})},y=p=>n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p});return r?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),n.jsx("p",{className:"text-gray-600",children:"GLDMF - Manage staff and member accounts"})]}),n.jsx("button",{onClick:()=>e("/admin/gldmf"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Back to Dashboard"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Staff Members"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.filter(p=>p.role==="tenant_staff"||p.role==="tenant_admin").length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Members"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.filter(p=>p.role==="member").length})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:t.filter(p=>p.status==="active").length})]})]}),a&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Create New Staff User"}),n.jsxs("form",{onSubmit:x,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),n.jsx("input",{type:"text",required:!0,value:o.name,onChange:p=>c({...o,name:p.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",required:!0,value:o.email,onChange:p=>c({...o,email:p.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("input",{type:"tel",value:o.phone,onChange:p=>c({...o,phone:p.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),n.jsxs("select",{value:o.role,onChange:p=>c({...o,role:p.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"tenant_staff",children:"Staff"}),n.jsx("option",{value:"tenant_admin",children:"Admin"})]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Create User"}),n.jsx("button",{type:"button",onClick:()=>i(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600",children:"Cancel"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["All Users (",t.length,")"]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>i(!a),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:a?"Cancel":"Add Staff User"})})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"User"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Role"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Last Login"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{children:t.map(p=>n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:p.name}),n.jsx("p",{className:"text-sm text-gray-600",children:p.email}),p.phone&&n.jsx("p",{className:"text-sm text-gray-600",children:p.phone})]})}),n.jsx("td",{className:"py-3 px-4",children:f(p.role)}),n.jsx("td",{className:"py-3 px-4",children:y(p.status)}),n.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:p.lastLogin?new Date(p.lastLogin).toLocaleDateString():"Never"}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex space-x-2",children:[p.status==="active"?n.jsx("button",{onClick:()=>g(p.id,"deactivate"),className:"bg-yellow-600 text-white px-3 py-1 rounded text-sm hover:bg-yellow-700",children:"Deactivate"}):n.jsx("button",{onClick:()=>g(p.id,"activate"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:"Activate"}),n.jsx("button",{onClick:()=>g(p.id,"reset-password"),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"Reset Password"})]})})]},p.id))})]})}),t.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No users found."})]})]})},uf=()=>{const e=pe(),[t,s]=j.useState({}),[r,l]=j.useState([]),[a,i]=j.useState(!0);j.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0);const[x,g]=await Promise.all([Vu.getHealth(),Xt.getTenants()]);s(x),l(g)}catch(x){console.error("Error fetching system data:",x)}finally{i(!1)}},c=x=>{switch(x){case"healthy":return"bg-green-500";case"degraded":return"bg-yellow-500";case"unhealthy":return"bg-red-500";default:return"bg-gray-500"}},u=x=>{switch(x){case"healthy":return"All Systems Operational";case"degraded":return"Partial Outage";case"unhealthy":return"Major Outage";default:return"Unknown Status"}};return a?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Health"}),n.jsx("p",{className:"text-gray-600",children:"SianFinTech - Global System Monitoring"})]}),n.jsx("button",{onClick:()=>e("/admin/sian"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Back to Dashboard"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"System Status"}),n.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Refresh Status"})]}),n.jsx("div",{className:`p-6 rounded-lg mb-6 ${t.status==="healthy"?"bg-green-50 border border-green-200":t.status==="degraded"?"bg-yellow-50 border border-yellow-200":"bg-red-50 border border-red-200"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-4 h-4 rounded-full ${c(t.status)} mr-3`}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:u(t.status)}),n.jsxs("p",{className:"text-sm opacity-80",children:["Last checked: ",new Date().toLocaleTimeString()]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"API Response Time"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.apiResponseTime||"N/A"," ms"]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Database Connections"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.databaseConnections||"N/A"})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.activeUsers||"N/A"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Tenant Health Status"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(x=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:x.name}),n.jsx("span",{className:`text-xs px-2 py-1 rounded ${x.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.status})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Plan:"}),n.jsx("span",{className:"font-semibold",children:x.plan})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Users:"}),n.jsx("span",{className:"font-semibold",children:x.users})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Uptime:"}),n.jsx("span",{className:"font-semibold text-green-600",children:"99.9%"})]})]}),n.jsxs("div",{className:"mt-4 flex space-x-2",children:[n.jsx("button",{onClick:()=>e(`/admin/tenant/${x.code}`),className:"flex-1 bg-blue-600 text-white py-2 rounded text-sm hover:bg-blue-700",children:"View Details"}),n.jsx("button",{onClick:()=>e(`/admin/sian/analytics?tenant=${x.code}`),className:"flex-1 bg-green-600 text-white py-2 rounded text-sm hover:bg-green-700",children:"Analytics"})]})]},x.id))})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"System Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{className:"bg-blue-600 text-white p-4 rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx("div",{className:"font-semibold",children:"Run Backup"}),n.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Database backup"})]}),n.jsxs("button",{className:"bg-green-600 text-white p-4 rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx("div",{className:"font-semibold",children:"Clear Cache"}),n.jsx("div",{className:"text-sm opacity-90 mt-1",children:"System cache"})]}),n.jsxs("button",{className:"bg-yellow-600 text-white p-4 rounded-lg hover:bg-yellow-700 transition-colors",children:[n.jsx("div",{className:"font-semibold",children:"Run Diagnostics"}),n.jsx("div",{className:"text-sm opacity-90 mt-1",children:"System check"})]}),n.jsxs("button",{className:"bg-purple-600 text-white p-4 rounded-lg hover:bg-purple-700 transition-colors",children:[n.jsx("div",{className:"font-semibold",children:"Generate Report"}),n.jsx("div",{className:"text-sm opacity-90 mt-1",children:"System report"})]})]})]})]})},mf=()=>{const e=pe(),[t]=Ms(),[s,r]=j.useState({}),[l,a]=j.useState([]),[i,o]=j.useState(t.get("tenant")||"all"),[c,u]=j.useState("30d"),[x,g]=j.useState(!0);j.useEffect(()=>{f()},[i,c]);const f=async()=>{try{g(!0);const[p,v]=await Promise.all([Xt.getTenants(),Bi.getSianDashboard()]);a(p),r(v||{})}catch(p){console.error("Error fetching analytics:",p)}finally{g(!1)}},y=p=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(p||0);return x?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Analytics"}),n.jsx("p",{className:"text-gray-600",children:"SianFinTech - Global Performance Metrics"})]}),n.jsx("button",{onClick:()=>e("/admin/sian"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Back to Dashboard"})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tenant"}),n.jsxs("select",{value:i,onChange:p=>o(p.target.value),className:"p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"All Tenants"}),l.map(p=>n.jsx("option",{value:p.code,children:p.name},p.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Range"}),n.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"7d",children:"Last 7 Days"}),n.jsx("option",{value:"30d",children:"Last 30 Days"}),n.jsx("option",{value:"90d",children:"Last 90 Days"}),n.jsx("option",{value:"1y",children:"Last Year"})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Refresh Data"})})]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y(s.totalRevenue||0)}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+12% from last period"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Active Loans"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.activeLoans||0}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+8% from last period"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"New Users"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.newUsers||0}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+15% from last period"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Platform Growth"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"+24%"}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Overall growth rate"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Tenant Performance"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Tenant"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Users"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Active Loans"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Revenue"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Growth"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{children:l.map(p=>n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:p.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[p.plan," Plan"]})]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"font-semibold",children:p.users})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"font-semibold",children:Math.floor(p.users*.3)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"font-semibold",children:y(p.users*15e4)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:["+",Math.floor(Math.random()*20)+5,"%"]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("button",{onClick:()=>e(`/admin/sian/analytics/tenant/${p.code}`),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"View Details"})})]},p.id))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),n.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsx("p",{className:"text-gray-500",children:"Revenue chart will be displayed here"})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Growth"}),n.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsx("p",{className:"text-gray-500",children:"User growth chart will be displayed here"})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Export Analytics"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Export as PDF"}),n.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Export as CSV"}),n.jsx("button",{className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700",children:"Generate Report"})]})]})]})},hf=()=>{var S;const e=pe(),[t,s]=j.useState([]),[r,l]=j.useState(!0),[a,i]=j.useState(""),[o,c]=j.useState("all"),[u,x]=j.useState(null),[g,f]=j.useState(!1),[y,p]=j.useState(null);j.useEffect(()=>{v()},[]);const v=async()=>{try{l(!0),p(null),console.log(" Fetching members from API...");let N;try{N=await Qe.getMembers({tenant:"GLDMF"}),console.log(" Members endpoint response:",N)}catch{console.log(" Members endpoint failed, trying users endpoint..."),N=await Qe.getUsers({tenant:"GLDMF",role:"member"}),console.log(" Users endpoint response:",N)}let k=[];N&&Array.isArray(N)?k=N:N&&Array.isArray(N.members)?k=N.members:N&&Array.isArray(N.users)?k=N.users:N&&Array.isArray(N.data)?k=N.data:N&&typeof N=="object"&&(k=Object.values(N)),console.log(" Processed members data:",k),s(k)}catch(N){console.error(" Error fetching members:",N),p(N.message),s([])}finally{l(!1)}},b=async(N,k)=>{try{p(null),console.log(" Updating member status:",N,k),await Qe.updateUser(N,{status:k}),s(C=>C.map(w=>w._id===N||w.id===N?{...w,status:k}:w)),f(!1),alert(` Member status updated to ${k}`)}catch(C){console.error(" Error updating member status:",C),p(C.message),alert(` Failed to update status: ${C.message}`)}},h=N=>{const k={active:{color:"bg-green-100 text-green-800",label:"Active"},pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending"},suspended:{color:"bg-red-100 text-red-800",label:"Suspended"},approved:{color:"bg-blue-100 text-blue-800",label:"Approved"}},C=k[N]||k.pending;return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.color}`,children:C.label})},d=t.filter(N=>{var k,C,w,T;return((k=N.name)==null?void 0:k.toLowerCase().includes(a.toLowerCase()))||((C=N.email)==null?void 0:C.toLowerCase().includes(a.toLowerCase()))||((w=N.phone)==null?void 0:w.includes(a))||((T=N.memberId)==null?void 0:T.toLowerCase().includes(a.toLowerCase()))||N._id&&N._id.toLowerCase().includes(a.toLowerCase())}).filter(N=>o==="all"||N.status===o),m={total:t.length,active:t.filter(N=>N.status==="active").length,pending:t.filter(N=>N.status==="pending").length,suspended:t.filter(N=>N.status==="suspended").length};return r?n.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),n.jsx("p",{className:"ml-4 text-gray-600",children:"Loading members from database..."})]}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Member Management"}),n.jsx("p",{className:"text-gray-600",children:"GLDMF  Manage client members and their profiles"}),n.jsx("div",{className:`text-sm mt-1 ${y?"text-red-600":"text-green-600"}`,children:y?` ${y}`:` ${t.length} members loaded from database`})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:v,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Refresh"}),n.jsx("button",{onClick:()=>e("/admin/gldmf"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Back to Dashboard"})]})]}),y&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"text-red-800",children:[n.jsx("strong",{children:"API Error:"})," ",y]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.total})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.active})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:m.pending})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Suspended"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:m.suspended})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"text",placeholder:"Search members by name, email, phone, or ID...",value:a,onChange:N=>i(N.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("select",{value:o,onChange:N=>c(N.target.value),className:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"suspended",children:"Suspended"})]}),n.jsx("button",{onClick:()=>e("/register"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Add New Member"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Occupation"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Join Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(N=>{var k,C;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:n.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 font-medium",children:((k=N.name)==null?void 0:k.charAt(0))||"M"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",N.memberId||N._id||N.id]})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:N.email}),n.jsx("div",{className:"text-sm text-gray-500",children:N.phone||"No phone"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h(N.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:((C=N.occupation)==null?void 0:C.replace(/_/g," "))||"Not specified"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.createdAt?new Date(N.createdAt).toLocaleDateString():N.joinDate?new Date(N.joinDate).toLocaleDateString():"Unknown"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>x(N)||f(!0),className:"text-blue-600 hover:text-blue-900",children:"View"}),N.status==="active"?n.jsx("button",{onClick:()=>b(N._id||N.id,"suspended"),className:"text-yellow-600 hover:text-yellow-900",children:"Suspend"}):n.jsx("button",{onClick:()=>b(N._id||N.id,"active"),className:"text-green-600 hover:text-green-900",children:"Activate"})]})})]},N._id||N.id)})})]})}),d.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:a||o!=="all"?"No members match your search criteria.":"No members found in the database."})]}),g&&u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Member Details"}),n.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Name"}),n.jsx("p",{className:"text-gray-900",children:u.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Status"}),n.jsx("div",{className:"mt-1",children:h(u.status)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Email"}),n.jsx("p",{className:"text-gray-900",children:u.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Phone"}),n.jsx("p",{className:"text-gray-900",children:u.phone||"Not provided"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Member ID"}),n.jsx("p",{className:"text-gray-900",children:u.memberId||u._id||u.id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Occupation"}),n.jsx("p",{className:"text-gray-900 capitalize",children:((S=u.occupation)==null?void 0:S.replace(/_/g," "))||"Not specified"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Join Date"}),n.jsx("p",{className:"text-gray-900",children:u.createdAt?new Date(u.createdAt).toLocaleDateString():u.joinDate?new Date(u.joinDate).toLocaleDateString():"Unknown"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Last Login"}),n.jsx("p",{className:"text-gray-900",children:u.lastLogin?new Date(u.lastLogin).toLocaleDateString():"Never"})]})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-6 mt-6 border-t",children:[u.status==="active"?n.jsx("button",{onClick:()=>b(u._id||u.id,"suspended"),className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700",children:"Suspend Account"}):n.jsx("button",{onClick:()=>b(u._id||u.id,"active"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Activate Account"}),n.jsx("button",{onClick:()=>f(!1),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Close"})]})]})})})]})},xf=()=>{const e=pe(),[t]=Ms(),[s,r]=j.useState([]),[l,a]=j.useState(!0),[i,o]=j.useState(t.get("status")||"all"),[c,u]=j.useState("");j.useEffect(()=>{x()},[i]);const x=async()=>{try{a(!0),console.log(" Fetching loans from API...");let m=[];try{const S={};i!=="all"&&(S.status=i),S.tenant="GLDMF",m=await Me.getLoans(S),console.log(" Raw loans data:",m),r(m)}catch(S){console.error(" Loans API call failed:",S);try{const N=await fetch(`http://localhost:8082/api/loans?tenant=GLDMF${i!=="all"?`&status=${i}`:""}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"Content-Type":"application/json"}});if(N.ok){const k=await N.json();console.log(" Direct loans API response:",k),r(k.loans||k)}else throw new Error("Direct API call failed")}catch(N){console.error(" Direct loans API also failed:",N),r(g())}}}catch(m){console.error(" Error fetching loans:",m),r(g())}finally{a(!1)}},g=()=>[{id:"LN001",applicantName:"John Farmer",amount:25e5,term:12,interestRate:15,status:"pending",purpose:"Agricultural inputs and equipment purchase",createdAt:"2024-01-15T08:30:00.000Z",memberId:"GLDMF69001289",creditScore:72,repaymentHistory:"Good"},{id:"LN002",applicantName:"Sarah Vendor",amount:15e5,term:6,interestRate:12,status:"approved",purpose:"Market stall expansion and inventory",createdAt:"2024-01-10T14:20:00.000Z",approvedAt:"2024-01-12T10:15:00.000Z",memberId:"GLDMF69001290",creditScore:85,repaymentHistory:"Excellent"},{id:"LN003",applicantName:"Mike Driver",amount:3e6,term:18,interestRate:18,status:"disbursed",purpose:"Motorcycle purchase for transport business",createdAt:"2024-01-05T09:45:00.000Z",approvedAt:"2024-01-08T11:30:00.000Z",disbursedAt:"2024-01-10T15:20:00.000Z",memberId:"GLDMF69001291",creditScore:65,repaymentHistory:"Fair"},{id:"LN004",applicantName:"Grace Trader",amount:8e5,term:4,interestRate:10,status:"rejected",purpose:"Small business working capital",createdAt:"2024-01-12T16:10:00.000Z",rejectedAt:"2024-01-14T13:45:00.000Z",memberId:"GLDMF69001292",creditScore:45,rejectionReason:"Insufficient credit history",repaymentHistory:"Poor"},{id:"LN005",applicantName:"David Fisher",amount:12e5,term:8,interestRate:14,status:"completed",purpose:"Fishing equipment and boat maintenance",createdAt:"2023-11-20T10:15:00.000Z",approvedAt:"2023-11-22T14:30:00.000Z",completedAt:"2024-01-18T09:20:00.000Z",memberId:"GLDMF69001293",creditScore:78,repaymentHistory:"Good"}],f=async m=>{try{console.log(" Approving loan:",m);try{await Me.approveLoan(m)}catch(S){console.error("API approval failed, updating locally:",S),r(N=>N.map(k=>k.id===m?{...k,status:"approved",approvedAt:new Date().toISOString()}:k))}x()}catch(S){console.error(" Error approving loan:",S),alert("Error approving loan. Please try again.")}},y=async m=>{try{console.log(" Rejecting loan:",m);try{await Me.rejectLoan(m)}catch(S){console.error("API rejection failed, updating locally:",S),r(N=>N.map(k=>k.id===m?{...k,status:"rejected",rejectedAt:new Date().toISOString()}:k))}x()}catch(S){console.error(" Error rejecting loan:",S),alert("Error rejecting loan. Please try again.")}},p=m=>{switch(m){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"disbursed":return"bg-blue-100 text-blue-800";case"completed":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},v=m=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(m||0),b=m=>m?new Date(m).toLocaleDateString("en-UG",{year:"numeric",month:"short",day:"numeric"}):"N/A",h=s.filter(m=>{var S,N,k,C;return((S=m.applicantName)==null?void 0:S.toLowerCase().includes(c.toLowerCase()))||((N=m.purpose)==null?void 0:N.toLowerCase().includes(c.toLowerCase()))||((k=m.id)==null?void 0:k.toString().includes(c))||((C=m.memberId)==null?void 0:C.toLowerCase().includes(c.toLowerCase()))}),d={total:s.length,pending:s.filter(m=>m.status==="pending").length,approved:s.filter(m=>m.status==="approved").length,disbursed:s.filter(m=>m.status==="disbursed").length,completed:s.filter(m=>m.status==="completed").length,rejected:s.filter(m=>m.status==="rejected").length,totalValue:s.reduce((m,S)=>m+(S.amount||0),0)};return l?n.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),n.jsx("p",{className:"ml-4 text-gray-600",children:"Loading loans..."})]}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Loan Management"}),n.jsx("p",{className:"text-gray-600",children:"GLDMF - Process and manage loan applications"}),n.jsx("p",{className:"text-sm text-blue-600 mt-1",children:s.length>0?`Loaded ${s.length} loans from database`:"Using demo data - Connect to MongoDB"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Refresh Data"}),n.jsx("button",{onClick:()=>e("/admin/gldmf"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Back to Dashboard"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Loans"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.total})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:d.pending})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Approved"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:d.approved})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:v(d.totalValue)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 text-center",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Disbursed"}),n.jsx("p",{className:"text-xl font-bold text-blue-600",children:d.disbursed})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 text-center",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),n.jsx("p",{className:"text-xl font-bold text-purple-600",children:d.completed})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 text-center",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Rejected"}),n.jsx("p",{className:"text-xl font-bold text-red-600",children:d.rejected})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"text",placeholder:"Search loans by applicant name, purpose, ID, or member ID...",value:c,onChange:m=>u(m.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("select",{value:i,onChange:m=>o(m.target.value),className:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"All Loans"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"disbursed",children:"Disbursed"}),n.jsx("option",{value:"completed",children:"Completed"})]}),n.jsx("button",{onClick:()=>e("/loan-application"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"New Loan Application"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[i==="all"?"All":i.charAt(0).toUpperCase()+i.slice(1)," Loans (",h.length,")"]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",h.length," of ",s.length," loans"]})]}),n.jsx("div",{className:"space-y-4",children:h.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:c?"No loans match your search criteria.":"No loans found for the selected filter."}):h.map(m=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h3",{className:"font-semibold text-lg",children:["Loan #",m.id]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p(m.status)}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)}),m.creditScore&&n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.creditScore>=80?"bg-green-100 text-green-800":m.creditScore>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Credit: ",m.creditScore]})]}),n.jsxs("p",{className:"text-gray-600",children:[n.jsx("strong",{children:"Applicant:"})," ",m.applicantName,m.memberId&&` (${m.memberId})`]}),n.jsxs("p",{className:"text-gray-600",children:[n.jsx("strong",{children:"Amount:"})," ",v(m.amount)]}),n.jsxs("p",{className:"text-sm text-gray-500",children:[n.jsx("strong",{children:"Applied:"})," ",b(m.createdAt)]}),m.approvedAt&&n.jsxs("p",{className:"text-sm text-gray-500",children:[n.jsx("strong",{children:"Approved:"})," ",b(m.approvedAt)]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Term:"})," ",m.term," months"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Interest:"})," ",m.interestRate,"%"]}),m.repaymentHistory&&n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Repayment:"}),n.jsx("span",{className:`ml-1 ${m.repaymentHistory==="Excellent"?"text-green-600":m.repaymentHistory==="Good"?"text-blue-600":m.repaymentHistory==="Fair"?"text-yellow-600":"text-red-600"}`,children:m.repaymentHistory})]})]})]}),m.purpose&&n.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded",children:n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("strong",{children:"Purpose:"})," ",m.purpose]})}),m.rejectionReason&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 rounded",children:n.jsxs("p",{className:"text-sm text-red-700",children:[n.jsx("strong",{children:"Rejection Reason:"})," ",m.rejectionReason]})}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>e(`/admin/gldmf/loans/${m.id}`),className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700",children:"View Details"}),m.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>f(m.id),className:"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700",children:"Approve"}),n.jsx("button",{onClick:()=>y(m.id),className:"bg-red-600 text-white px-4 py-2 rounded text-sm hover:bg-red-700",children:"Reject"})]})]}),n.jsx("button",{className:"text-gray-600 hover:text-gray-900 text-sm",children:"Download Documents"})]})]},m.id))})]})]})},pf=()=>{const e=pe(),{loanId:t}=Bu(),[s,r]=j.useState(null),[l,a]=j.useState(null),[i,o]=j.useState(!0),[c,u]=j.useState("overview");j.useEffect(()=>{x()},[t]);const x=async()=>{try{o(!0);const h=await Me.getLoan(t);if(r(h),h.applicantId){const d=await Qe.getUserById(h.applicantId);a(d)}}catch(h){console.error("Error fetching loan details:",h)}finally{o(!1)}},g=async()=>{try{await Me.approveLoan(t),x(),alert("Loan approved successfully!")}catch(h){console.error("Error approving loan:",h),alert("Error approving loan. Please try again.")}},f=async()=>{try{await Me.rejectLoan(t),x(),alert("Loan rejected successfully!")}catch(h){console.error("Error rejecting loan:",h),alert("Error rejecting loan. Please try again.")}},y=async()=>{try{await Me.updateLoan(t,{status:"disbursed"}),x(),alert("Loan disbursed successfully!")}catch(h){console.error("Error disbursing loan:",h),alert("Error disbursing loan. Please try again.")}},p=h=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(h||0),v=()=>{if(!(s!=null&&s.amount)||!(s!=null&&s.interestRate)||!(s!=null&&s.term))return 0;const h=s.amount,d=s.interestRate/100/12,m=s.term;return h*d*Math.pow(1+d,m)/(Math.pow(1+d,m)-1)},b=h=>{switch(h){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"disbursed":return"bg-blue-100 text-blue-800";case"completed":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return i?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s?n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-8",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[n.jsx("button",{onClick:()=>e("/admin/gldmf/loans"),className:"text-blue-600 hover:text-blue-800",children:" Back to Loans"}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${b(s.status)}`,children:s.status.toUpperCase()})]}),n.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Loan #",s.id]}),n.jsx("p",{className:"text-gray-600",children:"Detailed view and management"})]}),n.jsxs("div",{className:"flex space-x-3",children:[s.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:g,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Approve Loan"}),n.jsx("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Reject Loan"})]}),s.status==="approved"&&n.jsx("button",{onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Disburse Funds"}),n.jsx("button",{onClick:()=>e("/admin/gldmf/loans"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Back to List"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:n.jsx("div",{className:"border-b",children:n.jsx("nav",{className:"flex space-x-8 px-6",children:["overview","applicant","documents","payments","history"].map(h=>n.jsx("button",{onClick:()=>u(h),className:`py-4 px-1 font-medium border-b-2 transition-colors capitalize ${c===h?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:h},h))})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c==="overview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Loan Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Loan Amount"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:p(s.amount)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Interest Rate"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[s.interestRate,"%"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Term"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[s.term," months"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Monthly Payment"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:p(v())})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Purpose"}),n.jsx("p",{className:"text-gray-900 mt-1 p-3 bg-gray-50 rounded-lg",children:s.purpose})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Financial Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-green-600",children:"Total Loan Amount"}),n.jsx("p",{className:"text-2xl font-bold text-green-700",children:p(s.amount)})]}),n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-blue-600",children:"Total Interest"}),n.jsx("p",{className:"text-2xl font-bold text-blue-700",children:p(s.amount*(s.interestRate/100))})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-purple-600",children:"Total Repayment"}),n.jsx("p",{className:"text-2xl font-bold text-purple-700",children:p(s.amount*(1+s.interestRate/100))})]})]})]})]}),c==="applicant"&&l&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Applicant Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Personal Details"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Full Name"}),n.jsx("p",{className:"text-gray-900",children:l.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email"}),n.jsx("p",{className:"text-gray-900",children:l.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Phone"}),n.jsx("p",{className:"text-gray-900",children:l.phone||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Member Since"}),n.jsx("p",{className:"text-gray-900",children:new Date(l.createdAt).toLocaleDateString()})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Account Status"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),n.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${l.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Last Login"}),n.jsx("p",{className:"text-gray-900",children:l.lastLogin?new Date(l.lastLogin).toLocaleDateString():"Never"})]})]}),n.jsx("button",{onClick:()=>e(`/admin/gldmf/users/${l.id}`),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"View Full Profile"})]})]})]}),c==="documents"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Loan Documents"}),n.jsxs("div",{className:"space-y-4",children:[s.documents&&s.documents.length>0?s.documents.map((h,d)=>n.jsxs("div",{className:"flex justify-between items-center p-4 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:h.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Uploaded: ",new Date(h.uploadDate).toLocaleDateString()]})]}),n.jsx("button",{className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"Download"})]},d)):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No documents uploaded for this loan."}),n.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Upload New Document"})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Loan Actions"}),n.jsxs("div",{className:"space-y-3",children:[s.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:g,className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700",children:"Approve Loan"}),n.jsx("button",{onClick:f,className:"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700",children:"Reject Loan"})]}),s.status==="approved"&&n.jsx("button",{onClick:y,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Disburse Funds"}),n.jsx("button",{className:"w-full bg-gray-600 text-white py-2 rounded-lg hover:bg-gray-700",children:"Generate Contract"}),n.jsx("button",{className:"w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700",children:"Send Notification"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Loan Timeline"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Loan Applied"}),n.jsx("p",{className:"text-sm text-gray-600",children:new Date(s.createdAt).toLocaleDateString()})]})]}),s.status!=="pending"&&n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900",children:["Loan ",s.status]}),n.jsx("p",{className:"text-sm text-gray-600",children:new Date(s.updatedAt).toLocaleDateString()})]})]})]})]})]})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loan Not Found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"The loan you're looking for doesn't exist."}),n.jsx("button",{onClick:()=>e("/admin/gldmf/loans"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Back to Loans"})]})})},ff=()=>{const e=pe(),{userId:t}=Bu(),[s,r]=j.useState(null),[l,a]=j.useState([]),[i,o]=j.useState([]),[c,u]=j.useState(!0),[x,g]=j.useState("profile");j.useEffect(()=>{f()},[t]);const f=async()=>{try{u(!0);const d=await Qe.getUserById(t);r(d);const[m,S]=await Promise.all([Me.getLoans({userId:t}),st.getInvestments({userId:t})]);a(m),o(S)}catch(d){console.error("Error fetching user details:",d)}finally{u(!1)}},y=async d=>{try{await Qe.updateUser(t,{status:d}),f(),alert(`User ${d} successfully!`)}catch(m){console.error("Error updating user status:",m),alert("Error updating user status. Please try again.")}},p=async()=>{try{alert("Password reset email sent to user!")}catch(d){console.error("Error resetting password:",d),alert("Error resetting password. Please try again.")}},v=d=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(d||0),b=d=>n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d==="active"?"bg-green-100 text-green-800":d==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d}),h=d=>{const m={approved:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",rejected:"bg-red-100 text-red-800",disbursed:"bg-blue-100 text-blue-800",completed:"bg-purple-100 text-purple-800"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m[d]||"bg-gray-100 text-gray-800"}`,children:d})};return c?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s?n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-8",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[n.jsx("button",{onClick:()=>e("/admin/gldmf/members"),className:"text-blue-600 hover:text-blue-800",children:" Back to Members"}),b(s.status)]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.name}),n.jsxs("p",{className:"text-gray-600",children:["Member since ",new Date(s.createdAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex space-x-3",children:[s.status==="active"?n.jsx("button",{onClick:()=>y("suspended"),className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700",children:"Suspend Account"}):n.jsx("button",{onClick:()=>y("active"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Activate Account"}),n.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Reset Password"}),n.jsx("button",{onClick:()=>e("/admin/gldmf/members"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Back to List"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:n.jsx("div",{className:"border-b",children:n.jsx("nav",{className:"flex space-x-8 px-6",children:["profile","loans","investments","activity"].map(d=>n.jsx("button",{onClick:()=>g(d),className:`py-4 px-1 font-medium border-b-2 transition-colors capitalize ${x===d?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:d},d))})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[x==="profile"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Personal Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Full Name"}),n.jsx("p",{className:"text-lg text-gray-900",children:s.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email Address"}),n.jsx("p",{className:"text-lg text-gray-900",children:s.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Phone Number"}),n.jsx("p",{className:"text-lg text-gray-900",children:s.phone||"Not provided"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Member ID"}),n.jsx("p",{className:"text-lg text-gray-900",children:s.memberId||`GLDMF${s.id.toString().padStart(4,"0")}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Account Status"}),n.jsx("div",{className:"mt-1",children:b(s.status)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Last Login"}),n.jsx("p",{className:"text-lg text-gray-900",children:s.lastLogin?new Date(s.lastLogin).toLocaleDateString():"Never logged in"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-2",children:l.length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Loans"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600 mb-2",children:i.length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Investments"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-2",children:v(l.reduce((d,m)=>d+(m.amount||0),0))}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Loan Value"})]})]})]}),x==="loans"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Loan History"}),n.jsx("div",{className:"space-y-4",children:l.length>0?l.map(d=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-lg",children:["Loan #",d.id]}),n.jsxs("p",{className:"text-gray-600",children:["Amount: ",v(d.amount)]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Applied: ",new Date(d.createdAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"text-right",children:[h(d.status),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Term: ",d.term," months"]})]})]}),d.purpose&&n.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("strong",{children:"Purpose:"})," ",d.purpose]})}),n.jsx("button",{onClick:()=>e(`/admin/gldmf/loans/${d.id}`),className:"mt-3 bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"View Details"})]},d.id)):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No loans found for this user."})})]}),x==="investments"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Investment Portfolio"}),n.jsx("div",{className:"space-y-4",children:i.length>0?i.map(d=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-lg",children:[d.type," Investment"]}),n.jsxs("p",{className:"text-gray-600",children:["Amount: ",v(d.amount)]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Created: ",new Date(d.createdAt).toLocaleDateString()]})]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d.status==="approved"?"bg-green-100 text-green-800":d.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:d.status})]}),d.description&&n.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:n.jsx("p",{className:"text-sm text-gray-700",children:d.description})})]},d.id)):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No investments found for this user."})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Send Message"}),n.jsx("button",{className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700",children:"Create New Loan"}),n.jsx("button",{className:"w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700",children:"View Transaction History"}),s.status==="active"?n.jsx("button",{onClick:()=>y("suspended"),className:"w-full bg-yellow-600 text-white py-2 rounded-lg hover:bg-yellow-700",children:"Suspend Account"}):n.jsx("button",{onClick:()=>y("active"),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700",children:"Activate Account"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Information"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Member Since"}),n.jsx("p",{className:"font-medium text-gray-900",children:new Date(s.createdAt).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Last Login"}),n.jsx("p",{className:"font-medium text-gray-900",children:s.lastLogin?new Date(s.lastLogin).toLocaleDateString():"Never"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Email Verified"}),n.jsx("p",{className:"font-medium text-gray-900",children:s.emailVerified?"Yes":"No"})]})]})]})]})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"User Not Found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"The user you're looking for doesn't exist."}),n.jsx("button",{onClick:()=>e("/admin/gldmf/members"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Back to Members"})]})})},gf=()=>{const[e,t]=j.useState(null),[s,r]=j.useState(!1);return{paymentStatus:e,loading:s,initiatePayment:async o=>{var c;r(!0),t(null);try{let u;return o.provider==="mtn"?u=await Yt.mobileMoneyMTN(o):u=await Yt.mobileMoneyAirtel(o),t({status:"pending",transactionId:u.transactionId,providerReference:u.providerReference,message:"Payment initiated successfully"}),u}catch(u){throw t({status:"failed",message:u.message,error:(c=u.response)==null?void 0:c.data}),u}finally{r(!1)}},checkPaymentStatus:async o=>{try{const c=await Yt.getStatus(o);return t(u=>({...u,...c})),c}catch(c){throw c}},verifyPayment:async o=>{try{const c=await Yt.verify(o);return t(u=>({...u,...c})),c}catch(c){throw c}},setPaymentStatus:t}},Ul={SUPPORTED_COINS:{BTC:{name:"Bitcoin",decimals:8,network:"bitcoin"},ETH:{name:"Ethereum",decimals:18,network:"ethereum"},USDT:{name:"Tether",decimals:6,network:"ethereum"},BNB:{name:"Binance Coin",decimals:18,network:"binance"},ADA:{name:"Cardano",decimals:6,network:"cardano"},XRP:{name:"Ripple",decimals:6,network:"ripple"}},NETWORKS:{bitcoin:{explorer:"https://blockstream.info/tx/"},ethereum:{explorer:"https://etherscan.io/tx/"},binance:{explorer:"https://bscscan.com/tx/"},cardano:{explorer:"https://cardanoscan.io/transaction/"},ripple:{explorer:"https://xrpscan.com/tx/"}}},Wt={createWallet:(e,t)=>_("/crypto/wallets",{method:"POST",body:JSON.stringify({userId:e,coin:t})}),getWallets:e=>_(`/crypto/users/${e}/wallets`),getWalletBalance:e=>_(`/crypto/wallets/${e}/balance`),sendCrypto:e=>_("/crypto/transfers",{method:"POST",body:JSON.stringify(e)}),getTransactions:(e,t={})=>{const s=new URLSearchParams(t).toString();return _(`/crypto/users/${e}/transactions?${s}`)},getTransaction:e=>_(`/crypto/transactions/${e}`),getPrices:(e=["BTC","ETH"])=>{const t=e.join(",");return _(`/crypto/prices?coins=${t}`)},getExchangeRates:()=>_("/crypto/prices"),generateAddress:e=>_(`/crypto/wallets/${e}/address`,{method:"POST"}),validateAddress:(e,t)=>_(`/crypto/validate-address?address=${e}&coin=${t}`),getNetworkFees:e=>_(`/crypto/fees/${e}`)},vt={formatCryptoAmount(e,t){var r;const s=((r=Ul.SUPPORTED_COINS[t])==null?void 0:r.decimals)||8;return parseFloat(e).toFixed(s)},convertToFiat(e,t,s="USD"){const r=parseFloat(e)*parseFloat(t);return new Intl.NumberFormat("en-US",{style:"currency",currency:s}).format(r)},calculateNetworkFee(e,t,s){return s==="BTC"?e*t/1e8:["ETH","USDT"].includes(s)?e*t/1e18:e},getExplorerUrl(e,t){var l,a;const s=(l=Ul.SUPPORTED_COINS[t])==null?void 0:l.network,r=(a=Ul.NETWORKS[s])==null?void 0:a.explorer;return r?`${r}${e}`:null}},yf=({userId:e,onSuccess:t})=>{var k;const[s,r]=j.useState(1),[l,a]=j.useState([]),[i,o]=j.useState(!1),[c,u]=j.useState(""),[x,g]=j.useState({}),[f,y]=j.useState({fromWallet:"",toAddress:"",amount:"",coin:"BTC",description:"",priority:"medium"}),[p,v]=j.useState({networkFee:0,totalAmount:0,fiatValue:0});j.useEffect(()=>{b(),h()},[e]);const b=async()=>{try{const C=await Wt.getWallets(e);a(C.data||C)}catch(C){u("Failed to load wallets: "+C.message)}},h=async()=>{try{const C=await Wt.getPrices();g(C.data||C)}catch(C){console.error("Failed to load prices:",C)}},d=async()=>{try{return o(!0),(await Wt.validateAddress(f.toAddress,f.coin)).valid?!0:(u("Invalid wallet address for selected cryptocurrency"),!1)}catch(C){return u("Address validation failed: "+C.message),!1}finally{o(!1)}},m=async()=>{var C;try{const w=await Wt.getNetworkFees(f.coin),T=vt.calculateNetworkFee(w.gasPrice,w.gasLimit,f.coin),L=parseFloat(f.amount)+T,$=vt.convertToFiat(f.amount,((C=x[f.coin])==null?void 0:C.usd)||0);v({networkFee:T,totalAmount:L,fiatValue:$})}catch(w){console.error("Failed to calculate fees:",w)}},S=async()=>{await d()&&(r(2),await m())},N=async C=>{C.preventDefault(),o(!0),u("");try{const w={...f,userId:e,networkFee:p.networkFee,totalAmount:p.totalAmount},T=await Wt.sendCrypto(w);T.success?(t==null||t(T.data),r(3)):u(T.error||"Transfer failed")}catch(w){u("Transfer failed: "+w.message)}finally{o(!1)}};return s===3?n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-green-500 text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Transfer Successful!"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Your crypto transfer has been initiated and is being processed on the blockchain."}),n.jsx("button",{onClick:()=>{r(1),y({fromWallet:"",toAddress:"",amount:"",coin:"BTC",description:"",priority:"medium"})},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Make Another Transfer"})]}):n.jsxs("div",{className:"bg-white rounded-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Crypto Transfer"}),n.jsx("div",{className:"flex space-x-2",children:[1,2].map(C=>n.jsx("div",{className:`w-3 h-3 rounded-full ${s>=C?"bg-blue-600":"bg-gray-300"}`},C))})]}),c&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:c}),n.jsxs("form",{onSubmit:N,children:[s===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Wallet"}),n.jsxs("select",{value:f.fromWallet,onChange:C=>y({...f,fromWallet:C.target.value,coin:C.target.options[C.target.selectedIndex].getAttribute("data-coin")}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Choose a wallet"}),l.map(C=>n.jsxs("option",{value:C._id,"data-coin":C.coin,children:[C.coin," - Balance: ",vt.formatCryptoAmount(C.balance,C.coin)," ",C.coin]},C._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient Address"}),n.jsx("input",{type:"text",value:f.toAddress,onChange:C=>y({...f,toAddress:C.target.value}),placeholder:`Enter ${f.coin} wallet address`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"number",step:"any",value:f.amount,onChange:C=>y({...f,amount:C.target.value}),placeholder:"0.00",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),n.jsx("span",{className:"px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-700",children:f.coin})]}),f.amount&&x[f.coin]&&n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[" ",vt.convertToFiat(f.amount,x[f.coin].usd)]})]}),n.jsx("button",{type:"button",onClick:S,disabled:!f.fromWallet||!f.toAddress||!f.amount,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400",children:"Continue to Review"})]}),s===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Transfer Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"From:"}),n.jsxs("span",{className:"font-medium",children:[(k=l.find(C=>C._id===f.fromWallet))==null?void 0:k.coin," Wallet"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"To:"}),n.jsx("span",{className:"font-mono text-xs",children:f.toAddress})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Amount:"}),n.jsxs("span",{className:"font-medium",children:[f.amount," ",f.coin]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Network Fee:"}),n.jsxs("span",{className:"font-medium",children:[vt.formatCryptoAmount(p.networkFee,f.coin)," ",f.coin]})]}),n.jsxs("div",{className:"flex justify-between border-t pt-2",children:[n.jsx("span",{className:"text-gray-600",children:"Total:"}),n.jsxs("span",{className:"font-bold",children:[vt.formatCryptoAmount(p.totalAmount,f.coin)," ",f.coin]})]}),p.fiatValue&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Value:"}),n.jsx("span",{className:"text-gray-600",children:p.fiatValue})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Priority"}),n.jsxs("select",{value:f.priority,onChange:C=>y({...f,priority:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"low",children:"Low (Slower, Lower Fee)"}),n.jsx("option",{value:"medium",children:"Medium (Standard)"}),n.jsx("option",{value:"high",children:"High (Faster, Higher Fee)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),n.jsx("input",{type:"text",value:f.description,onChange:C=>y({...f,description:C.target.value}),placeholder:"Add a note for this transfer",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>r(1),className:"flex-1 bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Back"}),n.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400",children:i?"Processing...":"Confirm Transfer"})]})]})]})]})},vf=()=>{var T,L,$;const e=pe(),[t]=Ms(),{user:s}=$t(),{initiatePayment:r,paymentStatus:l,loading:a}=gf(),[i,o]=j.useState({amount:t.get("minAmount")||"10000",paymentMethod:"mobile_money",provider:"mtn",coin:"BTC",cryptoAddress:"",phoneNumber:(s==null?void 0:s.phoneNumber)||"",contributionType:"one_time",autoDebit:!1}),[c,u]=j.useState(1),[x,g]=j.useState([]),[f,y]=j.useState({}),[p,v]=j.useState(!1);j.useEffect(()=>{s!=null&&s.id&&b()},[s]);const b=async()=>{try{v(!0);const[A,U]=await Promise.all([Wt.getWallets(s.id),Wt.getPrices()]);g(A.data||A),y(U.data||U)}catch(A){console.error("Failed to load crypto data:",A)}finally{v(!1)}},h=async A=>{if(A.preventDefault(),c===1){u(2);return}if(c===2&&i.paymentMethod==="mobile_money")try{const U={provider:i.provider,phoneNumber:i.phoneNumber,amount:parseFloat(i.amount),purpose:"wallet_funding",reference:`WALLET${Date.now()}`,currency:"UGX",metadata:{userId:s.id,contributionType:i.contributionType,autoDebit:i.autoDebit,walletAction:"deposit"}};await r(U),(l==null?void 0:l.status)==="completed"&&u(3)}catch(U){alert("Payment failed: "+U.message)}c===3&&e("/member/portfolio")},d=()=>{c>1?u(c-1):e("/member")},m=A=>{console.log("Crypto deposit completed:",A),u(3)},S=A=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(A),N=(A,U)=>vt.formatCryptoAmount(A,U),k=[{value:"mobile_money",label:"Mobile Money",icon:"",description:"Instant deposit via MTN or Airtel Money",supportedCurrencies:["UGX"]},{value:"crypto",label:"Cryptocurrency",icon:"",description:"Deposit Bitcoin, Ethereum, or other cryptocurrencies",supportedCurrencies:["BTC","ETH","USDT","BNB","ADA","XRP"]},{value:"bank_transfer",label:"Bank Transfer",icon:"",description:"Transfer from your bank account",supportedCurrencies:["UGX","USD"]}],C=[{value:"one_time",label:"One-time deposit",description:"Single deposit to your wallet"},{value:"daily",label:"Daily contributions",description:"Automatically deposit UGX 10,000 daily"},{value:"weekly",label:"Weekly contributions",description:"Automatically deposit UGX 50,000 weekly"},{value:"monthly",label:"Monthly contributions",description:"Automatically deposit UGX 200,000 monthly"}],w=()=>k.find(A=>A.value===i.paymentMethod);return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:`text-sm font-medium ${c>=1?"text-blue-600":"text-gray-500"}`,children:"Amount"}),n.jsx("div",{className:`text-sm font-medium ${c>=2?"text-blue-600":"text-gray-500"}`,children:"Payment"}),n.jsx("div",{className:`text-sm font-medium ${c>=3?"text-blue-600":"text-gray-500"}`,children:"Complete"})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${c/3*100}%`}})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:`p-3 rounded-lg mr-4 ${i.paymentMethod==="crypto"?"bg-orange-500":"bg-blue-600"} text-white`,children:n.jsx("span",{className:"text-2xl",children:((T=w())==null?void 0:T.icon)||""})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Fund Your Sian Wallet"}),n.jsx("p",{className:"text-gray-600",children:((L=w())==null?void 0:L.description)||"Add money to your digital wallet"})]})]}),c===2&&i.paymentMethod==="crypto"?n.jsx(yf,{userId:s.id,onSuccess:m}):n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c===1&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Payment Method"}),n.jsx("div",{className:"grid grid-cols-1 gap-3",children:k.map(A=>n.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg cursor-pointer transition-colors ${i.paymentMethod===A.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:A.value,checked:i.paymentMethod===A.value,onChange:U=>o({...i,paymentMethod:U.target.value,amount:A.value==="crypto"?"0.001":"10000"}),className:"text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-2xl ml-3 mr-4",children:A.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900",children:A.label}),n.jsx("div",{className:"text-sm text-gray-600",children:A.description})]})]},A.value))})]}),i.paymentMethod==="mobile_money"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How do you want to fund your wallet?"}),n.jsx("div",{className:"grid grid-cols-1 gap-3",children:C.map(A=>n.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg cursor-pointer transition-colors ${i.contributionType===A.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx("input",{type:"radio",name:"contributionType",value:A.value,checked:i.contributionType===A.value,onChange:U=>o({...i,contributionType:U.target.value}),className:"text-blue-600 focus:ring-blue-500"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("div",{className:"font-medium text-gray-900",children:A.label}),n.jsx("div",{className:"text-sm text-gray-600",children:A.description})]})]},A.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i.paymentMethod==="crypto"?"Amount to Deposit":"Amount to Deposit (UGX)"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"number",step:i.paymentMethod==="crypto"?"0.00000001":"1000",min:i.paymentMethod==="crypto"?"0.0001":"10000",value:i.amount,onChange:A=>o({...i,amount:A.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg font-semibold",required:!0}),i.paymentMethod==="crypto"&&n.jsxs("select",{value:i.coin,onChange:A=>o({...i,coin:A.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"BTC",children:"BTC"}),n.jsx("option",{value:"ETH",children:"ETH"}),n.jsx("option",{value:"USDT",children:"USDT"}),n.jsx("option",{value:"BNB",children:"BNB"}),n.jsx("option",{value:"ADA",children:"ADA"}),n.jsx("option",{value:"XRP",children:"XRP"})]})]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[i.paymentMethod==="crypto"?`Minimum deposit: 0.0001 ${i.coin}`:"Minimum deposit: UGX 10,000",i.paymentMethod==="crypto"&&f[i.coin]&&n.jsxs("span",{className:"ml-2",children:[" ",vt.convertToFiat(i.amount,f[i.coin].usd)]})]})]}),i.paymentMethod==="mobile_money"&&i.contributionType!=="one_time"&&n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"autoDebit",checked:i.autoDebit,onChange:A=>o({...i,autoDebit:A.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("label",{htmlFor:"autoDebit",className:"ml-2 text-sm text-gray-700",children:"Enable auto-debit from my mobile money"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Sian Wallet Benefits"}),n.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[n.jsx("li",{children:" Instant transfers to other Sian users"}),n.jsx("li",{children:" Pay for services and products"}),n.jsxs("li",{children:[" ",i.paymentMethod==="crypto"?"Crypto & ":"","Mobile money integration"]}),n.jsx("li",{children:" Secure and fast transactions"}),i.paymentMethod==="crypto"&&n.jsx("li",{children:" Blockchain security"})]})]})]}),c===2&&i.paymentMethod==="mobile_money"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Deposit Amount:"}),n.jsx("span",{className:"text-lg font-bold text-gray-900",children:S(parseFloat(i.amount))})]}),n.jsxs("div",{className:"flex justify-between items-center mt-2",children:[n.jsx("span",{className:"text-gray-600",children:"Frequency:"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:($=C.find(A=>A.value===i.contributionType))==null?void 0:$.label})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Money Provider"}),n.jsxs("select",{value:i.provider,onChange:A=>o({...i,provider:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[n.jsx("option",{value:"mtn",children:"MTN Mobile Money"}),n.jsx("option",{value:"airtel",children:"Airtel Money"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Money Number"}),n.jsx("input",{type:"tel",value:i.phoneNumber,onChange:A=>o({...i,phoneNumber:A.target.value}),placeholder:"0771234567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"You will receive a mobile money prompt to complete the payment"})]}),l&&n.jsx("div",{className:`p-4 rounded-lg ${l.status==="completed"?"bg-green-50 border border-green-200":l.status==="failed"?"bg-red-50 border border-red-200":"bg-yellow-50 border border-yellow-200"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"mr-2",children:l.status==="completed"?"":l.status==="failed"?"":""}),n.jsxs("div",{children:[n.jsx("p",{className:`font-medium ${l.status==="completed"?"text-green-800":l.status==="failed"?"text-red-800":"text-yellow-800"}`,children:l.message}),l.status==="pending"&&n.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Please check your phone to complete the payment"})]})]})})]}),c===3&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:n.jsx("span",{className:"text-2xl text-green-600",children:""})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:i.paymentMethod==="crypto"?"Crypto Deposit Successful!":"Wallet Funding Successful!"}),n.jsx("p",{className:"text-gray-600",children:i.paymentMethod==="crypto"?`Your crypto deposit of ${N(i.amount,i.coin)} ${i.coin} is being confirmed`:`Your Sian Wallet has been funded with ${S(parseFloat(i.amount))}`})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),n.jsxs("span",{className:"font-mono text-gray-900",children:[i.paymentMethod==="crypto"?"CRYPTO":"WALLET",Date.now()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"text-gray-900",children:new Date().toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Amount:"}),n.jsx("span",{className:"font-semibold text-green-600",children:i.paymentMethod==="crypto"?`${N(i.amount,i.coin)} ${i.coin}`:S(parseFloat(i.amount))})]})]})}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"What's Next?"}),n.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 text-left",children:[n.jsx("li",{children:" Use your wallet for instant payments"}),n.jsx("li",{children:" Transfer money to other Sian users"}),n.jsx("li",{children:" Pay for services and products"}),n.jsx("li",{children:" Monitor your transactions in your portfolio"}),i.paymentMethod==="crypto"&&n.jsx("li",{children:" Track your crypto investments"})]})]})]}),(c===1||c===2&&i.paymentMethod!=="crypto")&&n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:d,className:"flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:c===1?"Cancel":"Back"}),n.jsx("button",{type:"submit",disabled:a,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",children:a?"Processing...":c===1?"Continue to Payment":c===2?"Complete Payment":"Go to Portfolio"})]})]}),n.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-yellow-600 mr-2",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"text-yellow-800 font-medium",children:"Secure Transaction"}),n.jsx("p",{className:"text-yellow-700 text-sm",children:i.paymentMethod==="crypto"?"Your crypto transactions are secured by blockchain technology and processed through certified exchanges.":"Your payment is processed securely through certified mobile money providers. Funds are held in escrow with our banking partners."})]})]})})]})]})})},bf=()=>n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"You don't have permission to access this page."}),n.jsx("a",{href:"/",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Return to Home"})]})}),jf=()=>{const{user:e,logout:t,loading:s}=$t();return s?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"App",children:[e&&e.role!=="public"&&window.location.pathname!=="/"&&n.jsx("header",{className:"bg-blue-600 text-white p-4 shadow-lg",children:n.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[n.jsx("h1",{className:"text-xl font-bold",children:e.tenantCode==="gldmf"?"GLDMF Portal - Great Lakes Development Microfinance":(e.tenantCode==="sianfintech","SianFinTech Platform")}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm",children:["Welcome, ",e.name," (",e.role,")",e.tenantCode&&` - ${e.tenantCode.toUpperCase()}`]}),n.jsx("button",{onClick:t,className:"bg-red-500 hover:bg-red-600 px-3 py-1 rounded text-sm",children:"Logout"})]})]})}),e&&[M.SIAN_ADMIN,M.SIAN_STAFF,M.TENANT_ADMIN].includes(e.role)&&window.location.pathname!=="/"&&n.jsx("div",{className:"fixed top-4 right-4 z-50",children:n.jsxs("div",{className:"px-3 py-2 rounded-full text-white text-sm font-medium shadow-lg flex items-center space-x-2 bg-yellow-500",children:[n.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),n.jsx("span",{children:"Development Mode"})]})}),n.jsx("main",{className:(e&&e.role!=="public",""),children:n.jsxs(Ip,{children:[n.jsx(O,{path:"/",element:n.jsx(sf,{})}),n.jsx(O,{path:"/services",element:n.jsx(rf,{})}),n.jsx(O,{path:"/about",element:n.jsx(lf,{})}),n.jsx(O,{path:"/contact",element:n.jsx(af,{})}),n.jsx(O,{path:"/investment-platform",element:n.jsx(tf,{})}),n.jsx(O,{path:"/unauthorized",element:n.jsx(bf,{})}),n.jsx(O,{path:"/register",element:n.jsx(Vp,{})}),n.jsx(O,{path:"/login",element:n.jsx(er,{})}),n.jsx(O,{path:"/member-login",element:n.jsx(er,{})}),n.jsx(O,{path:"/gldmf-login",element:n.jsx(er,{})}),n.jsx(O,{path:"/sian-login",element:n.jsx(er,{})}),n.jsx(O,{path:"/member/dashboard",element:n.jsx(G,{requiredRole:M.MEMBER,children:n.jsx(Fl,{})})}),n.jsx(O,{path:"/member/portfolio",element:n.jsx(G,{requiredRole:M.MEMBER,children:n.jsx(Fl,{})})}),n.jsx(O,{path:"/member/apply-financing",element:n.jsx(G,{requiredRole:M.MEMBER,children:n.jsx(gc,{})})}),n.jsx(O,{path:"/admin/sian",element:n.jsx(G,{requiredRoles:[M.SIAN_ADMIN,M.SIAN_STAFF],children:n.jsx(Js,{})})}),n.jsx(O,{path:"/admin/sian/users",element:n.jsx(G,{requiredRoles:[M.SIAN_ADMIN],children:n.jsx(Zp,{})})}),n.jsx(O,{path:"/admin/sian/api",element:n.jsx(G,{requiredRoles:[M.SIAN_ADMIN],children:n.jsx(Jp,{})})}),n.jsx(O,{path:"/admin/sian/security",element:n.jsx(G,{requiredRoles:[M.SIAN_ADMIN],children:n.jsx(ef,{})})}),n.jsx(O,{path:"/admin/sian/system",element:n.jsx(G,{requiredRoles:[M.SIAN_ADMIN],children:n.jsx(uf,{})})}),n.jsx(O,{path:"/admin/sian/analytics",element:n.jsx(G,{requiredRoles:[M.SIAN_ADMIN,M.SIAN_STAFF],children:n.jsx(mf,{})})}),n.jsx(O,{path:"/admin/sian/tenants",element:n.jsx(G,{requiredRoles:[M.SIAN_ADMIN],children:n.jsx(Js,{})})}),n.jsx(O,{path:"/admin/gldmf",element:n.jsx(G,{requiredRoles:[M.TENANT_ADMIN,M.TENANT_STAFF],children:n.jsx(Qn,{})})}),n.jsx(O,{path:"/admin/gldmf/members",element:n.jsx(G,{requiredRoles:[M.TENANT_ADMIN,M.TENANT_STAFF],children:n.jsx(hf,{})})}),n.jsx(O,{path:"/admin/gldmf/loans",element:n.jsx(G,{requiredRoles:[M.TENANT_ADMIN,M.TENANT_STAFF],children:n.jsx(xf,{})})}),n.jsx(O,{path:"/admin/gldmf/loans/:loanId",element:n.jsx(G,{requiredRoles:[M.TENANT_ADMIN,M.TENANT_STAFF],children:n.jsx(pf,{})})}),n.jsx(O,{path:"/admin/gldmf/users/:userId",element:n.jsx(G,{requiredRoles:[M.TENANT_ADMIN,M.TENANT_STAFF],children:n.jsx(ff,{})})}),n.jsx(O,{path:"/admin/gldmf/investments",element:n.jsx(G,{requiredRoles:[M.TENANT_ADMIN,M.TENANT_STAFF],children:n.jsx(cf,{})})}),n.jsx(O,{path:"/admin/gldmf/users",element:n.jsx(G,{requiredRoles:[M.TENANT_ADMIN],children:n.jsx(df,{})})}),n.jsx(O,{path:"/admin/gldmf/reports",element:n.jsx(G,{requiredRoles:[M.TENANT_ADMIN,M.TENANT_STAFF],children:n.jsx(Qn,{})})}),n.jsx(O,{path:"/gldmf/dashboard",element:n.jsx(G,{requiredRoles:[M.TENANT_ADMIN,M.TENANT_STAFF],children:n.jsx(Qn,{})})}),n.jsx(O,{path:"/gldmf/ai-scoring",element:n.jsx(G,{requiredRoles:[M.TENANT_ADMIN,M.TENANT_STAFF],children:n.jsx(_l,{})})}),n.jsx(O,{path:"/sian/dashboard",element:n.jsx(G,{requiredRoles:[M.SIAN_ADMIN,M.SIAN_STAFF],children:n.jsx(Js,{})})}),n.jsx(O,{path:"/sian/ai-scoring",element:n.jsx(G,{requiredRoles:[M.SIAN_ADMIN,M.SIAN_STAFF],children:n.jsx(_l,{})})}),n.jsx(O,{path:"/ai-portal",element:n.jsx(G,{requiredRoles:[M.SIAN_ADMIN,M.SIAN_STAFF,M.TENANT_ADMIN,M.TENANT_STAFF],children:n.jsx(_l,{})})}),n.jsx(O,{path:"/gldmf/investment-process",element:n.jsx(G,{requiredRole:M.MEMBER,children:n.jsx(nf,{})})}),n.jsx(O,{path:"/sianfintech/wallet-funding",element:n.jsx(G,{requiredRole:M.MEMBER,children:n.jsx(vf,{})})}),n.jsx(O,{path:"/client-portal",element:n.jsx(G,{requiredRole:M.MEMBER,children:n.jsx(Fl,{})})}),n.jsx(O,{path:"/admin",element:n.jsx(G,{requiredRoles:[M.TENANT_ADMIN,M.TENANT_STAFF],children:n.jsx(Qn,{})})}),n.jsx(O,{path:"/adminDashboard",element:n.jsx(G,{requiredRoles:[M.TENANT_ADMIN,M.TENANT_STAFF],children:n.jsx(Qn,{})})}),n.jsx(O,{path:"/dashboard",element:n.jsx(G,{requiredRoles:[M.SIAN_ADMIN,M.SIAN_STAFF],children:n.jsx(Js,{})})}),n.jsx(O,{path:"/loan-application",element:n.jsx(G,{requiredRole:M.MEMBER,children:n.jsx(gc,{})})}),n.jsx(O,{path:"/mobile-money",element:n.jsx(G,{requiredRoles:[M.SIAN_ADMIN,M.SIAN_STAFF,M.TENANT_ADMIN,M.TENANT_STAFF,M.MEMBER],children:n.jsx(Yp,{})})}),n.jsx(O,{path:"*",element:n.jsx(_a,{to:"/",replace:!0})})]})})]})};function Nf(){return n.jsx(Bp,{children:n.jsx(Hp,{children:n.jsx(jf,{})})})}const wf=new $x;Ol.createRoot(document.getElementById("root")).render(n.jsx(Pc.StrictMode,{children:n.jsx(Gx,{client:wf,children:n.jsx(Nf,{})})}));
